"use strict";(self.webpackChunkangular_ice_cream_order_app=self.webpackChunkangular_ice_cream_order_app||[]).push([[179],{440:(Ie,re,D)=>{D.d(re,{nm:()=>Vt});var u=D(6351);D(5e3),D(5867);var ke=D(5861),F=D(9681),Ke=D(4859),ct=D(2090),At=D(1877);const xe=new Map,ve={activated:!1,tokenObservers:[]},ze={initialized:!1,enabled:!1};function Fe(me){return xe.get(me)||ve}function Ze(me,Me){xe.set(me,Me)}function it(){return ze}class Pn{constructor(Me,Be,wt,Lt,hn){if(this.operation=Me,this.retryPolicy=Be,this.getWaitDuration=wt,this.lowerBound=Lt,this.upperBound=hn,this.pending=null,this.nextErrorWaitInterval=Lt,Lt>hn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Me){var Be=this;return(0,ke.Z)(function*(){Be.stop();try{Be.pending=new ct.BH,yield function In(me){return new Promise(Me=>{setTimeout(Me,me)})}(Be.getNextRun(Me)),Be.pending.resolve(),yield Be.pending.promise,Be.pending=new ct.BH,yield Be.operation(),Be.pending.resolve(),yield Be.pending.promise,Be.process(!0).catch(()=>{})}catch(wt){Be.retryPolicy(wt)?Be.process(!1).catch(()=>{}):Be.stop()}})()}getNextRun(Me){if(Me)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Be=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Be}}}const ht=new ct.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function We(me){if(!Fe(me).activated)throw ht.create("use-before-activation",{appName:me.name})}function zn(me,Me){return _n.apply(this,arguments)}function _n(){return(_n=(0,ke.Z)(function*({url:me,body:Me},Be){const wt={"Content-Type":"application/json"},Lt=Be.getImmediate({optional:!0});if(Lt){const Vi=yield Lt.getHeartbeatsHeader();Vi&&(wt["X-Firebase-Client"]=Vi)}const hn={method:"POST",body:JSON.stringify(Me),headers:wt};let pr,Zn;try{pr=yield fetch(me,hn)}catch(Vi){throw ht.create("fetch-network-error",{originalErrorMessage:Vi.message})}if(200!==pr.status)throw ht.create("fetch-status-error",{httpStatus:pr.status});try{Zn=yield pr.json()}catch(Vi){throw ht.create("fetch-parse-error",{originalErrorMessage:Vi.message})}const Qt=Zn.ttl.match(/^([\d.]+)(s)$/);if(!Qt||!Qt[2]||isNaN(Number(Qt[1])))throw ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Zn.ttl}`});const Fr=1e3*Number(Qt[1]),es=Date.now();return{token:Zn.token,expireTimeMillis:es+Fr,issuedAtTimeMillis:es}})).apply(this,arguments)}function $n(me,Me){const{projectId:Be,appId:wt,apiKey:Lt}=me.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Be}/apps/${wt}:exchangeDebugToken?key=${Lt}`,body:{debug_token:Me}}}const sn="firebase-app-check-store";let rr=null;function Mr(){return rr||(rr=new Promise((me,Me)=>{try{const Be=indexedDB.open("firebase-app-check-database",1);Be.onsuccess=wt=>{me(wt.target.result)},Be.onerror=wt=>{var Lt;Me(ht.create("storage-open",{originalErrorMessage:null===(Lt=wt.target.error)||void 0===Lt?void 0:Lt.message}))},Be.onupgradeneeded=wt=>{0===wt.oldVersion&&wt.target.result.createObjectStore(sn,{keyPath:"compositeKey"})}}catch(Be){Me(ht.create("storage-open",{originalErrorMessage:Be.message}))}}),rr)}function at(){return(at=(0,ke.Z)(function*(me,Me){const wt=(yield Mr()).transaction(sn,"readwrite"),hn=wt.objectStore(sn).put({compositeKey:me,value:Me});return new Promise((pr,Zn)=>{hn.onsuccess=Qt=>{pr()},wt.onerror=Qt=>{var Fr;Zn(ht.create("storage-set",{originalErrorMessage:null===(Fr=Qt.target.error)||void 0===Fr?void 0:Fr.message}))}})})).apply(this,arguments)}const en=new At.Yd("@firebase/app-check");function cr(me,Me){return(0,ct.hl)()?function dt(me,Me){return function It(me,Me){return at.apply(this,arguments)}(function xn(me){return`${me.options.appId}-${me.name}`}(me),Me)}(me,Me).catch(Be=>{en.warn(`Failed to write token to IndexedDB. Error: ${Be}`)}):Promise.resolve()}function kn(){return it().enabled}function yn(){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,ke.Z)(function*(){const me=it();if(me.enabled&&me.token)return me.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Zt={error:"UNKNOWN_ERROR"};function on(me){return ct.US.encodeString(JSON.stringify(me),!1)}function mn(me){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,ke.Z)(function*(me,Me=!1){const Be=me.app;We(Be);const wt=Fe(Be);let hn,Lt=wt.token;if(!Lt){const Qt=yield wt.cachedTokenPromise;Qt&&xt(Qt)&&(Lt=Qt)}if(!Me&&Lt&&xt(Lt))return{token:Lt.token};let Zn,pr=!1;if(kn()){wt.exchangeTokenPromise||(wt.exchangeTokenPromise=zn($n(Be,yield yn()),me.heartbeatServiceProvider).then(Fr=>(wt.exchangeTokenPromise=void 0,Fr)),pr=!0);const Qt=yield wt.exchangeTokenPromise;return yield cr(Be,Qt),Ze(Be,Object.assign(Object.assign({},wt),{token:Qt})),{token:Qt.token}}try{wt.exchangeTokenPromise||(wt.exchangeTokenPromise=wt.provider.getToken().then(Qt=>(wt.exchangeTokenPromise=void 0,Qt)),pr=!0),Lt=yield wt.exchangeTokenPromise}catch(Qt){"appCheck/throttled"===Qt.code?en.warn(Qt.message):en.error(Qt),hn=Qt}return Lt?(Zn={token:Lt.token},Ze(Be,Object.assign(Object.assign({},wt),{token:Lt})),yield cr(Be,Lt)):Zn=Re(hn),pr&&je(Be,Zn),Zn})).apply(this,arguments)}function de(me,Me){const Be=Fe(me),wt=Be.tokenObservers.filter(Lt=>Lt.next!==Me);0===wt.length&&Be.tokenRefresher&&Be.tokenRefresher.isRunning()&&Be.tokenRefresher.stop(),Ze(me,Object.assign(Object.assign({},Be),{tokenObservers:wt}))}function we(me){const{app:Me}=me,Be=Fe(Me);let wt=Be.tokenRefresher;wt||(wt=function rt(me){const{app:Me}=me;return new Pn((0,ke.Z)(function*(){let wt;if(wt=Fe(Me).token?yield mn(me,!0):yield mn(me),wt.error)throw wt.error}),()=>!0,()=>{const Be=Fe(Me);if(Be.token){let wt=Be.token.issuedAtTimeMillis+.5*(Be.token.expireTimeMillis-Be.token.issuedAtTimeMillis)+3e5;return wt=Math.min(wt,Be.token.expireTimeMillis-3e5),Math.max(0,wt-Date.now())}return 0},3e4,96e4)}(me),Ze(Me,Object.assign(Object.assign({},Be),{tokenRefresher:wt}))),!wt.isRunning()&&Be.isTokenAutoRefreshEnabled&&wt.start()}function je(me,Me){const Be=Fe(me).tokenObservers;for(const wt of Be)try{"EXTERNAL"===wt.type&&null!=Me.error?wt.error(Me.error):wt.next(Me)}catch(Lt){}}function xt(me){return me.expireTimeMillis-Date.now()>0}function Re(me){return{token:on(Zt),error:me}}class ye{constructor(Me,Be){this.app=Me,this.heartbeatServiceProvider=Be}_delete(){const{tokenObservers:Me}=Fe(this.app);for(const Be of Me)de(this.app,Be.next);return Promise.resolve()}}const pt="app-check-internal";!function Ge(){(0,F._registerComponent)(new Ke.wA("app-check",me=>function se(me,Me){return new ye(me,Me)}(me.getProvider("app").getImmediate(),me.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((me,Me,Be)=>{me.getProvider(pt).initialize()})),(0,F._registerComponent)(new Ke.wA(pt,me=>function Se(me){return{getToken:Me=>mn(me,Me),addTokenListener:Me=>function _e(me,Me,Be,wt){const{app:Lt}=me,hn=Fe(Lt),pr={next:Be,error:wt,type:Me};if(Ze(Lt,Object.assign(Object.assign({},hn),{tokenObservers:[...hn.tokenObservers,pr]})),hn.token&&xt(hn.token)){const Zn=hn.token;Promise.resolve().then(()=>{Be({token:Zn.token}),we(me)}).catch(()=>{})}hn.cachedTokenPromise.then(()=>we(me))}(me,"INTERNAL",Me),removeTokenListener:Me=>de(me.app,Me)}}(me.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)("@firebase/app-check","0.5.7")}();class Vt{constructor(){return(0,u.vb)("app-check")}}"undefined"!=typeof window&&window},3385:(Ie,re,D)=>{D.d(re,{zQ:()=>Fe,ww:()=>Ze,rT:()=>At,f7:()=>ve,L6:()=>Ke,_Q:()=>ct,lh:()=>xe,Qv:()=>F,nw:()=>ze});var u=D(5e3),B=D(7579),j=D(9646),te=D(8306),Q=D(8996),ce=D(6451),ue=D(3900),le=D(576);function ee(it,He){return(0,le.m)(He)?(0,ue.w)(()=>it,He):(0,ue.w)(()=>it)}var X=D(5363),ie=D(4004),fe=D(4782),et=D(590),Ye=D(9468),Qe=D(9300),nt=D(6351),Ne=D(2011),Ve=D(9808),vt=D(440),Tt=D(127);const F=new u.OlP("angularfire2.auth.use-emulator"),Ke=new u.OlP("angularfire2.auth.settings"),ct=new u.OlP("angularfire2.auth.tenant-id"),At=new u.OlP("angularfire2.auth.langugage-code"),xe=new u.OlP("angularfire2.auth.use-device-language"),ve=new u.OlP("angularfire.auth.persistence"),ze=(it,He,$t,Mn,Qn,Ut,Bt,Pn)=>(0,Ne.cc)(`${it.name}.auth`,"AngularFireAuth",it.name,()=>{const In=He.runOutsideAngular(()=>it.auth());if($t&&In.useEmulator(...$t),Mn&&(In.tenantId=Mn),In.languageCode=Qn,Ut&&In.useDeviceLanguage(),Bt)for(const[gt,ht]of Object.entries(Bt))In.settings[gt]=ht;return Pn&&In.setPersistence(Pn),In},[$t,Mn,Qn,Ut,Bt,Pn]);let Fe=(()=>{class it{constructor($t,Mn,Qn,Ut,Bt,Pn,In,gt,ht,Ue,We,Et){const ln=new B.x,Nn=(0,j.of)(void 0).pipe((0,X.Q)(Bt.outsideAngular),(0,ue.w)(()=>Ut.runOutsideAngular(()=>Promise.resolve().then(D.bind(D,820)))),(0,ie.U)(()=>(0,Ne.on)($t,Ut,Mn)),(0,ie.U)(zn=>ze(zn,Ut,Pn,gt,ht,Ue,In,We)),(0,fe.d)({bufferSize:1,refCount:!1}));if((0,Ve.PM)(Qn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,j.of)(null);else{Nn.pipe((0,et.P)()).subscribe();const _n=Nn.pipe((0,ue.w)($n=>$n.getRedirectResult().then(sr=>sr,()=>null)),nt.iC,(0,fe.d)({bufferSize:1,refCount:!1})),fn=Nn.pipe((0,ue.w)($n=>new te.y(sr=>({unsubscribe:Ut.runOutsideAngular(()=>$n.onAuthStateChanged(qt=>sr.next(qt),qt=>sr.error(qt),()=>sr.complete()))})))),Hn=Nn.pipe((0,ue.w)($n=>new te.y(sr=>({unsubscribe:Ut.runOutsideAngular(()=>$n.onIdTokenChanged(qt=>sr.next(qt),qt=>sr.error(qt),()=>sr.complete()))}))));this.authState=_n.pipe(ee(fn),(0,Ye.R)(Bt.outsideAngular),(0,X.Q)(Bt.insideAngular)),this.user=_n.pipe(ee(Hn),(0,Ye.R)(Bt.outsideAngular),(0,X.Q)(Bt.insideAngular)),this.idToken=this.user.pipe((0,ue.w)($n=>$n?(0,Q.D)($n.getIdToken()):(0,j.of)(null))),this.idTokenResult=this.user.pipe((0,ue.w)($n=>$n?(0,Q.D)($n.getIdTokenResult()):(0,j.of)(null))),this.credential=(0,ce.T)(_n,ln,this.authState.pipe((0,Qe.h)($n=>!$n))).pipe((0,ie.U)($n=>(null==$n?void 0:$n.user)?$n:null),(0,Ye.R)(Bt.outsideAngular),(0,X.Q)(Bt.insideAngular))}return(0,Ne.pX)(this,Nn,Ut,{spy:{apply:(zn,_n,fn)=>{(zn.startsWith("signIn")||zn.startsWith("createUser"))&&fn.then(Hn=>ln.next(Hn))}}})}}return it.\u0275fac=function($t){return new($t||it)(u.LFG(Ne.Dh),u.LFG(Ne.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(nt.HU),u.LFG(F,8),u.LFG(Ke,8),u.LFG(ct,8),u.LFG(At,8),u.LFG(xe,8),u.LFG(ve,8),u.LFG(vt.nm,8))},it.\u0275prov=u.Yz7({token:it,factory:it.\u0275fac,providedIn:"any"}),it})(),Ze=(()=>{class it{constructor(){Tt.Z.registerVersion("angularfire",nt.q4.full,"auth-compat")}}return it.\u0275fac=function($t){return new($t||it)},it.\u0275mod=u.oAB({type:it}),it.\u0275inj=u.cJS({providers:[Fe]}),it})()},1903:(Ie,re,D)=>{D.d(re,{KQ:()=>hu,JS:()=>Bo});var u=D(5e3),B=D(4986),j=D(8306),te=D(9646),Q=D(6451),ce=D(4482),ue=D(5403),ee=D(4004),X=D(3099),ie=D(3900),fe=D(5026),et=D(1884),Ye=D(1365),Qe=D(6351),nt=D(2011),Ve=(D(820),D(3942)),vt=D(4859),Tt=D(5861),ke=D(9681),F=D(2090),Ke=D(1877);const ct="@firebase/database";let xe="";function ve(o){xe=o}class ze{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,s){null==s?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,F.Pz)(s))}get(i){const s=this.domStorage_.getItem(this.prefixedName_(i));return null==s?null:(0,F.cI)(s)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class Fe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,s){null==s?delete this.cache_[i]:this.cache_[i]=s}get(i){return(0,F.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const Ze=function(o){try{if("undefined"!=typeof window&&void 0!==window[o]){const i=window[o];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new ze(i)}}catch(i){}return new Fe},it=Ze("localStorage"),He=Ze("sessionStorage"),$t=new Ke.Yd("@firebase/database"),Mn=function(){let o=1;return function(){return o++}}(),Qn=function(o){const i=(0,F.dS)(o),s=new F.gQ;s.update(i);const c=s.digest();return F.US.encodeByteArray(c)},Ut=function(...o){let i="";for(let s=0;s<o.length;s++){const c=o[s];Array.isArray(c)||c&&"object"==typeof c&&"number"==typeof c.length?i+=Ut.apply(null,c):i+="object"==typeof c?(0,F.Pz)(c):c,i+=" "}return i};let Bt=null,Pn=!0;const In=function(o,i){(0,F.hu)(!i||!0===o||!1===o,"Can't turn on custom loggers persistently."),!0===o?($t.logLevel=Ke.in.VERBOSE,Bt=$t.log.bind($t),i&&He.set("logging_enabled",!0)):"function"==typeof o?Bt=o:(Bt=null,He.remove("logging_enabled"))},gt=function(...o){if(!0===Pn&&(Pn=!1,null===Bt&&!0===He.get("logging_enabled")&&In(!0)),Bt){const i=Ut.apply(null,o);Bt(i)}},ht=function(o){return function(...i){gt(o,...i)}},Ue=function(...o){const i="FIREBASE INTERNAL ERROR: "+Ut(...o);$t.error(i)},We=function(...o){const i=`FIREBASE FATAL ERROR: ${Ut(...o)}`;throw $t.error(i),new Error(i)},Et=function(...o){const i="FIREBASE WARNING: "+Ut(...o);$t.warn(i)},Nn=function(o){return"number"==typeof o&&(o!=o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},_n="[MIN_NAME]",fn="[MAX_NAME]",Hn=function(o,i){if(o===i)return 0;if(o===_n||i===fn)return-1;if(i===_n||o===fn)return 1;{const s=at(o),c=at(i);return null!==s?null!==c?s-c==0?o.length-i.length:s-c:-1:null!==c?1:o<i?-1:1}},$n=function(o,i){return o===i?0:o<i?-1:1},sr=function(o,i){if(i&&o in i)return i[o];throw new Error("Missing required key ("+o+") in object: "+(0,F.Pz)(i))},qt=function(o){if("object"!=typeof o||null===o)return(0,F.Pz)(o);const i=[];for(const c in o)i.push(c);i.sort();let s="{";for(let c=0;c<i.length;c++)0!==c&&(s+=","),s+=(0,F.Pz)(i[c]),s+=":",s+=qt(o[i[c]]);return s+="}",s},sn=function(o,i){const s=o.length;if(s<=i)return[o];const c=[];for(let m=0;m<s;m+=i)c.push(o.substring(m,m+i>s?s:m+i));return c};function Rn(o,i){for(const s in o)o.hasOwnProperty(s)&&i(s,o[s])}const rr=function(o){(0,F.hu)(!Nn(o),"Invalid JSON number");const c=1023;let m,T,x,Y,oe;0===o?(T=0,x=0,m=1/o==-1/0?1:0):(m=o<0,(o=Math.abs(o))>=Math.pow(2,1-c)?(Y=Math.min(Math.floor(Math.log(o)/Math.LN2),c),T=Y+c,x=Math.round(o*Math.pow(2,52-Y)-Math.pow(2,52))):(T=0,x=Math.round(o/Math.pow(2,-1074))));const De=[];for(oe=52;oe;oe-=1)De.push(x%2?1:0),x=Math.floor(x/2);for(oe=11;oe;oe-=1)De.push(T%2?1:0),T=Math.floor(T/2);De.push(m?1:0),De.reverse();const ut=De.join("");let st="";for(oe=0;oe<64;oe+=8){let Mt=parseInt(ut.substr(oe,8),2).toString(16);1===Mt.length&&(Mt="0"+Mt),st+=Mt}return st.toLowerCase()},be=new RegExp("^-?(0*)\\d{1,10}$"),Pe=-2147483648,It=2147483647,at=function(o){if(be.test(o)){const i=Number(o);if(i>=Pe&&i<=It)return i}return null},bt=function(o){try{o()}catch(i){setTimeout(()=>{throw Et("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},xn=function(o,i){const s=setTimeout(o,i);return"object"==typeof s&&s.unref&&s.unref(),s};class en{constructor(i,s){this.appName_=i,this.appCheckProvider=s,this.appCheck=null==s?void 0:s.getImmediate({optional:!0}),this.appCheck||null==s||s.get().then(c=>this.appCheck=c)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((s,c)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(s,c):s(null)},0)})}addTokenChangeListener(i){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(c=>c.addTokenListener(i))}notifyForInvalidToken(){Et(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class un{constructor(i,s,c){this.appName_=i,this.firebaseOptions_=s,this.authProvider_=c,this.auth_=null,this.auth_=c.getImmediate({optional:!0}),this.auth_||c.onInit(m=>this.auth_=m)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(s=>s&&"auth/token-not-initialized"===s.code?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,c)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(s,c):s(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(s=>s.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(s=>s.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(i)}}let Dr=(()=>{class o{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return o.OWNER="owner",o})();const Wt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mn="websocket",Kt="long_polling";class _e{constructor(i,s,c,m,T=!1,x="",Y=!1){this.secure=s,this.namespace=c,this.webSocketOnly=m,this.nodeAdmin=T,this.persistenceKey=x,this.includeNamespaceInQueryParams=Y,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=it.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&it.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function we(o,i,s){let c;if((0,F.hu)("string"==typeof i,"typeof type must == string"),(0,F.hu)("object"==typeof s,"typeof params must == object"),i===mn)c=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else{if(i!==Kt)throw new Error("Unknown connection type: "+i);c=(o.secure?"https://":"http://")+o.internalHost+"/.lp?"}(function de(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(o)&&(s.ns=o.namespace);const m=[];return Rn(s,(T,x)=>{m.push(T+"="+x)}),c+m.join("&")}class rt{constructor(){this.counters_={}}incrementCounter(i,s=1){(0,F.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=s}get(){return(0,F.p$)(this.counters_)}}const je={},xt={};function Re(o){const i=o.toString();return je[i]||(je[i]=new rt),je[i]}class se{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,s){this.closeAfterResponse=i,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,s){for(this.pendingResponses[i]=s;this.pendingResponses[this.currentResponseNum];){const c=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let m=0;m<c.length;++m)c[m]&&bt(()=>{this.onMessage_(c[m])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class yr{constructor(i,s,c,m,T,x,Y){this.connId=i,this.repoInfo=s,this.applicationId=c,this.appCheckToken=m,this.authToken=T,this.transportSessionId=x,this.lastSessionId=Y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ht(i),this.stats_=Re(s),this.urlFn=oe=>(this.appCheckToken&&(oe.ac=this.appCheckToken),we(s,Kt,oe))}open(i,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new se(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(o){if((0,F.Yr)()||"complete"===document.readyState)o();else{let i=!1;const s=function(){document.body?i||(i=!0,o()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ni((...T)=>{const[x,Y,oe,De,ut]=T;if(this.incrementIncomingBytes_(T),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===x)this.id=Y,this.password=oe;else{if("close"!==x)throw new Error("Unrecognized command received: "+x);Y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Y,()=>{this.onClosed_()})):this.onClosed_()}},(...T)=>{const[x,Y]=T;this.incrementIncomingBytes_(T),this.myPacketOrderer.handleResponse(x,Y)},()=>{this.onClosed_()},this.urlFn);const c={start:"t"};c.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(c.cb=this.scriptTagHolder.uniqueCallbackIdentifier),c.v="5",this.transportSessionId&&(c.s=this.transportSessionId),this.lastSessionId&&(c.ls=this.lastSessionId),this.applicationId&&(c.p=this.applicationId),this.appCheckToken&&(c.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Wt.test(location.hostname)&&(c.r="f");const m=this.urlFn(c);this.log_("Connecting via long-poll to "+m),this.scriptTagHolder.addTag(m,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yr.forceAllow_=!0}static forceDisallow(){yr.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!yr.forceAllow_&&(yr.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const s=(0,F.Pz)(i);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const c=(0,F.h$)(s),m=sn(c,1840);for(let T=0;T<m.length;T++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,m.length,m[T]),this.curSegmentNum++}addDisconnectPingFrame(i,s){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const c={dframe:"t"};c.id=i,c.pw=s,this.myDisconnFrame.src=this.urlFn(c),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const s=(0,F.Pz)(i).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class ni{constructor(i,s,c,m){if(this.onDisconnect=c,this.urlFn=m,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=i,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=Mn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=ni.createIFrame_();let T="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(T='<script>document.domain="'+document.domain+'";<\/script>');const x="<html><body>"+T+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(x),this.myIFrame.doc.close()}catch(Y){gt("frame writing exception"),Y.stack&&gt(Y.stack),gt(Y)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||gt("No IE domain setting required")}catch(s){const c=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+c+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,s){for(this.myID=i,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let s=this.urlFn(i),c="",m=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+c.length<=1870;){const x=this.pendingSegs.shift();c=c+"&seg"+m+"="+x.seg+"&ts"+m+"="+x.ts+"&d"+m+"="+x.d,m++}return s+=c,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(i,s,c){this.pendingSegs.push({seg:i,ts:s,d:c}),this.alive&&this.newRequest_()}addLongPollTag_(i,s){this.outstandingRequests.add(s);const c=()=>{this.outstandingRequests.delete(s),this.newRequest_()},m=setTimeout(c,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(m),c()})}addTag(i,s){(0,F.Yr)()?this.doNodeLongPoll(i,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const c=this.myIFrame.doc.createElement("script");c.type="text/javascript",c.async=!0,c.src=i,c.onload=c.onreadystatechange=function(){const m=c.readyState;(!m||"loaded"===m||"complete"===m)&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),s())},c.onerror=()=>{gt("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(c)}catch(c){}},Math.floor(1))}}let Hr=null;"undefined"!=typeof MozWebSocket?Hr=MozWebSocket:"undefined"!=typeof WebSocket&&(Hr=WebSocket);let An=(()=>{class o{constructor(s,c,m,T,x,Y,oe){this.connId=s,this.applicationId=m,this.appCheckToken=T,this.authToken=x,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ht(this.connId),this.stats_=Re(c),this.connURL=o.connectionURL_(c,Y,oe,T),this.nodeAdmin=c.nodeAdmin}static connectionURL_(s,c,m,T){const x={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&Wt.test(location.hostname)&&(x.r="f"),c&&(x.s=c),m&&(x.ls=m),T&&(x.ac=T),we(s,mn,x)}open(s,c){this.onDisconnect=c,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,it.set("previous_websocket_failure",!0);try{if((0,F.Yr)()){const T={headers:{"User-Agent":`Firebase/5/${xe}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(T.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(T.headers["X-Firebase-AppCheck"]=this.appCheckToken);const x=process.env,Y=0===this.connURL.indexOf("wss://")?x.HTTPS_PROXY||x.https_proxy:x.HTTP_PROXY||x.http_proxy;Y&&(T.proxy={origin:Y}),this.mySock=new Hr(this.connURL,[],T)}else this.mySock=new Hr(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(m){this.log_("Error instantiating WebSocket.");const T=m.message||m.data;return T&&this.log_(T),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=m=>{this.handleIncomingFrame(m)},this.mySock.onerror=m=>{this.log_("WebSocket error.  Closing connection.");const T=m.message||m.data;T&&this.log_(T),this.onClosed_()}}start(){}static forceDisallow(){o.forceDisallow_=!0}static isAvailable(){let s=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const m=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);m&&m.length>1&&parseFloat(m[1])<4.4&&(s=!0)}return!s&&null!==Hr&&!o.forceDisallow_}static previouslyFailed(){return it.isInMemoryStorage||!0===it.get("previous_websocket_failure")}markConnectionHealthy(){it.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const c=this.frames.join("");this.frames=null;const m=(0,F.cI)(c);this.onMessage(m)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const c=Number(s);if(!isNaN(c))return this.handleNewFrameCount_(c),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const c=s.data;if(this.bytesReceived+=c.length,this.stats_.incrementCounter("bytes_received",c.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(c);else{const m=this.extractFrameCount_(c);null!==m&&this.appendFrame_(m)}}send(s){this.resetKeepAlive();const c=(0,F.Pz)(s);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const m=sn(c,16384);m.length>1&&this.sendString_(String(m.length));for(let T=0;T<m.length;T++)this.sendString_(m[T])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(c){this.log_("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o})();class Ei{constructor(i){this.initTransports_(i)}static get ALL_TRANSPORTS(){return[yr,An]}initTransports_(i){const s=An&&An.isAvailable();let c=s&&!An.previouslyFailed();if(i.webSocketOnly&&(s||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[An];else{const m=this.transports_=[];for(const T of Ei.ALL_TRANSPORTS)T&&T.isAvailable()&&m.push(T)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class bi{constructor(i,s,c,m,T,x,Y,oe,De,ut){this.id=i,this.repoInfo_=s,this.applicationId_=c,this.appCheckToken_=m,this.authToken_=T,this.onMessage_=x,this.onReady_=Y,this.onDisconnect_=oe,this.onKill_=De,this.lastSessionId=ut,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ht("c:"+this.id+":"),this.transportManager_=new Ei(s),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),c=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,c)},Math.floor(0));const m=i.healthyTimeout||0;m>0&&(this.healthyTimeout_=xn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(m)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return s=>{i===this.conn_?this.onConnectionLost_(s):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return s=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(s):i===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const s=i.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const s=sr("t",i),c=sr("d",i);if("c"===s)this.onSecondaryControl_(c);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(c)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const s=sr("t",i),c=sr("d",i);"c"===s?this.onControl_(c):"d"===s&&this.onDataMessage_(c)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const s=sr("t",i);if("d"in i){const c=i.d;if("h"===s)this.onHandshake_(c);else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let m=0;m<this.pendingDataMessages.length;++m)this.onDataMessage_(this.pendingDataMessages[m]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(c):"r"===s?this.onReset_(c):"e"===s?Ue("Server Error: "+c):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ue("Unknown control packet command: "+s)}}onHandshake_(i){const s=i.ts,c=i.v,m=i.h;this.sessionId=i.s,this.repoInfo_.host=m,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==c&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),c=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,c),xn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,s){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(it.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Wr{put(i,s,c,m){}merge(i,s,c,m){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,s,c){}onDisconnectMerge(i,s,c){}onDisconnectCancel(i,s){}reportStats(i){}}class Ss{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,F.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...s){if(Array.isArray(this.listeners_[i])){const c=[...this.listeners_[i]];for(let m=0;m<c.length;m++)c[m].callback.apply(c[m].context,s)}}on(i,s,c){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:s,context:c});const m=this.getInitialEvent(i);m&&s.apply(c,m)}off(i,s,c){this.validateEventType_(i);const m=this.listeners_[i]||[];for(let T=0;T<m.length;T++)if(m[T].callback===s&&(!c||c===m[T].context))return void m.splice(T,1)}validateEventType_(i){(0,F.hu)(this.allowedEvents_.find(s=>s===i),"Unknown event: "+i)}}class os extends Ss{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new os}getInitialEvent(i){return(0,F.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class hr{constructor(i,s){if(void 0===s){this.pieces_=i.split("/");let c=0;for(let m=0;m<this.pieces_.length;m++)this.pieces_[m].length>0&&(this.pieces_[c]=this.pieces_[m],c++);this.pieces_.length=c,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=s}toString(){let i="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(i+="/"+this.pieces_[s]);return i||"/"}}function ar(){return new hr("")}function me(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function Me(o){return o.pieces_.length-o.pieceNum_}function Be(o){let i=o.pieceNum_;return i<o.pieces_.length&&i++,new hr(o.pieces_,i)}function wt(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function hn(o,i=0){return o.pieces_.slice(o.pieceNum_+i)}function pr(o){if(o.pieceNum_>=o.pieces_.length)return null;const i=[];for(let s=o.pieceNum_;s<o.pieces_.length-1;s++)i.push(o.pieces_[s]);return new hr(i,0)}function Zn(o,i){const s=[];for(let c=o.pieceNum_;c<o.pieces_.length;c++)s.push(o.pieces_[c]);if(i instanceof hr)for(let c=i.pieceNum_;c<i.pieces_.length;c++)s.push(i.pieces_[c]);else{const c=i.split("/");for(let m=0;m<c.length;m++)c[m].length>0&&s.push(c[m])}return new hr(s,0)}function Qt(o){return o.pieceNum_>=o.pieces_.length}function Fr(o,i){const s=me(o),c=me(i);if(null===s)return i;if(s===c)return Fr(Be(o),Be(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+o+")")}function es(o,i){const s=hn(o,0),c=hn(i,0);for(let m=0;m<s.length&&m<c.length;m++){const T=Hn(s[m],c[m]);if(0!==T)return T}return s.length===c.length?0:s.length<c.length?-1:1}function Vi(o,i){if(Me(o)!==Me(i))return!1;for(let s=o.pieceNum_,c=i.pieceNum_;s<=o.pieces_.length;s++,c++)if(o.pieces_[s]!==i.pieces_[c])return!1;return!0}function ai(o,i){let s=o.pieceNum_,c=i.pieceNum_;if(Me(o)>Me(i))return!1;for(;s<o.pieces_.length;){if(o.pieces_[s]!==i.pieces_[c])return!1;++s,++c}return!0}class mi{constructor(i,s){this.errorPrefix_=s,this.parts_=hn(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let c=0;c<this.parts_.length;c++)this.byteLength_+=(0,F.ug)(this.parts_[c]);ts(this)}}function ts(o){if(o.byteLength_>768)throw new Error(o.errorPrefix_+"has a key path longer than 768 bytes ("+o.byteLength_+").");if(o.parts_.length>32)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+li(o))}function li(o){return 0===o.parts_.length?"":"in property '"+o.parts_.join(".")+"'"}class ns extends Ss{constructor(){let i,s;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(s="visibilitychange",i="hidden"):void 0!==document.mozHidden?(s="mozvisibilitychange",i="mozHidden"):void 0!==document.msHidden?(s="msvisibilitychange",i="msHidden"):void 0!==document.webkitHidden&&(s="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const c=!document[i];c!==this.visible_&&(this.visible_=c,this.trigger("visible",c))},!1)}static getInstance(){return new ns}getInitialEvent(i){return(0,F.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const xi=1e3;let ps,Hi=(()=>{class o extends Wr{constructor(s,c,m,T,x,Y,oe,De){if(super(),this.repoInfo_=s,this.applicationId_=c,this.onDataUpdate_=m,this.onConnectStatus_=T,this.onServerInfoUpdate_=x,this.authTokenProvider_=Y,this.appCheckTokenProvider_=oe,this.authOverride_=De,this.id=o.nextPersistentConnectionId_++,this.log_=ht("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,De&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ns.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&os.getInstance().on("online",this.onOnline_,this)}sendRequest(s,c,m){const T=++this.requestNumber_,x={r:T,a:s,b:c};this.log_((0,F.Pz)(x)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(x),m&&(this.requestCBHash_[T]=m)}get(s){this.initConnection_();const c=new F.BH,m={p:s._path.toString(),q:s._queryObject},T={action:"g",request:m,onComplete:Y=>{const oe=Y.d;"ok"===Y.s?(this.onDataUpdate_(m.p,oe,!1,null),c.resolve(oe)):c.reject(oe)}};this.outstandingGets_.push(T),this.outstandingGetCount_++;const x=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const Y=this.outstandingGets_[x];void 0===Y||T!==Y||(delete this.outstandingGets_[x],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+x+" timed out on connection"),c.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(x),c.promise}listen(s,c,m,T){this.initConnection_();const x=s._queryIdentifier,Y=s._path.toString();this.log_("Listen called for "+Y+" "+x),this.listens.has(Y)||this.listens.set(Y,new Map),(0,F.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(Y).has(x),"listen() called twice for same path/queryId.");const oe={onComplete:T,hashFn:c,query:s,tag:m};this.listens.get(Y).set(x,oe),this.connected_&&this.sendListen_(oe)}sendGet_(s){const c=this.outstandingGets_[s];this.sendRequest("g",c.request,m=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),c.onComplete&&c.onComplete(m)})}sendListen_(s){const c=s.query,m=c._path.toString(),T=c._queryIdentifier;this.log_("Listen on "+m+" for "+T);const x={p:m};s.tag&&(x.q=c._queryObject,x.t=s.tag),x.h=s.hashFn(),this.sendRequest("q",x,oe=>{const De=oe.d,ut=oe.s;o.warnOnListenWarnings_(De,c),(this.listens.get(m)&&this.listens.get(m).get(T))===s&&(this.log_("listen response",oe),"ok"!==ut&&this.removeListen_(m,T),s.onComplete&&s.onComplete(ut,De))})}static warnOnListenWarnings_(s,c){if(s&&"object"==typeof s&&(0,F.r3)(s,"w")){const m=(0,F.DV)(s,"w");if(Array.isArray(m)&&~m.indexOf("no_index")){const T='".indexOn": "'+c._queryParams.getIndex().toString()+'"',x=c._path.toString();Et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${T} at ${x} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,F.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,c=(0,F.w9)(s)?"auth":"gauth",m={cred:s};null===this.authOverride_?m.noauth=!0:"object"==typeof this.authOverride_&&(m.authvar=this.authOverride_),this.sendRequest(c,m,T=>{const x=T.s,Y=T.d||"error";this.authToken_===s&&("ok"===x?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(x,Y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const c=s.s,m=s.d||"error";"ok"===c?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(c,m)})}unlisten(s,c){const m=s._path.toString(),T=s._queryIdentifier;this.log_("Unlisten called for "+m+" "+T),(0,F.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(m,T)&&this.connected_&&this.sendUnlisten_(m,T,s._queryObject,c)}sendUnlisten_(s,c,m,T){this.log_("Unlisten on "+s+" for "+c);const x={p:s};T&&(x.q=m,x.t=T),this.sendRequest("n",x)}onDisconnectPut(s,c,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,c,m):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:c,onComplete:m})}onDisconnectMerge(s,c,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,c,m):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:c,onComplete:m})}onDisconnectCancel(s,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,c):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:c})}sendOnDisconnect_(s,c,m,T){const x={p:c,d:m};this.log_("onDisconnect "+s,x),this.sendRequest(s,x,Y=>{T&&setTimeout(()=>{T(Y.s,Y.d)},Math.floor(0))})}put(s,c,m,T){this.putInternal("p",s,c,m,T)}merge(s,c,m,T){this.putInternal("m",s,c,m,T)}putInternal(s,c,m,T,x){this.initConnection_();const Y={p:c,d:m};void 0!==x&&(Y.h=x),this.outstandingPuts_.push({action:s,request:Y,onComplete:T}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+c)}sendPut_(s){const c=this.outstandingPuts_[s].action,m=this.outstandingPuts_[s].request,T=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(c,m,x=>{this.log_(c+" response",x),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),T&&T(x.s,x.d)})}reportStats(s){if(this.connected_){const c={c:s};this.log_("reportStats",c),this.sendRequest("s",c,m=>{"ok"!==m.s&&this.log_("reportStats","Error sending stats: "+m.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,F.Pz)(s));const c=s.r,m=this.requestCBHash_[c];m&&(delete this.requestCBHash_[c],m(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,c){this.log_("handleServerMessage",s,c),"d"===s?this.onDataUpdate_(c.p,c.d,!1,c.t):"m"===s?this.onDataUpdate_(c.p,c.d,!0,c.t):"c"===s?this.onListenRevoked_(c.p,c.q):"ac"===s?this.onAuthRevoked_(c.s,c.d):"apc"===s?this.onAppCheckRevoked_(c.s,c.d):"sd"===s?this.onSecurityDebugPacket_(c):Ue("Unrecognized action received from server: "+(0,F.Pz)(s)+"\nAre you using the latest client?")}onReady_(s,c){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=c,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xi,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=xi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=xi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let c=Math.max(0,this.reconnectDelay_-s);c=Math.random()*c,this.log_("Trying to reconnect in "+c+"ms"),this.scheduleConnect_(c),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,Tt.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const c=s.onDataMessage_.bind(s),m=s.onReady_.bind(s),T=s.onRealtimeDisconnect_.bind(s),x=s.id+":"+o.nextConnectionId_++,Y=s.lastSessionId;let oe=!1,De=null;const ut=function(){De?De.close():(oe=!0,T())};s.realtime_={close:ut,sendRequest:function(En){(0,F.hu)(De,"sendRequest call when we're not connected not allowed."),De.sendRequest(En)}};const Mt=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[En,Bn]=yield Promise.all([s.authTokenProvider_.getToken(Mt),s.appCheckTokenProvider_.getToken(Mt)]);oe?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),s.authToken_=En&&En.accessToken,s.appCheckToken_=Bn&&Bn.token,De=new bi(x,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,c,m,T,gi=>{Et(gi+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},Y))}catch(En){s.log_("Failed to get token: "+En),oe||(s.repoInfo_.nodeAdmin&&Et(En),ut())}}})()}interrupt(s){gt("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){gt("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=xi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const c=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:c})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const c=this.outstandingPuts_[s];c&&"h"in c.request&&c.queued&&(c.onComplete&&c.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,c){let m;m=c?c.map(x=>qt(x)).join("$"):"default";const T=this.removeListen_(s,m);T&&T.onComplete&&T.onComplete("permission_denied")}removeListen_(s,c){const m=new hr(s).toString();let T;if(this.listens.has(m)){const x=this.listens.get(m);T=x.get(c),x.delete(c),0===x.size&&this.listens.delete(m)}else T=void 0;return T}onAuthRevoked_(s,c){gt("Auth token revoked: "+s+"/"+c),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,c){gt("App check token revoked: "+s+"/"+c),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const c of s.values())this.sendListen_(c);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let c="js";(0,F.Yr)()&&(c=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+c+"."+xe.replace(/\./g,"-")]=1,(0,F.uI)()?s["framework.cordova"]=1:(0,F.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=os.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&s}}return o.nextPersistentConnectionId_=0,o.nextConnectionId_=0,o})();class bn{constructor(i,s){this.name=i,this.node=s}static Wrap(i,s){return new bn(i,s)}}class ui{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,s){const c=new bn(_n,i),m=new bn(_n,s);return 0!==this.compare(c,m)}minPost(){return bn.MIN}}class Rr extends ui{static get __EMPTY_NODE(){return ps}static set __EMPTY_NODE(i){ps=i}compare(i,s){return Hn(i.name,s.name)}isDefinedOn(i){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,s){return!1}minPost(){return bn.MIN}maxPost(){return new bn(fn,ps)}makePost(i,s){return(0,F.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new bn(i,ps)}toString(){return".key"}}const wi=new Rr;class Di{constructor(i,s,c,m,T=null){this.isReverse_=m,this.resultGenerator_=T,this.nodeStack_=[];let x=1;for(;!i.isEmpty();)if(i=i,x=s?c(i.key,s):1,m&&(x*=-1),x<0)i=this.isReverse_?i.left:i.right;else{if(0===x){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,i=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let R,Qr=(()=>{class o{constructor(s,c,m,T,x){this.key=s,this.value=c,this.color=null!=m?m:o.RED,this.left=null!=T?T:ci.EMPTY_NODE,this.right=null!=x?x:ci.EMPTY_NODE}copy(s,c,m,T,x){return new o(null!=s?s:this.key,null!=c?c:this.value,null!=m?m:this.color,null!=T?T:this.left,null!=x?x:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,c,m){let T=this;const x=m(s,T.key);return T=x<0?T.copy(null,null,null,T.left.insert(s,c,m),null):0===x?T.copy(null,c,null,null,null):T.copy(null,null,null,null,T.right.insert(s,c,m)),T.fixUp_()}removeMin_(){if(this.left.isEmpty())return ci.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,c){let m,T;if(m=this,c(s,m.key)<0)!m.left.isEmpty()&&!m.left.isRed_()&&!m.left.left.isRed_()&&(m=m.moveRedLeft_()),m=m.copy(null,null,null,m.left.remove(s,c),null);else{if(m.left.isRed_()&&(m=m.rotateRight_()),!m.right.isEmpty()&&!m.right.isRed_()&&!m.right.left.isRed_()&&(m=m.moveRedRight_()),0===c(s,m.key)){if(m.right.isEmpty())return ci.EMPTY_NODE;T=m.right.min_(),m=m.copy(T.key,T.value,null,null,m.right.removeMin_())}m=m.copy(null,null,null,null,m.right.remove(s,c))}return m.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,c)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return o.RED=!0,o.BLACK=!1,o})();class ci{constructor(i,s=ci.EMPTY_NODE){this.comparator_=i,this.root_=s}insert(i,s){return new ci(this.comparator_,this.root_.insert(i,s,this.comparator_).copy(null,null,Qr.BLACK,null,null))}remove(i){return new ci(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,Qr.BLACK,null,null))}get(i){let s,c=this.root_;for(;!c.isEmpty();){if(s=this.comparator_(i,c.key),0===s)return c.value;s<0?c=c.left:s>0&&(c=c.right)}return null}getPredecessorKey(i){let s,c=this.root_,m=null;for(;!c.isEmpty();){if(s=this.comparator_(i,c.key),0===s){if(c.left.isEmpty())return m?m.key:null;for(c=c.left;!c.right.isEmpty();)c=c.right;return c.key}s<0?c=c.left:s>0&&(m=c,c=c.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new Di(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,s){return new Di(this.root_,i,this.comparator_,!1,s)}getReverseIteratorFrom(i,s){return new Di(this.root_,i,this.comparator_,!0,s)}getReverseIterator(i){return new Di(this.root_,null,this.comparator_,!0,i)}}function Ms(o,i){return Hn(o.name,i.name)}function br(o,i){return Hn(o,i)}ci.EMPTY_NODE=new class Li{copy(i,s,c,m,T){return this}insert(i,s,c){return new Qr(i,s,null)}remove(i,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const O=function(o){return"number"==typeof o?"number:"+rr(o):"string:"+o},q=function(o){if(o.isLeafNode()){const i=o.val();(0,F.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,F.r3)(i,".sv"),"Priority must be a string or number.")}else(0,F.hu)(o===R||o.isEmpty(),"priority of unexpected type.");(0,F.hu)(o===R||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Te,Ct,Gt,ot=(()=>{class o{constructor(s,c=o.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=c,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),q(this.priorityNode_)}static set __childrenNodeConstructor(s){Te=s}static get __childrenNodeConstructor(){return Te}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new o(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return Qt(s)?this:".priority"===me(s)?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,c){return null}updateImmediateChild(s,c){return".priority"===s?this.updatePriority(c):c.isEmpty()&&".priority"!==s?this:o.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,c).updatePriority(this.priorityNode_)}updateChild(s,c){const m=me(s);return null===m?c:c.isEmpty()&&".priority"!==m?this:((0,F.hu)(".priority"!==m||1===Me(s),".priority must be the last token in a path"),this.updateImmediateChild(m,o.__childrenNodeConstructor.EMPTY_NODE.updateChild(Be(s),c)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,c){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+O(this.priorityNode_.val())+":");const c=typeof this.value_;s+=c+":",s+="number"===c?rr(this.value_):this.value_,this.lazyHash_=Qn(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===o.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof o.__childrenNodeConstructor?-1:((0,F.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const c=typeof s.value_,m=typeof this.value_,T=o.VALUE_TYPE_ORDER.indexOf(c),x=o.VALUE_TYPE_ORDER.indexOf(m);return(0,F.hu)(T>=0,"Unknown leaf type: "+c),(0,F.hu)(x>=0,"Unknown leaf type: "+m),T===x?"object"===m?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:x-T}withIndex(){return this}isIndexed(){return!0}equals(s){if(s===this)return!0;if(s.isLeafNode()){const c=s;return this.value_===c.value_&&this.priorityNode_.equals(c.priorityNode_)}return!1}}return o.VALUE_TYPE_ORDER=["object","boolean","number","string"],o})();const pn=new class er extends ui{compare(i,s){const c=i.node.getPriority(),m=s.node.getPriority(),T=c.compareTo(m);return 0===T?Hn(i.name,s.name):T}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,s){return!i.getPriority().equals(s.getPriority())}minPost(){return bn.MIN}maxPost(){return new bn(fn,new ot("[PRIORITY-POST]",Gt))}makePost(i,s){const c=Ct(i);return new bn(s,new ot("[PRIORITY-POST]",c))}toString(){return".priority"}},Jr=Math.log(2);class N{constructor(i){this.count=parseInt(Math.log(i+1)/Jr,10),this.current_=this.count-1;const m=(T=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&m}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const S=function(o,i,s,c){o.sort(i);const m=function(oe,De){const ut=De-oe;let st,Mt;if(0===ut)return null;if(1===ut)return st=o[oe],Mt=s?s(st):st,new Qr(Mt,st.node,Qr.BLACK,null,null);{const En=parseInt(ut/2,10)+oe,Bn=m(oe,En),gi=m(En+1,De);return st=o[En],Mt=s?s(st):st,new Qr(Mt,st.node,Qr.BLACK,Bn,gi)}},Y=function(oe){let De=null,ut=null,st=o.length;const Mt=function(Bn,gi){const As=st-Bn,dl=st;st-=Bn;const pa=m(As+1,dl),Fl=o[As],Td=s?s(Fl):Fl;En(new Qr(Td,Fl.node,gi,null,pa))},En=function(Bn){De?(De.left=Bn,De=Bn):(ut=Bn,De=Bn)};for(let Bn=0;Bn<oe.count;++Bn){const gi=oe.nextBitIsOne(),As=Math.pow(2,oe.count-(Bn+1));gi?Mt(As,Qr.BLACK):(Mt(As,Qr.BLACK),Mt(As,Qr.RED))}return ut}(new N(o.length));return new ci(c||i,Y)};let w;const W={};class Le{constructor(i,s){this.indexes_=i,this.indexSet_=s}static get Default(){return(0,F.hu)(W&&pn,"ChildrenNode.ts has not been loaded"),w=w||new Le({".priority":W},{".priority":pn}),w}get(i){const s=(0,F.DV)(this.indexes_,i);if(!s)throw new Error("No index defined for "+i);return s instanceof ci?s:null}hasIndex(i){return(0,F.r3)(this.indexSet_,i.toString())}addIndex(i,s){(0,F.hu)(i!==wi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const c=[];let m=!1;const T=s.getIterator(bn.Wrap);let Y,x=T.getNext();for(;x;)m=m||i.isDefinedOn(x.node),c.push(x),x=T.getNext();Y=m?S(c,i.getCompare()):W;const oe=i.toString(),De=Object.assign({},this.indexSet_);De[oe]=i;const ut=Object.assign({},this.indexes_);return ut[oe]=Y,new Le(ut,De)}addToIndexes(i,s){const c=(0,F.UI)(this.indexes_,(m,T)=>{const x=(0,F.DV)(this.indexSet_,T);if((0,F.hu)(x,"Missing index implementation for "+T),m===W){if(x.isDefinedOn(i.node)){const Y=[],oe=s.getIterator(bn.Wrap);let De=oe.getNext();for(;De;)De.name!==i.name&&Y.push(De),De=oe.getNext();return Y.push(i),S(Y,x.getCompare())}return W}{const Y=s.get(i.name);let oe=m;return Y&&(oe=oe.remove(new bn(i.name,Y))),oe.insert(i,i.node)}});return new Le(c,this.indexSet_)}removeFromIndexes(i,s){const c=(0,F.UI)(this.indexes_,m=>{if(m===W)return m;{const T=s.get(i.name);return T?m.remove(new bn(i.name,T)):m}});return new Le(c,this.indexSet_)}}let Jt,nn=(()=>{class o{constructor(s,c,m){this.children_=s,this.priorityNode_=c,this.indexMap_=m,this.lazyHash_=null,this.priorityNode_&&q(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Jt||(Jt=new o(new ci(br),null,Le.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Jt}updatePriority(s){return this.children_.isEmpty()?this:new o(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const c=this.children_.get(s);return null===c?Jt:c}}getChild(s){const c=me(s);return null===c?this:this.getImmediateChild(c).getChild(Be(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,c){if((0,F.hu)(c,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(c);{const m=new bn(s,c);let T,x;c.isEmpty()?(T=this.children_.remove(s),x=this.indexMap_.removeFromIndexes(m,this.children_)):(T=this.children_.insert(s,c),x=this.indexMap_.addToIndexes(m,this.children_));const Y=T.isEmpty()?Jt:this.priorityNode_;return new o(T,Y,x)}}updateChild(s,c){const m=me(s);if(null===m)return c;{(0,F.hu)(".priority"!==me(s)||1===Me(s),".priority must be the last token in a path");const T=this.getImmediateChild(m).updateChild(Be(s),c);return this.updateImmediateChild(m,T)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const c={};let m=0,T=0,x=!0;if(this.forEachChild(pn,(Y,oe)=>{c[Y]=oe.val(s),m++,x&&o.INTEGER_REGEXP_.test(Y)?T=Math.max(T,Number(Y)):x=!1}),!s&&x&&T<2*m){const Y=[];for(const oe in c)Y[oe]=c[oe];return Y}return s&&!this.getPriority().isEmpty()&&(c[".priority"]=this.getPriority().val()),c}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+O(this.getPriority().val())+":"),this.forEachChild(pn,(c,m)=>{const T=m.hash();""!==T&&(s+=":"+c+":"+T)}),this.lazyHash_=""===s?"":Qn(s)}return this.lazyHash_}getPredecessorChildName(s,c,m){const T=this.resolveIndex_(m);if(T){const x=T.getPredecessorKey(new bn(s,c));return x?x.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const c=this.resolveIndex_(s);if(c){const m=c.minKey();return m&&m.name}return this.children_.minKey()}getFirstChild(s){const c=this.getFirstChildName(s);return c?new bn(c,this.children_.get(c)):null}getLastChildName(s){const c=this.resolveIndex_(s);if(c){const m=c.maxKey();return m&&m.name}return this.children_.maxKey()}getLastChild(s){const c=this.getLastChildName(s);return c?new bn(c,this.children_.get(c)):null}forEachChild(s,c){const m=this.resolveIndex_(s);return m?m.inorderTraversal(T=>c(T.name,T.node)):this.children_.inorderTraversal(c)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,c){const m=this.resolveIndex_(c);if(m)return m.getIteratorFrom(s,T=>T);{const T=this.children_.getIteratorFrom(s.name,bn.Wrap);let x=T.peek();for(;null!=x&&c.compare(x,s)<0;)T.getNext(),x=T.peek();return T}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,c){const m=this.resolveIndex_(c);if(m)return m.getReverseIteratorFrom(s,T=>T);{const T=this.children_.getReverseIteratorFrom(s.name,bn.Wrap);let x=T.peek();for(;null!=x&&c.compare(x,s)>0;)T.getNext(),x=T.peek();return T}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===_i?-1:0}withIndex(s){if(s===wi||this.indexMap_.hasIndex(s))return this;{const c=this.indexMap_.addIndex(s,this.children_);return new o(this.children_,this.priorityNode_,c)}}isIndexed(s){return s===wi||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const c=s;if(this.getPriority().equals(c.getPriority())){if(this.children_.count()===c.children_.count()){const m=this.getIterator(pn),T=c.getIterator(pn);let x=m.getNext(),Y=T.getNext();for(;x&&Y;){if(x.name!==Y.name||!x.node.equals(Y.node))return!1;x=m.getNext(),Y=T.getNext()}return null===x&&null===Y}return!1}return!1}}resolveIndex_(s){return s===wi?null:this.indexMap_.get(s.toString())}}return o.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,o})();const _i=new class Ti extends nn{constructor(){super(new ci(br),nn.EMPTY_NODE,Le.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return nn.EMPTY_NODE}isEmpty(){return!1}};function Xr(o,i=null){if(null===o)return nn.EMPTY_NODE;if("object"==typeof o&&".priority"in o&&(i=o[".priority"]),(0,F.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof o&&".value"in o&&null!==o[".value"]&&(o=o[".value"]),"object"!=typeof o||".sv"in o)return new ot(o,Xr(i));if(o instanceof Array){let s=nn.EMPTY_NODE;return Rn(o,(c,m)=>{if((0,F.r3)(o,c)&&"."!==c.substring(0,1)){const T=Xr(m);(T.isLeafNode()||!T.isEmpty())&&(s=s.updateImmediateChild(c,T))}}),s.updatePriority(Xr(i))}{const s=[];let c=!1;if(Rn(o,(x,Y)=>{if("."!==x.substring(0,1)){const oe=Xr(Y);oe.isEmpty()||(c=c||!oe.getPriority().isEmpty(),s.push(new bn(x,oe)))}}),0===s.length)return nn.EMPTY_NODE;const T=S(s,Ms,x=>x.name,br);if(c){const x=S(s,pn.getCompare());return new nn(T,Xr(i),new Le({".priority":x},{".priority":pn}))}return new nn(T,Xr(i),Le.Default)}}Object.defineProperties(bn,{MIN:{value:new bn(_n,nn.EMPTY_NODE)},MAX:{value:new bn(fn,_i)}}),Rr.__EMPTY_NODE=nn.EMPTY_NODE,ot.__childrenNodeConstructor=nn,function z(o){R=o}(_i),function gr(o){Gt=o}(_i),function Pr(o){Ct=o}(Xr);class Cs extends ui{constructor(i){super(),this.indexPath_=i,(0,F.hu)(!Qt(i)&&".priority"!==me(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,s){const c=this.extractChild(i.node),m=this.extractChild(s.node),T=c.compareTo(m);return 0===T?Hn(i.name,s.name):T}makePost(i,s){const c=Xr(i),m=nn.EMPTY_NODE.updateChild(this.indexPath_,c);return new bn(s,m)}maxPost(){const i=nn.EMPTY_NODE.updateChild(this.indexPath_,_i);return new bn(fn,i)}toString(){return hn(this.indexPath_,0).join("/")}}const lr=new class Ot extends ui{compare(i,s){const c=i.node.compareTo(s.node);return 0===c?Hn(i.name,s.name):c}isDefinedOn(i){return!0}indexedValueChanged(i,s){return!i.equals(s)}minPost(){return bn.MIN}maxPost(){return bn.MAX}makePost(i,s){const c=Xr(i);return new bn(s,c)}toString(){return".value"}},Os="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",us=function(){let o=0;const i=[];return function(s){const c=s===o;let m;o=s;const T=new Array(8);for(m=7;m>=0;m--)T[m]=Os.charAt(s%64),s=Math.floor(s/64);(0,F.hu)(0===s,"Cannot push at time == 0");let x=T.join("");if(c){for(m=11;m>=0&&63===i[m];m--)i[m]=0;i[m]++}else for(m=0;m<12;m++)i[m]=Math.floor(64*Math.random());for(m=0;m<12;m++)x+=Os.charAt(i[m]);return(0,F.hu)(20===x.length,"nextPushId: Length should be 20."),x}}(),po=function(o){if(o===""+It)return"-";const i=at(o);if(null!=i)return""+(i+1);const s=new Array(o.length);for(let x=0;x<s.length;x++)s[x]=o.charAt(x);if(s.length<786)return s.push("-"),s.join("");let c=s.length-1;for(;c>=0&&"z"===s[c];)c--;if(-1===c)return fn;const T=Os.charAt(Os.indexOf(s[c])+1);return s[c]=T,s.slice(0,c+1).join("")},go=function(o){if(o===""+Pe)return _n;const i=at(o);if(null!=i)return""+(i-1);const s=new Array(o.length);for(let c=0;c<s.length;c++)s[c]=o.charAt(c);return"-"===s[s.length-1]?1===s.length?""+It:(delete s[s.length-1],s.join("")):(s[s.length-1]=Os.charAt(Os.indexOf(s[s.length-1])-1),s.join("")+"z".repeat(786-s.length))};function mo(o){return{type:"value",snapshotNode:o}}function Rs(o,i){return{type:"child_added",snapshotNode:i,childName:o}}function Ps(o,i){return{type:"child_removed",snapshotNode:i,childName:o}}function rs(o,i,s){return{type:"child_changed",snapshotNode:i,childName:o,oldSnap:s}}class Gi{constructor(i){this.index_=i}updateChild(i,s,c,m,T,x){(0,F.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Y=i.getImmediateChild(s);return Y.getChild(m).equals(c.getChild(m))&&Y.isEmpty()===c.isEmpty()||(null!=x&&(c.isEmpty()?i.hasChild(s)?x.trackChildChange(Ps(s,Y)):(0,F.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Y.isEmpty()?x.trackChildChange(Rs(s,c)):x.trackChildChange(rs(s,c,Y))),i.isLeafNode()&&c.isEmpty())?i:i.updateImmediateChild(s,c).withIndex(this.index_)}updateFullNode(i,s,c){return null!=c&&(i.isLeafNode()||i.forEachChild(pn,(m,T)=>{s.hasChild(m)||c.trackChildChange(Ps(m,T))}),s.isLeafNode()||s.forEachChild(pn,(m,T)=>{if(i.hasChild(m)){const x=i.getImmediateChild(m);x.equals(T)||c.trackChildChange(rs(m,T,x))}else c.trackChildChange(Rs(m,T))})),s.withIndex(this.index_)}updatePriority(i,s){return i.isEmpty()?nn.EMPTY_NODE:i.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ls{constructor(i){this.indexedFilter_=new Gi(i.getIndex()),this.index_=i.getIndex(),this.startPost_=Ls.getStartPost_(i),this.endPost_=Ls.getEndPost_(i)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){return this.index_.compare(this.getStartPost(),i)<=0&&this.index_.compare(i,this.getEndPost())<=0}updateChild(i,s,c,m,T,x){return this.matches(new bn(s,c))||(c=nn.EMPTY_NODE),this.indexedFilter_.updateChild(i,s,c,m,T,x)}updateFullNode(i,s,c){s.isLeafNode()&&(s=nn.EMPTY_NODE);let m=s.withIndex(this.index_);m=m.updatePriority(nn.EMPTY_NODE);const T=this;return s.forEachChild(pn,(x,Y)=>{T.matches(new bn(x,Y))||(m=m.updateImmediateChild(x,nn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,m,c)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const s=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),s)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const s=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),s)}return i.getIndex().maxPost()}}class H{constructor(i){this.rangedFilter_=new Ls(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft()}updateChild(i,s,c,m,T,x){return this.rangedFilter_.matches(new bn(s,c))||(c=nn.EMPTY_NODE),i.getImmediateChild(s).equals(c)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,s,c,m,T,x):this.fullLimitUpdateChild_(i,s,c,T,x)}updateFullNode(i,s,c){let m;if(s.isLeafNode()||s.isEmpty())m=nn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let T;m=nn.EMPTY_NODE.withIndex(this.index_),T=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let x=0;for(;T.hasNext()&&x<this.limit_;){const Y=T.getNext();let oe;if(oe=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Y)<=0:this.index_.compare(Y,this.rangedFilter_.getEndPost())<=0,!oe)break;m=m.updateImmediateChild(Y.name,Y.node),x++}}else{let T,x,Y,oe;if(m=s.withIndex(this.index_),m=m.updatePriority(nn.EMPTY_NODE),this.reverse_){oe=m.getReverseIterator(this.index_),T=this.rangedFilter_.getEndPost(),x=this.rangedFilter_.getStartPost();const st=this.index_.getCompare();Y=(Mt,En)=>st(En,Mt)}else oe=m.getIterator(this.index_),T=this.rangedFilter_.getStartPost(),x=this.rangedFilter_.getEndPost(),Y=this.index_.getCompare();let De=0,ut=!1;for(;oe.hasNext();){const st=oe.getNext();!ut&&Y(T,st)<=0&&(ut=!0),ut&&De<this.limit_&&Y(st,x)<=0?De++:m=m.updateImmediateChild(st.name,nn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,m,c)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,s,c,m,T){let x;if(this.reverse_){const st=this.index_.getCompare();x=(Mt,En)=>st(En,Mt)}else x=this.index_.getCompare();const Y=i;(0,F.hu)(Y.numChildren()===this.limit_,"");const oe=new bn(s,c),De=this.reverse_?Y.getFirstChild(this.index_):Y.getLastChild(this.index_),ut=this.rangedFilter_.matches(oe);if(Y.hasChild(s)){const st=Y.getImmediateChild(s);let Mt=m.getChildAfterChild(this.index_,De,this.reverse_);for(;null!=Mt&&(Mt.name===s||Y.hasChild(Mt.name));)Mt=m.getChildAfterChild(this.index_,Mt,this.reverse_);const En=null==Mt?1:x(Mt,oe);if(ut&&!c.isEmpty()&&En>=0)return null!=T&&T.trackChildChange(rs(s,c,st)),Y.updateImmediateChild(s,c);{null!=T&&T.trackChildChange(Ps(s,st));const gi=Y.updateImmediateChild(s,nn.EMPTY_NODE);return null!=Mt&&this.rangedFilter_.matches(Mt)?(null!=T&&T.trackChildChange(Rs(Mt.name,Mt.node)),gi.updateImmediateChild(Mt.name,Mt.node)):gi}}return c.isEmpty()?i:ut&&x(De,oe)>=0?(null!=T&&(T.trackChildChange(Ps(De.name,De.node)),T.trackChildChange(Rs(s,c))),Y.updateImmediateChild(s,c).updateImmediateChild(De.name,nn.EMPTY_NODE)):i}}class p{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_n}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pn}copy(){const i=new p;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function ne(o,i,s){const c=o.copy();return c.startSet_=!0,void 0===i&&(i=null),c.indexStartValue_=i,null!=s?(c.startNameSet_=!0,c.indexStartName_=s):(c.startNameSet_=!1,c.indexStartName_=""),c}function Ce(o,i,s){const c=o.copy();return c.endSet_=!0,void 0===i&&(i=null),c.indexEndValue_=i,void 0!==s?(c.endNameSet_=!0,c.indexEndName_=s):(c.endNameSet_=!1,c.indexEndName_=""),c}function Dt(o,i){const s=o.copy();return s.index_=i,s}function rn(o){const i={};if(o.isDefault())return i;let s;return o.index_===pn?s="$priority":o.index_===lr?s="$value":o.index_===wi?s="$key":((0,F.hu)(o.index_ instanceof Cs,"Unrecognized index type!"),s=o.index_.toString()),i.orderBy=(0,F.Pz)(s),o.startSet_&&(i.startAt=(0,F.Pz)(o.indexStartValue_),o.startNameSet_&&(i.startAt+=","+(0,F.Pz)(o.indexStartName_))),o.endSet_&&(i.endAt=(0,F.Pz)(o.indexEndValue_),o.endNameSet_&&(i.endAt+=","+(0,F.Pz)(o.indexEndName_))),o.limitSet_&&(o.isViewFromLeft()?i.limitToFirst=o.limit_:i.limitToLast=o.limit_),i}function gn(o){const i={};if(o.startSet_&&(i.sp=o.indexStartValue_,o.startNameSet_&&(i.sn=o.indexStartName_)),o.endSet_&&(i.ep=o.indexEndValue_,o.endNameSet_&&(i.en=o.indexEndName_)),o.limitSet_){i.l=o.limit_;let s=o.viewFrom_;""===s&&(s=o.isViewFromLeft()?"l":"r"),i.vf=s}return o.index_!==pn&&(i.i=o.index_.toString()),i}class On extends Wr{constructor(i,s,c,m){super(),this.repoInfo_=i,this.onDataUpdate_=s,this.authTokenProvider_=c,this.appCheckTokenProvider_=m,this.log_=ht("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,s){return void 0!==s?"tag$"+s:((0,F.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,s,c,m){const T=i._path.toString();this.log_("Listen called for "+T+" "+i._queryIdentifier);const x=On.getListenId_(i,c),Y={};this.listens_[x]=Y;const oe=rn(i._queryParams);this.restRequest_(T+".json",oe,(De,ut)=>{let st=ut;if(404===De&&(st=null,De=null),null===De&&this.onDataUpdate_(T,st,!1,c),(0,F.DV)(this.listens_,x)===Y){let Mt;Mt=De?401===De?"permission_denied":"rest_error:"+De:"ok",m(Mt,null)}})}unlisten(i,s){const c=On.getListenId_(i,s);delete this.listens_[c]}get(i){const s=rn(i._queryParams),c=i._path.toString(),m=new F.BH;return this.restRequest_(c+".json",s,(T,x)=>{let Y=x;404===T&&(Y=null,T=null),null===T?(this.onDataUpdate_(c,Y,!1,null),m.resolve(Y)):m.reject(new Error(Y))}),m.promise}refreshAuthToken(i){}restRequest_(i,s={},c){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([m,T])=>{m&&m.accessToken&&(s.auth=m.accessToken),T&&T.token&&(s.ac=T.token);const x=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,F.xO)(s);this.log_("Sending REST request for "+x);const Y=new XMLHttpRequest;Y.onreadystatechange=()=>{if(c&&4===Y.readyState){this.log_("REST Response for "+x+" received. status:",Y.status,"response:",Y.responseText);let oe=null;if(Y.status>=200&&Y.status<300){try{oe=(0,F.cI)(Y.responseText)}catch(De){Et("Failed to parse JSON response for "+x+": "+Y.responseText)}c(null,oe)}else 401!==Y.status&&404!==Y.status&&Et("Got unsuccessful REST response for "+x+" Status: "+Y.status),c(Y.status);c=null}},Y.open("GET",x,!0),Y.send()})}}class fr{constructor(){this.rootNode_=nn.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,s){this.rootNode_=this.rootNode_.updateChild(i,s)}}function Cn(){return{value:null,children:new Map}}function Ln(o,i,s){if(Qt(i))o.value=s,o.children.clear();else if(null!==o.value)o.value=o.value.updateChild(i,s);else{const c=me(i);o.children.has(c)||o.children.set(c,Cn()),Ln(o.children.get(c),i=Be(i),s)}}function Tr(o,i){if(Qt(i))return o.value=null,o.children.clear(),!0;if(null!==o.value){if(o.value.isLeafNode())return!1;{const s=o.value;return o.value=null,s.forEachChild(pn,(c,m)=>{Ln(o,new hr(c),m)}),Tr(o,i)}}if(o.children.size>0){const s=me(i);return i=Be(i),o.children.has(s)&&Tr(o.children.get(s),i)&&o.children.delete(s),0===o.children.size}return!0}function Gr(o,i,s){null!==o.value?s(i,o.value):function Ai(o,i){o.children.forEach((s,c)=>{i(c,s)})}(o,(c,m)=>{Gr(m,new hr(i.toString()+"/"+c),s)})}class Oi{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),s=Object.assign({},i);return this.last_&&Rn(this.last_,(c,m)=>{s[c]=s[c]-m}),this.last_=i,s}}class Ri{constructor(i,s){this.server_=s,this.statsToReport_={},this.statsListener_=new Oi(i);const c=1e4+2e4*Math.random();xn(this.reportStats_.bind(this),Math.floor(c))}reportStats_(){const i=this.statsListener_.get(),s={};let c=!1;Rn(i,(m,T)=>{T>0&&(0,F.r3)(this.statsToReport_,m)&&(s[m]=T,c=!0)}),c&&this.server_.reportStats(s),xn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Nr=(()=>{return(o=Nr||(Nr={}))[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Nr;var o})();function Ks(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}class is{constructor(i,s,c){this.path=i,this.affectedTree=s,this.revert=c,this.type=Nr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(Qt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new hr(i));return new is(ar(),s,this.revert)}}return(0,F.hu)(me(this.path)===i,"operationForChild called for unrelated child."),new is(Be(this.path),this.affectedTree,this.revert)}}class ei{constructor(i,s){this.source=i,this.path=s,this.type=Nr.LISTEN_COMPLETE}operationForChild(i){return Qt(this.path)?new ei(this.source,ar()):new ei(this.source,Be(this.path))}}class Ki{constructor(i,s,c){this.source=i,this.path=s,this.snap=c,this.type=Nr.OVERWRITE}operationForChild(i){return Qt(this.path)?new Ki(this.source,ar(),this.snap.getImmediateChild(i)):new Ki(this.source,Be(this.path),this.snap)}}class gs{constructor(i,s,c){this.source=i,this.path=s,this.children=c,this.type=Nr.MERGE}operationForChild(i){if(Qt(this.path)){const s=this.children.subtree(new hr(i));return s.isEmpty()?null:s.value?new Ki(this.source,ar(),s.value):new gs(this.source,ar(),s)}return(0,F.hu)(me(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new gs(this.source,Be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class zt{constructor(i,s,c){this.node_=i,this.fullyInitialized_=s,this.filtered_=c}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(Qt(i))return this.isFullyInitialized()&&!this.filtered_;const s=me(i);return this.isCompleteForChild(s)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class Sn{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function Wn(o,i,s,c,m,T){const x=c.filter(Y=>Y.type===s);x.sort((Y,oe)=>function ms(o,i,s){if(null==i.childName||null==s.childName)throw(0,F.g5)("Should only compare child_ events.");const c=new bn(i.childName,i.snapshotNode),m=new bn(s.childName,s.snapshotNode);return o.index_.compare(c,m)}(o,Y,oe)),x.forEach(Y=>{const oe=function zr(o,i,s){return"value"===i.type||"child_removed"===i.type||(i.prevName=s.getPredecessorChildName(i.childName,i.snapshotNode,o.index_)),i}(o,Y,T);m.forEach(De=>{De.respondsTo(Y.type)&&i.push(De.createEvent(oe,o.query_))})})}function ti(o,i){return{eventCache:o,serverCache:i}}function yi(o,i,s,c){return ti(new zt(i,s,c),o.serverCache)}function Kr(o,i,s,c){return ti(o.eventCache,new zt(i,s,c))}function oo(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function Hs(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}let Wi;class Er{constructor(i,s=(()=>(Wi||(Wi=new ci($n)),Wi))()){this.value=i,this.children=s}static fromObject(i){let s=new Er(null);return Rn(i,(c,m)=>{s=s.set(new hr(c),m)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,s){if(null!=this.value&&s(this.value))return{path:ar(),value:this.value};if(Qt(i))return null;{const c=me(i),m=this.children.get(c);if(null!==m){const T=m.findRootMostMatchingPathAndValue(Be(i),s);return null!=T?{path:Zn(new hr(c),T.path),value:T.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(Qt(i))return this;{const s=me(i),c=this.children.get(s);return null!==c?c.subtree(Be(i)):new Er(null)}}set(i,s){if(Qt(i))return new Er(s,this.children);{const c=me(i),T=(this.children.get(c)||new Er(null)).set(Be(i),s),x=this.children.insert(c,T);return new Er(this.value,x)}}remove(i){if(Qt(i))return this.children.isEmpty()?new Er(null):new Er(null,this.children);{const s=me(i),c=this.children.get(s);if(c){const m=c.remove(Be(i));let T;return T=m.isEmpty()?this.children.remove(s):this.children.insert(s,m),null===this.value&&T.isEmpty()?new Er(null):new Er(this.value,T)}return this}}get(i){if(Qt(i))return this.value;{const s=me(i),c=this.children.get(s);return c?c.get(Be(i)):null}}setTree(i,s){if(Qt(i))return s;{const c=me(i),T=(this.children.get(c)||new Er(null)).setTree(Be(i),s);let x;return x=T.isEmpty()?this.children.remove(c):this.children.insert(c,T),new Er(this.value,x)}}fold(i){return this.fold_(ar(),i)}fold_(i,s){const c={};return this.children.inorderTraversal((m,T)=>{c[m]=T.fold_(Zn(i,m),s)}),s(i,this.value,c)}findOnPath(i,s){return this.findOnPath_(i,ar(),s)}findOnPath_(i,s,c){const m=!!this.value&&c(s,this.value);if(m)return m;if(Qt(i))return null;{const T=me(i),x=this.children.get(T);return x?x.findOnPath_(Be(i),Zn(s,T),c):null}}foreachOnPath(i,s){return this.foreachOnPath_(i,ar(),s)}foreachOnPath_(i,s,c){if(Qt(i))return this;{this.value&&c(s,this.value);const m=me(i),T=this.children.get(m);return T?T.foreachOnPath_(Be(i),Zn(s,m),c):new Er(null)}}foreach(i){this.foreach_(ar(),i)}foreach_(i,s){this.children.inorderTraversal((c,m)=>{m.foreach_(Zn(i,c),s)}),this.value&&s(i,this.value)}foreachChild(i){this.children.inorderTraversal((s,c)=>{c.value&&i(s,c.value)})}}class Zr{constructor(i){this.writeTree_=i}static empty(){return new Zr(new Er(null))}}function Ns(o,i,s){if(Qt(i))return new Zr(new Er(s));{const c=o.writeTree_.findRootMostValueAndPath(i);if(null!=c){const m=c.path;let T=c.value;const x=Fr(m,i);return T=T.updateChild(x,s),new Zr(o.writeTree_.set(m,T))}{const m=new Er(s),T=o.writeTree_.setTree(i,m);return new Zr(T)}}}function ao(o,i,s){let c=o;return Rn(s,(m,T)=>{c=Ns(c,Zn(i,m),T)}),c}function lo(o,i){if(Qt(i))return Zr.empty();{const s=o.writeTree_.setTree(i,new Er(null));return new Zr(s)}}function _o(o,i){return null!=xr(o,i)}function xr(o,i){const s=o.writeTree_.findRootMostValueAndPath(i);return null!=s?o.writeTree_.get(s.path).getChild(Fr(s.path,i)):null}function Ca(o){const i=[],s=o.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(pn,(c,m)=>{i.push(new bn(c,m))}):o.writeTree_.children.inorderTraversal((c,m)=>{null!=m.value&&i.push(new bn(c,m.value))}),i}function Ui(o,i){if(Qt(i))return o;{const s=xr(o,i);return new Zr(null!=s?new Er(s):o.writeTree_.subtree(i))}}function yo(o){return o.writeTree_.isEmpty()}function Ts(o,i){return I(ar(),o.writeTree_,i)}function I(o,i,s){if(null!=i.value)return s.updateChild(o,i.value);{let c=null;return i.children.inorderTraversal((m,T)=>{".priority"===m?((0,F.hu)(null!==T.value,"Priority writes must always be leaf nodes"),c=T.value):s=I(Zn(o,m),T,s)}),!s.getChild(o).isEmpty()&&null!==c&&(s=s.updateChild(Zn(o,".priority"),c)),s}}function E(o,i){return Ao(i,o)}function he(o,i){if(o.snap)return ai(o.path,i);for(const s in o.children)if(o.children.hasOwnProperty(s)&&ai(Zn(o.path,s),i))return!0;return!1}function _t(o){return o.visible}function dn(o,i,s){let c=Zr.empty();for(let m=0;m<o.length;++m){const T=o[m];if(i(T)){const x=T.path;let Y;if(T.snap)ai(s,x)?(Y=Fr(s,x),c=Ns(c,Y,T.snap)):ai(x,s)&&(Y=Fr(x,s),c=Ns(c,ar(),T.snap.getChild(Y)));else{if(!T.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(ai(s,x))Y=Fr(s,x),c=ao(c,Y,T.children);else if(ai(x,s))if(Y=Fr(x,s),Qt(Y))c=ao(c,ar(),T.children);else{const oe=(0,F.DV)(T.children,me(Y));if(oe){const De=oe.getChild(Be(Y));c=Ns(c,ar(),De)}}}}}return c}function mr(o,i,s,c,m){if(c||m){const T=Ui(o.visibleWrites,i);return!m&&yo(T)?s:m||null!=s||_o(T,ar())?Ts(dn(o.allWrites,function(De){return(De.visible||m)&&(!c||!~c.indexOf(De.writeId))&&(ai(De.path,i)||ai(i,De.path))},i),s||nn.EMPTY_NODE):null}{const T=xr(o.visibleWrites,i);if(null!=T)return T;{const x=Ui(o.visibleWrites,i);return yo(x)?s:null!=s||_o(x,ar())?Ts(x,s||nn.EMPTY_NODE):null}}}function uo(o,i,s,c){return mr(o.writeTree,o.treePath,i,s,c)}function Yi(o,i){return function vn(o,i,s){let c=nn.EMPTY_NODE;const m=xr(o.visibleWrites,i);if(m)return m.isLeafNode()||m.forEachChild(pn,(T,x)=>{c=c.updateImmediateChild(T,x)}),c;if(s){const T=Ui(o.visibleWrites,i);return s.forEachChild(pn,(x,Y)=>{const oe=Ts(Ui(T,new hr(x)),Y);c=c.updateImmediateChild(x,oe)}),Ca(T).forEach(x=>{c=c.updateImmediateChild(x.name,x.node)}),c}return Ca(Ui(o.visibleWrites,i)).forEach(x=>{c=c.updateImmediateChild(x.name,x.node)}),c}(o.writeTree,o.treePath,i)}function Ta(o,i,s,c){return function Ur(o,i,s,c,m){(0,F.hu)(c||m,"Either existingEventSnap or existingServerSnap must exist");const T=Zn(i,s);if(_o(o.visibleWrites,T))return null;{const x=Ui(o.visibleWrites,T);return yo(x)?m.getChild(s):Ts(x,m.getChild(s))}}(o.writeTree,o.treePath,i,s,c)}function wo(o,i){return function Zi(o,i){return xr(o.visibleWrites,i)}(o.writeTree,Zn(o.treePath,i))}function Us(o,i,s){return function Ar(o,i,s,c){const m=Zn(i,s),T=xr(o.visibleWrites,m);return null!=T?T:c.isCompleteForChild(s)?Ts(Ui(o.visibleWrites,m),c.getNode().getImmediateChild(s)):null}(o.writeTree,o.treePath,i,s)}function ja(o,i){return Ao(Zn(o.treePath,i),o.writeTree)}function Ao(o,i){return{treePath:o,writeTree:i}}class Ia{constructor(){this.changeMap=new Map}trackChildChange(i){const s=i.type,c=i.childName;(0,F.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==c,"Only non-priority child changes can be tracked.");const m=this.changeMap.get(c);if(m){const T=m.type;if("child_added"===s&&"child_removed"===T)this.changeMap.set(c,rs(c,i.snapshotNode,m.snapshotNode));else if("child_removed"===s&&"child_added"===T)this.changeMap.delete(c);else if("child_removed"===s&&"child_changed"===T)this.changeMap.set(c,Ps(c,m.oldSnap));else if("child_changed"===s&&"child_added"===T)this.changeMap.set(c,Rs(c,i.snapshotNode));else{if("child_changed"!==s||"child_changed"!==T)throw(0,F.g5)("Illegal combination of changes: "+i+" occurred after "+m);this.changeMap.set(c,rs(c,i.snapshotNode,m.oldSnap))}}else this.changeMap.set(c,i)}getChanges(){return Array.from(this.changeMap.values())}}const So=new class vo{getCompleteChild(i){return null}getChildAfterChild(i,s,c){return null}};class xs{constructor(i,s,c=null){this.writes_=i,this.viewCache_=s,this.optCompleteServerCache_=c}getCompleteChild(i){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(i))return s.getNode().getImmediateChild(i);{const c=null!=this.optCompleteServerCache_?new zt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Us(this.writes_,i,c)}}getChildAfterChild(i,s,c){const m=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Hs(this.viewCache_),T=function fl(o,i,s,c,m,T){return function $s(o,i,s,c,m,T,x){let Y;const oe=Ui(o.visibleWrites,i),De=xr(oe,ar());if(null!=De)Y=De;else{if(null==s)return[];Y=Ts(oe,s)}if(Y=Y.withIndex(x),Y.isEmpty()||Y.isLeafNode())return[];{const ut=[],st=x.getCompare(),Mt=T?Y.getReverseIteratorFrom(c,x):Y.getIteratorFrom(c,x);let En=Mt.getNext();for(;En&&ut.length<m;)0!==st(En,c)&&ut.push(En),En=Mt.getNext();return ut}}(o.writeTree,o.treePath,i,s,c,m,T)}(this.writes_,m,s,1,c,i);return 0===T.length?null:T[0]}}function Bl(o,i,s,c,m,T){const x=i.eventCache;if(null!=wo(c,s))return i;{let Y,oe;if(Qt(s))if((0,F.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const De=Hs(i),st=Yi(c,De instanceof nn?De:nn.EMPTY_NODE);Y=o.filter.updateFullNode(i.eventCache.getNode(),st,T)}else{const De=uo(c,Hs(i));Y=o.filter.updateFullNode(i.eventCache.getNode(),De,T)}else{const De=me(s);if(".priority"===De){(0,F.hu)(1===Me(s),"Can't have a priority with additional path components");const ut=x.getNode();oe=i.serverCache.getNode();const st=Ta(c,s,ut,oe);Y=null!=st?o.filter.updatePriority(ut,st):x.getNode()}else{const ut=Be(s);let st;if(x.isCompleteForChild(De)){oe=i.serverCache.getNode();const Mt=Ta(c,s,x.getNode(),oe);st=null!=Mt?x.getNode().getImmediateChild(De).updateChild(ut,Mt):x.getNode().getImmediateChild(De)}else st=Us(c,De,i.serverCache);Y=null!=st?o.filter.updateChild(x.getNode(),De,st,ut,m,T):x.getNode()}}return yi(i,Y,x.isFullyInitialized()||Qt(s),o.filter.filtersNodes())}}function Ii(o,i,s,c,m,T,x,Y){const oe=i.serverCache;let De;const ut=x?o.filter:o.filter.getIndexedFilter();if(Qt(s))De=ut.updateFullNode(oe.getNode(),c,null);else if(ut.filtersNodes()&&!oe.isFiltered()){const En=oe.getNode().updateChild(s,c);De=ut.updateFullNode(oe.getNode(),En,null)}else{const En=me(s);if(!oe.isCompleteForPath(s)&&Me(s)>1)return i;const Bn=Be(s),As=oe.getNode().getImmediateChild(En).updateChild(Bn,c);De=".priority"===En?ut.updatePriority(oe.getNode(),As):ut.updateChild(oe.getNode(),En,As,Bn,So,null)}const st=Kr(i,De,oe.isFullyInitialized()||Qt(s),ut.filtersNodes());return Bl(o,st,s,m,new xs(m,st,T),Y)}function pl(o,i,s,c,m,T,x){const Y=i.eventCache;let oe,De;const ut=new xs(m,i,T);if(Qt(s))De=o.filter.updateFullNode(i.eventCache.getNode(),c,x),oe=yi(i,De,!0,o.filter.filtersNodes());else{const st=me(s);if(".priority"===st)De=o.filter.updatePriority(i.eventCache.getNode(),c),oe=yi(i,De,Y.isFullyInitialized(),Y.isFiltered());else{const Mt=Be(s),En=Y.getNode().getImmediateChild(st);let Bn;if(Qt(Mt))Bn=c;else{const gi=ut.getCompleteChild(st);Bn=null!=gi?".priority"===wt(Mt)&&gi.getChild(pr(Mt)).isEmpty()?gi:gi.updateChild(Mt,c):nn.EMPTY_NODE}oe=En.equals(Bn)?i:yi(i,o.filter.updateChild(Y.getNode(),st,Bn,Mt,ut,x),Y.isFullyInitialized(),o.filter.filtersNodes())}}return oe}function _u(o,i){return o.eventCache.isCompleteForChild(i)}function $a(o,i,s){return s.foreach((c,m)=>{i=i.updateChild(c,m)}),i}function Wa(o,i,s,c,m,T,x,Y){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let De,oe=i;De=Qt(s)?c:new Er(null).setTree(s,c);const ut=i.serverCache.getNode();return De.children.inorderTraversal((st,Mt)=>{if(ut.hasChild(st)){const Bn=$a(0,i.serverCache.getNode().getImmediateChild(st),Mt);oe=Ii(o,oe,new hr(st),Bn,m,T,x,Y)}}),De.children.inorderTraversal((st,Mt)=>{const En=!i.serverCache.isCompleteForChild(st)&&void 0===Mt.value;if(!ut.hasChild(st)&&!En){const gi=$a(0,i.serverCache.getNode().getImmediateChild(st),Mt);oe=Ii(o,oe,new hr(st),gi,m,T,x,Y)}}),oe}class Cu{constructor(i,s){this.query_=i,this.eventRegistrations_=[];const c=this.query_._queryParams,m=new Gi(c.getIndex()),T=function _(o){return o.loadsAllData()?new Gi(o.getIndex()):o.hasLimit()?new H(o):new Ls(o)}(c);this.processor_=function Vl(o){return{filter:o}}(T);const x=s.serverCache,Y=s.eventCache,oe=m.updateFullNode(nn.EMPTY_NODE,x.getNode(),null),De=T.updateFullNode(nn.EMPTY_NODE,Y.getNode(),null),ut=new zt(oe,x.isFullyInitialized(),m.filtersNodes()),st=new zt(De,Y.isFullyInitialized(),T.filtersNodes());this.viewCache_=ti(st,ut),this.eventGenerator_=new Sn(this.query_)}get query(){return this.query_}}function Oo(o,i){const s=Hs(o.viewCache_);return s&&(o.query._queryParams.loadsAllData()||!Qt(i)&&!s.getImmediateChild(me(i)).isEmpty())?s.getChild(i):null}function za(o){return 0===o.eventRegistrations_.length}function qi(o,i,s){const c=[];if(s){(0,F.hu)(null==i,"A cancel should cancel all event registrations.");const m=o.query._path;o.eventRegistrations_.forEach(T=>{const x=T.createCancelEvent(s,m);x&&c.push(x)})}if(i){let m=[];for(let T=0;T<o.eventRegistrations_.length;++T){const x=o.eventRegistrations_[T];if(x.matches(i)){if(i.hasAnyCallback()){m=m.concat(o.eventRegistrations_.slice(T+1));break}}else m.push(x)}o.eventRegistrations_=m}else o.eventRegistrations_=[];return c}function _s(o,i,s,c){i.type===Nr.MERGE&&null!==i.source.queryId&&((0,F.hu)(Hs(o.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(oo(o.viewCache_),"Missing event cache, even though we have a server cache"));const m=o.viewCache_,T=function $o(o,i,s,c,m){const T=new Ia;let x,Y;if(s.type===Nr.OVERWRITE){const De=s;De.source.fromUser?x=pl(o,i,De.path,De.snap,c,m,T):((0,F.hu)(De.source.fromServer,"Unknown source."),Y=De.source.tagged||i.serverCache.isFiltered()&&!Qt(De.path),x=Ii(o,i,De.path,De.snap,c,m,Y,T))}else if(s.type===Nr.MERGE){const De=s;De.source.fromUser?x=function yu(o,i,s,c,m,T,x){let Y=i;return c.foreach((oe,De)=>{const ut=Zn(s,oe);_u(i,me(ut))&&(Y=pl(o,Y,ut,De,m,T,x))}),c.foreach((oe,De)=>{const ut=Zn(s,oe);_u(i,me(ut))||(Y=pl(o,Y,ut,De,m,T,x))}),Y}(o,i,De.path,De.children,c,m,T):((0,F.hu)(De.source.fromServer,"Unknown source."),Y=De.source.tagged||i.serverCache.isFiltered(),x=Wa(o,i,De.path,De.children,c,m,Y,T))}else if(s.type===Nr.ACK_USER_WRITE){const De=s;x=De.revert?function Mo(o,i,s,c,m,T){let x;if(null!=wo(c,s))return i;{const Y=new xs(c,i,m),oe=i.eventCache.getNode();let De;if(Qt(s)||".priority"===me(s)){let ut;if(i.serverCache.isFullyInitialized())ut=uo(c,Hs(i));else{const st=i.serverCache.getNode();(0,F.hu)(st instanceof nn,"serverChildren would be complete if leaf node"),ut=Yi(c,st)}ut=ut,De=o.filter.updateFullNode(oe,ut,T)}else{const ut=me(s);let st=Us(c,ut,i.serverCache);null==st&&i.serverCache.isCompleteForChild(ut)&&(st=oe.getImmediateChild(ut)),De=null!=st?o.filter.updateChild(oe,ut,st,Be(s),Y,T):i.eventCache.getNode().hasChild(ut)?o.filter.updateChild(oe,ut,nn.EMPTY_NODE,Be(s),Y,T):oe,De.isEmpty()&&i.serverCache.isFullyInitialized()&&(x=uo(c,Hs(i)),x.isLeafNode()&&(De=o.filter.updateFullNode(De,x,T)))}return x=i.serverCache.isFullyInitialized()||null!=wo(c,ar()),yi(i,De,x,o.filter.filtersNodes())}}(o,i,De.path,c,m,T):function vu(o,i,s,c,m,T,x){if(null!=wo(m,s))return i;const Y=i.serverCache.isFiltered(),oe=i.serverCache;if(null!=c.value){if(Qt(s)&&oe.isFullyInitialized()||oe.isCompleteForPath(s))return Ii(o,i,s,oe.getNode().getChild(s),m,T,Y,x);if(Qt(s)){let De=new Er(null);return oe.getNode().forEachChild(wi,(ut,st)=>{De=De.set(new hr(ut),st)}),Wa(o,i,s,De,m,T,Y,x)}return i}{let De=new Er(null);return c.foreach((ut,st)=>{const Mt=Zn(s,ut);oe.isCompleteForPath(Mt)&&(De=De.set(ut,oe.getNode().getChild(Mt)))}),Wa(o,i,s,De,m,T,Y,x)}}(o,i,De.path,De.affectedTree,c,m,T)}else{if(s.type!==Nr.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+s.type);x=function Eu(o,i,s,c,m){const T=i.serverCache;return Bl(o,Kr(i,T.getNode(),T.isFullyInitialized()||Qt(s),T.isFiltered()),s,c,So,m)}(o,i,s.path,c,T)}const oe=T.getChanges();return function ba(o,i,s){const c=i.eventCache;if(c.isFullyInitialized()){const m=c.getNode().isLeafNode()||c.getNode().isEmpty(),T=oo(o);(s.length>0||!o.eventCache.isFullyInitialized()||m&&!c.getNode().equals(T)||!c.getNode().getPriority().equals(T.getPriority()))&&s.push(mo(oo(i)))}}(i,x,oe),{viewCache:x,changes:oe}}(o.processor_,m,i,s,c);return function Ha(o,i){(0,F.hu)(i.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(i.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}(o.processor_,T.viewCache),(0,F.hu)(T.viewCache.serverCache.isFullyInitialized()||!m.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=T.viewCache,co(o,T.changes,T.viewCache.eventCache.getNode(),null)}function co(o,i,s,c){return function Vn(o,i,s,c){const m=[],T=[];return i.forEach(x=>{"child_changed"===x.type&&o.index_.indexedValueChanged(x.oldSnap,x.snapshotNode)&&T.push(function $i(o,i){return{type:"child_moved",snapshotNode:i,childName:o}}(x.childName,x.snapshotNode))}),Wn(o,m,"child_removed",i,c,s),Wn(o,m,"child_added",i,c,s),Wn(o,m,"child_moved",T,c,s),Wn(o,m,"child_changed",i,c,s),Wn(o,m,"value",i,c,s),m}(o.eventGenerator_,i,s,c?[c]:o.eventRegistrations_)}let Is,No;class Eo{constructor(){this.views=new Map}}function ml(o,i,s,c){const m=i.source.queryId;if(null!==m){const T=o.views.get(m);return(0,F.hu)(null!=T,"SyncTree gave us an op for an invalid query."),_s(T,i,s,c)}{let T=[];for(const x of o.views.values())T=T.concat(_s(x,i,s,c));return T}}function Zs(o,i,s,c,m){const x=o.views.get(i._queryIdentifier);if(!x){let Y=uo(s,m?c:null),oe=!1;Y?oe=!0:c instanceof nn?(Y=Yi(s,c),oe=!1):(Y=nn.EMPTY_NODE,oe=!1);const De=ti(new zt(Y,oe,!1),new zt(c,m,!1));return new Cu(i,De)}return x}function Ro(o){const i=[];for(const s of o.views.values())s.query._queryParams.loadsAllData()||i.push(s);return i}function vs(o,i){let s=null;for(const c of o.views.values())s=s||Oo(c,i);return s}function Za(o,i){return i._queryParams.loadsAllData()?ea(o):o.views.get(i._queryIdentifier)}function Ys(o,i){return null!=Za(o,i)}function Po(o){return null!=ea(o)}function ea(o){for(const i of o.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let _l=1;class A{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Er(null),this.pendingWriteTree_=function Da(){return{visibleWrites:Zr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function k(o,i,s,c,m){return function y(o,i,s,c,m){(0,F.hu)(c>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===m&&(m=!0),o.allWrites.push({path:i,snap:s,writeId:c,visible:m}),m&&(o.visibleWrites=Ns(o.visibleWrites,i,s)),o.lastWriteId=c}(o.pendingWriteTree_,i,s,c,m),m?qs(o,new Ki({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,s)):[]}function pe(o,i,s=!1){const c=function L(o,i){for(let s=0;s<o.allWrites.length;s++){const c=o.allWrites[s];if(c.writeId===i)return c}return null}(o.pendingWriteTree_,i);if(function Z(o,i){const s=o.allWrites.findIndex(Y=>Y.writeId===i);(0,F.hu)(s>=0,"removeWrite called with nonexistent writeId.");const c=o.allWrites[s];o.allWrites.splice(s,1);let m=c.visible,T=!1,x=o.allWrites.length-1;for(;m&&x>=0;){const Y=o.allWrites[x];Y.visible&&(x>=s&&he(Y,c.path)?m=!1:ai(c.path,Y.path)&&(T=!0)),x--}return!!m&&(T?(function Ae(o){o.visibleWrites=dn(o.allWrites,_t,ar()),o.lastWriteId=o.allWrites.length>0?o.allWrites[o.allWrites.length-1].writeId:-1}(o),!0):(c.snap?o.visibleWrites=lo(o.visibleWrites,c.path):Rn(c.children,oe=>{o.visibleWrites=lo(o.visibleWrites,Zn(c.path,oe))}),!0))}(o.pendingWriteTree_,i)){let T=new Er(null);return null!=c.snap?T=T.set(ar(),!0):Rn(c.children,x=>{T=T.set(new hr(x),!0)}),qs(o,new is(c.path,T,s))}return[]}function qe(o,i,s){return qs(o,new Ki({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,s))}function tr(o,i,s,c){const m=i._path,T=o.syncPointTree_.get(m);let x=[];if(T&&("default"===i._queryIdentifier||Ys(T,i))){const Y=function Ka(o,i,s,c){const m=i._queryIdentifier,T=[];let x=[];const Y=Po(o);if("default"===m)for(const[oe,De]of o.views.entries())x=x.concat(qi(De,s,c)),za(De)&&(o.views.delete(oe),De.query._queryParams.loadsAllData()||T.push(De.query));else{const oe=o.views.get(m);oe&&(x=x.concat(qi(oe,s,c)),za(oe)&&(o.views.delete(m),oe.query._queryParams.loadsAllData()||T.push(oe.query)))}return Y&&!Po(o)&&T.push(new(function Du(){return(0,F.hu)(Is,"Reference.ts has not been loaded"),Is}())(i._repo,i._path)),{removed:T,events:x}}(T,i,s,c);(function Tu(o){return 0===o.views.size})(T)&&(o.syncPointTree_=o.syncPointTree_.remove(m));const oe=Y.removed;x=Y.events;const De=-1!==oe.findIndex(st=>st._queryParams.loadsAllData()),ut=o.syncPointTree_.findOnPath(m,(st,Mt)=>Po(Mt));if(De&&!ut){const st=o.syncPointTree_.subtree(m);if(!st.isEmpty()){const Mt=function Hl(o){return o.fold((i,s,c)=>{if(s&&Po(s))return[ea(s)];{let m=[];return s&&(m=Ro(s)),Rn(c,(T,x)=>{m=m.concat(x)}),m}})}(st);for(let En=0;En<Mt.length;++En){const Bn=Mt[En],gi=Bn.query,As=bs(o,Bn);o.listenProvider_.startListening(Do(gi),Vs(o,gi),As.hashFn,As.onComplete)}}}!ut&&oe.length>0&&!c&&(De?o.listenProvider_.stopListening(Do(i),null):oe.forEach(st=>{const Mt=o.queryToTagMap.get(ko(st));o.listenProvider_.stopListening(Do(st),Mt)})),function Iu(o,i){for(let s=0;s<i.length;++s){const c=i[s];if(!c._queryParams.loadsAllData()){const m=ko(c),T=o.queryToTagMap.get(m);o.queryToTagMap.delete(m),o.tagToQueryMap.delete(T)}}}(o,oe)}return x}function ur(o,i,s){const c=i._path;let m=null,T=!1;o.syncPointTree_.foreachOnPath(c,(st,Mt)=>{const En=Fr(st,c);m=m||vs(Mt,En),T=T||Po(Mt)});let Y,x=o.syncPointTree_.get(c);x?(T=T||Po(x),m=m||vs(x,ar())):(x=new Eo,o.syncPointTree_=o.syncPointTree_.set(c,x)),null!=m?Y=!0:(Y=!1,m=nn.EMPTY_NODE,o.syncPointTree_.subtree(c).foreachChild((Mt,En)=>{const Bn=vs(En,ar());Bn&&(m=m.updateImmediateChild(Mt,Bn))}));const oe=Ys(x,i);if(!oe&&!i._queryParams.loadsAllData()){const st=ko(i);(0,F.hu)(!o.queryToTagMap.has(st),"View does not exist, but we have a tag");const Mt=function bu(){return _l++}();o.queryToTagMap.set(st,Mt),o.tagToQueryMap.set(Mt,st)}let ut=function ys(o,i,s,c,m,T){const x=Zs(o,i,c,m,T);return o.views.has(i._queryIdentifier)||o.views.set(i._queryIdentifier,x),function Xo(o,i){o.eventRegistrations_.push(i)}(x,s),function wa(o,i){const s=o.viewCache_.eventCache,c=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(pn,(T,x)=>{c.push(Rs(T,x))}),s.isFullyInitialized()&&c.push(mo(s.getNode())),co(o,c,s.getNode(),i)}(x,s)}(x,i,s,E(o.pendingWriteTree_,c),m,Y);if(!oe&&!T){const st=Za(x,i);ut=ut.concat(function vl(o,i,s){const c=i._path,m=Vs(o,i),T=bs(o,s),x=o.listenProvider_.startListening(Do(i),m,T.hashFn,T.onComplete),Y=o.syncPointTree_.subtree(c);if(m)(0,F.hu)(!Po(Y.value),"If we're adding a query, it shouldn't be shadowed");else{const oe=Y.fold((De,ut,st)=>{if(!Qt(De)&&ut&&Po(ut))return[ea(ut).query];{let Mt=[];return ut&&(Mt=Mt.concat(Ro(ut).map(En=>En.query))),Rn(st,(En,Bn)=>{Mt=Mt.concat(Bn)}),Mt}});for(let De=0;De<oe.length;++De){const ut=oe[De];o.listenProvider_.stopListening(Do(ut),Vs(o,ut))}}return x}(o,i,st))}return ut}function ss(o,i,s){const m=o.pendingWriteTree_,T=o.syncPointTree_.findOnPath(i,(x,Y)=>{const De=vs(Y,Fr(x,i));if(De)return De});return mr(m,i,T,s,!0)}function qs(o,i){return xo(i,o.syncPointTree_,null,E(o.pendingWriteTree_,ar()))}function xo(o,i,s,c){if(Qt(o.path))return Co(o,i,s,c);{const m=i.get(ar());null==s&&null!=m&&(s=vs(m,ar()));let T=[];const x=me(o.path),Y=o.operationForChild(x),oe=i.children.get(x);if(oe&&Y){const De=s?s.getImmediateChild(x):null,ut=ja(c,x);T=T.concat(xo(Y,oe,De,ut))}return m&&(T=T.concat(ml(m,o,c,s))),T}}function Co(o,i,s,c){const m=i.get(ar());null==s&&null!=m&&(s=vs(m,ar()));let T=[];return i.children.inorderTraversal((x,Y)=>{const oe=s?s.getImmediateChild(x):null,De=ja(c,x),ut=o.operationForChild(x);ut&&(T=T.concat(Co(ut,Y,oe,De)))}),m&&(T=T.concat(ml(m,o,c,s))),T}function bs(o,i){const s=i.query,c=Vs(o,s);return{hashFn:()=>(function Pi(o){return o.viewCache_.serverCache.getNode()}(i)||nn.EMPTY_NODE).hash(),onComplete:m=>{if("ok"===m)return c?function Dn(o,i,s){const c=yl(o,s);if(c){const m=Wo(c),T=m.path,x=m.queryId,Y=Fr(T,i);return na(o,T,new ei(Ks(x),Y))}return[]}(o,s._path,c):function jt(o,i){return qs(o,new ei({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(o,s._path);{const T=function dt(o,i){let s="Unknown Error";"too_big"===o?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===o?s="Client doesn't have permission to access the desired data.":"unavailable"===o&&(s="The service is unavailable");const c=new Error(o+" at "+i._path.toString()+": "+s);return c.code=o.toUpperCase(),c}(m,s);return tr(o,s,null,T)}}}}function Vs(o,i){const s=ko(i);return o.queryToTagMap.get(s)}function ko(o){return o._path.toString()+"$"+o._queryIdentifier}function yl(o,i){return o.tagToQueryMap.get(i)}function Wo(o){const i=o.indexOf("$");return(0,F.hu)(-1!==i&&i<o.length-1,"Bad queryKey."),{queryId:o.substr(i+1),path:new hr(o.substr(0,i))}}function na(o,i,s){const c=o.syncPointTree_.get(i);return(0,F.hu)(c,"Missing sync point for query tag that we're tracking"),ml(c,s,E(o.pendingWriteTree_,i),null)}function Do(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new(function ta(){return(0,F.hu)(No,"Reference.ts has not been loaded"),No}())(o._repo,o._path):o}class Go{constructor(i){this.node_=i}getImmediateChild(i){const s=this.node_.getImmediateChild(i);return new Go(s)}node(){return this.node_}}class El{constructor(i,s){this.syncTree_=i,this.path_=s}getImmediateChild(i){const s=Zn(this.path_,i);return new El(this.syncTree_,s)}node(){return ss(this.syncTree_,this.path_)}}const wu=function(o,i,s){return o&&"object"==typeof o?((0,F.hu)(".sv"in o,"Unexpected leaf node or priority contents"),"string"==typeof o[".sv"]?zo(o[".sv"],i,s):"object"==typeof o[".sv"]?Ya(o[".sv"],i):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2))):o},zo=function(o,i,s){if("timestamp"===o)return s.timestamp;(0,F.hu)(!1,"Unexpected server value: "+o)},Ya=function(o,i,s){o.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2));const c=o.increment;"number"!=typeof c&&(0,F.hu)(!1,"Unexpected increment value: "+c);const m=i.node();if((0,F.hu)(null!=m,"Expected ChildrenNode.EMPTY_NODE for nulls"),!m.isLeafNode())return c;const x=m.getValue();return"number"!=typeof x?c:x+c},Au=function(o,i,s,c){return Cl(i,new El(s,o),c)},$l=function(o,i,s){return Cl(o,new Go(i),s)};function Cl(o,i,s){const c=o.getPriority().val(),m=wu(c,i.getImmediateChild(".priority"),s);let T;if(o.isLeafNode()){const x=o,Y=wu(x.getValue(),i,s);return Y!==x.getValue()||m!==x.getPriority().val()?new ot(Y,Xr(m)):o}{const x=o;return T=x,m!==x.getPriority().val()&&(T=T.updatePriority(new ot(m))),x.forEachChild(pn,(Y,oe)=>{const De=Cl(oe,i.getImmediateChild(Y),s);De!==oe&&(T=T.updateImmediateChild(Y,De))}),T}}class Aa{constructor(i="",s=null,c={children:{},childCount:0}){this.name=i,this.parent=s,this.node=c}}function Wl(o,i){let s=i instanceof hr?i:new hr(i),c=o,m=me(s);for(;null!==m;){const T=(0,F.DV)(c.node.children,m)||{children:{},childCount:0};c=new Aa(m,c,T),s=Be(s),m=me(s)}return c}function ra(o){return o.node.value}function Gl(o,i){o.node.value=i,Mu(o)}function Su(o){return o.node.childCount>0}function Sa(o,i){Rn(o.node.children,(s,c)=>{i(new Aa(s,o,c))})}function ia(o,i,s,c){s&&!c&&i(o),Sa(o,m=>{ia(m,i,!0,c)}),s&&c&&i(o)}function sa(o){return new hr(null===o.parent?o.name:sa(o.parent)+"/"+o.name)}function Mu(o){null!==o.parent&&function Tl(o,i,s){const c=function Dl(o){return void 0===ra(o)&&!Su(o)}(s),m=(0,F.r3)(o.node.children,i);c&&m?(delete o.node.children[i],o.node.childCount--,Mu(o)):!c&&!m&&(o.node.children[i]=s.node,o.node.childCount++,Mu(o))}(o.parent,o.name,o)}const zl=/[\[\].#$\/\u0000-\u001F\u007F]/,Ou=/[\[\].#$\u0000-\u001F\u007F]/,Il=10485760,Ma=function(o){return"string"==typeof o&&0!==o.length&&!zl.test(o)},Ko=function(o){return"string"==typeof o&&0!==o.length&&!Ou.test(o)},qa=function(o){return null===o||"string"==typeof o||"number"==typeof o&&!Nn(o)||o&&"object"==typeof o&&(0,F.r3)(o,".sv")},To=function(o,i,s,c){c&&void 0===i||oa((0,F.gK)(o,"value"),i,s)},oa=function(o,i,s){const c=s instanceof hr?new mi(s,o):s;if(void 0===i)throw new Error(o+"contains undefined "+li(c));if("function"==typeof i)throw new Error(o+"contains a function "+li(c)+" with contents = "+i.toString());if(Nn(i))throw new Error(o+"contains "+i.toString()+" "+li(c));if("string"==typeof i&&i.length>Il/3&&(0,F.ug)(i)>Il)throw new Error(o+"contains a string greater than "+Il+" utf8 bytes "+li(c)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let m=!1,T=!1;if(Rn(i,(x,Y)=>{if(".value"===x)m=!0;else if(".priority"!==x&&".sv"!==x&&(T=!0,!Ma(x)))throw new Error(o+" contains an invalid key ("+x+") "+li(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function io(o,i){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(i),o.byteLength_+=(0,F.ug)(i),ts(o)})(c,x),oa(o,Y,c),function Bi(o){const i=o.parts_.pop();o.byteLength_-=(0,F.ug)(i),o.parts_.length>0&&(o.byteLength_-=1)}(c)}),m&&T)throw new Error(o+' contains ".value" child '+li(c)+" in addition to actual children.")}},Qs=function(o,i,s,c){if(c&&void 0===i)return;const m=(0,F.gK)(o,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(m+" must be an object containing the children to replace.");const T=[];Rn(i,(x,Y)=>{const oe=new hr(x);if(oa(m,Y,Zn(s,oe)),".priority"===wt(oe)&&!qa(Y))throw new Error(m+"contains an invalid value for '"+oe.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");T.push(oe)}),function(o,i){let s,c;for(s=0;s<i.length;s++){c=i[s];const T=hn(c);for(let x=0;x<T.length;x++)if((".priority"!==T[x]||x!==T.length-1)&&!Ma(T[x]))throw new Error(o+"contains an invalid key ("+T[x]+") in path "+c.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(es);let m=null;for(s=0;s<i.length;s++){if(c=i[s],null!==m&&ai(m,c))throw new Error(o+"contains a path "+m.toString()+" that is ancestor of another path "+c.toString());m=c}}(m,T)},Zo=function(o,i,s){if(!s||void 0!==i){if(Nn(i))throw new Error((0,F.gK)(o,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qa(i))throw new Error((0,F.gK)(o,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},aa=function(o,i,s,c){if(!(c&&void 0===s||Ma(s)))throw new Error((0,F.gK)(o,i)+'was an invalid key = "'+s+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Qa=function(o,i,s,c){if(!(c&&void 0===s||Ko(s)))throw new Error((0,F.gK)(o,i)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Js=function(o,i){if(".info"===me(i))throw new Error(o+" failed = Can't modify data under /.info/")},Zl=function(o,i){const s=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Ma(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==s.length&&!function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),Ko(o)}(s))throw new Error((0,F.gK)(o,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ru{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ja(o,i){let s=null;for(let c=0;c<i.length;c++){const m=i[c],T=m.getPath();null!==s&&!Vi(T,s.path)&&(o.eventLists_.push(s),s=null),null===s&&(s={events:[],path:T}),s.events.push(m)}s&&o.eventLists_.push(s)}function Yl(o,i,s){Ja(o,s),gc(o,c=>Vi(c,i))}function Xs(o,i,s){Ja(o,s),gc(o,c=>ai(c,i)||ai(i,c))}function gc(o,i){o.recursionDepth_++;let s=!0;for(let c=0;c<o.eventLists_.length;c++){const m=o.eventLists_[c];m&&(i(m.path)?(la(o.eventLists_[c]),o.eventLists_[c]=null):s=!1)}s&&(o.eventLists_=[]),o.recursionDepth_--}function la(o){for(let i=0;i<o.events.length;i++){const s=o.events[i];if(null!==s){o.events[i]=null;const c=s.getEventRunner();Bt&&gt("event: "+s.toString()),bt(c)}}}const mc="repo_interrupt";class ua{constructor(i,s,c,m){this.repoInfo_=i,this.forceRestClient_=s,this.authTokenProvider_=c,this.appCheckProvider_=m,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ru,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cn(),this.transactionQueueTree_=new Aa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ws(o){const s=o.infoData_.getNode(new hr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function Fo(o){return function(o){return(o=o||{}).timestamp=o.timestamp||(new Date).getTime(),o}({timestamp:Ws(o)})}function ql(o,i,s,c,m){o.dataUpdateCount++;const T=new hr(i);s=o.interceptServerDataCallback_?o.interceptServerDataCallback_(i,s):s;let x=[];if(m)if(c){const oe=(0,F.UI)(s,De=>Xr(De));x=function Sr(o,i,s,c){const m=yl(o,c);if(m){const T=Wo(m),x=T.path,Y=T.queryId,oe=Fr(x,i),De=Er.fromObject(s);return na(o,x,new gs(Ks(Y),oe,De))}return[]}(o.serverSyncTree_,T,oe,m)}else{const oe=Xr(s);x=function nr(o,i,s,c){const m=yl(o,c);if(null!=m){const T=Wo(m),x=T.path,Y=T.queryId,oe=Fr(x,i);return na(o,x,new Ki(Ks(Y),oe,s))}return[]}(o.serverSyncTree_,T,oe,m)}else if(c){const oe=(0,F.UI)(s,De=>Xr(De));x=function lt(o,i,s){const c=Er.fromObject(s);return qs(o,new gs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,c))}(o.serverSyncTree_,T,oe)}else{const oe=Xr(s);x=qe(o.serverSyncTree_,T,oe)}let Y=T;x.length>0&&(Y=Oa(o,T)),Xs(o.eventQueue_,Y,x)}function Xa(o,i){xu(o,"connected",i),!1===i&&function Jl(o){Lo(o,"onDisconnectEvents");const i=Fo(o),s=Cn();Gr(o.onDisconnect_,ar(),(m,T)=>{const x=Au(m,T,o.serverSyncTree_,i);Ln(s,m,x)});let c=[];Gr(s,ar(),(m,T)=>{c=c.concat(qe(o.serverSyncTree_,m,T));const x=Sl(o,m);Oa(o,x)}),o.onDisconnect_=Cn(),Xs(o.eventQueue_,ar(),c)}(o)}function xu(o,i,s){const c=new hr("/.info/"+i),m=Xr(s);o.infoData_.updateSnapshot(c,m);const T=qe(o.infoSyncTree_,c,m);Xs(o.eventQueue_,c,T)}function el(o){return o.nextWriteId_++}function tl(o,i,s,c,m){Lo(o,"set",{path:i.toString(),value:s,priority:c});const T=Fo(o),x=Xr(s,c),Y=ss(o.serverSyncTree_,i),oe=$l(x,Y,T),De=el(o),ut=k(o.serverSyncTree_,i,oe,De,!0);Ja(o.eventQueue_,ut),o.server_.put(i.toString(),x.val(!0),(Mt,En)=>{const Bn="ok"===Mt;Bn||Et("set at "+i+" failed: "+Mt);const gi=pe(o.serverSyncTree_,De,!Bn);Xs(o.eventQueue_,i,gi),eo(0,m,Mt,En)});const st=Sl(o,i);Oa(o,st),Xs(o.eventQueue_,st,[])}function nd(o,i,s){o.server_.onDisconnectCancel(i.toString(),(c,m)=>{"ok"===c&&Tr(o.onDisconnect_,i),eo(0,s,c,m)})}function ku(o,i,s,c){const m=Xr(s);o.server_.onDisconnectPut(i.toString(),m.val(!0),(T,x)=>{"ok"===T&&Ln(o.onDisconnect_,i,m),eo(0,c,T,x)})}function nl(o,i,s){let c;c=".info"===me(i._path)?tr(o.infoSyncTree_,i,s):tr(o.serverSyncTree_,i,s),Yl(o.eventQueue_,i._path,c)}function wl(o){o.persistentConnection_&&o.persistentConnection_.interrupt(mc)}function Lo(o,...i){let s="";o.persistentConnection_&&(s=o.persistentConnection_.id+":"),gt(s,...i)}function eo(o,i,s,c){i&&bt(()=>{if("ok"===s)i(null);else{const m=(s||"error").toUpperCase();let T=m;c&&(T+=": "+c);const x=new Error(T);x.code=m,i(x)}})}function eu(o,i,s){return ss(o.serverSyncTree_,i,s)||nn.EMPTY_NODE}function Si(o,i=o.transactionQueueTree_){if(i||Al(o,i),ra(i)){const s=Lu(o,i);(0,F.hu)(s.length>0,"Sending zero length transaction queue"),s.every(m=>0===m.status)&&function tu(o,i,s){const c=s.map(De=>De.currentWriteId),m=eu(o,i,c);let T=m;const x=m.hash();for(let De=0;De<s.length;De++){const ut=s[De];(0,F.hu)(0===ut.status,"tryToSendTransactionQueue_: items in queue should all be run."),ut.status=1,ut.retryCount++;const st=Fr(i,ut.path);T=T.updateChild(st,ut.currentOutputSnapshotRaw)}const Y=T.val(!0),oe=i;o.server_.put(oe.toString(),Y,De=>{Lo(o,"transaction put response",{path:oe.toString(),status:De});let ut=[];if("ok"===De){const st=[];for(let Mt=0;Mt<s.length;Mt++)s[Mt].status=2,ut=ut.concat(pe(o.serverSyncTree_,s[Mt].currentWriteId)),s[Mt].onComplete&&st.push(()=>s[Mt].onComplete(null,!0,s[Mt].currentOutputSnapshotResolved)),s[Mt].unwatcher();Al(o,Wl(o.transactionQueueTree_,i)),Si(o,o.transactionQueueTree_),Xs(o.eventQueue_,i,ut);for(let Mt=0;Mt<st.length;Mt++)bt(st[Mt])}else{if("datastale"===De)for(let st=0;st<s.length;st++)s[st].status=3===s[st].status?4:0;else{Et("transaction at "+oe.toString()+" failed: "+De);for(let st=0;st<s.length;st++)s[st].status=4,s[st].abortReason=De}Oa(o,i)}},x)}(o,sa(i),s)}else Su(i)&&Sa(i,s=>{Si(o,s)})}function Oa(o,i){const s=ru(o,i),c=sa(s);return function nu(o,i,s){if(0===i.length)return;const c=[];let m=[];const x=i.filter(Y=>0===Y.status).map(Y=>Y.currentWriteId);for(let Y=0;Y<i.length;Y++){const oe=i[Y],De=Fr(s,oe.path);let st,ut=!1;if((0,F.hu)(null!==De,"rerunTransactionsUnderNode_: relativePath should not be null."),4===oe.status)ut=!0,st=oe.abortReason,m=m.concat(pe(o.serverSyncTree_,oe.currentWriteId,!0));else if(0===oe.status)if(oe.retryCount>=25)ut=!0,st="maxretry",m=m.concat(pe(o.serverSyncTree_,oe.currentWriteId,!0));else{const Mt=eu(o,oe.path,x);oe.currentInputSnapshot=Mt;const En=i[Y].update(Mt.val());if(void 0!==En){oa("transaction failed: Data returned ",En,oe.path);let Bn=Xr(En);"object"==typeof En&&null!=En&&(0,F.r3)(En,".priority")||(Bn=Bn.updatePriority(Mt.getPriority()));const As=oe.currentWriteId,dl=Fo(o),pa=$l(Bn,Mt,dl);oe.currentOutputSnapshotRaw=Bn,oe.currentOutputSnapshotResolved=pa,oe.currentWriteId=el(o),x.splice(x.indexOf(As),1),m=m.concat(k(o.serverSyncTree_,oe.path,pa,oe.currentWriteId,oe.applyLocally)),m=m.concat(pe(o.serverSyncTree_,As,!0))}else ut=!0,st="nodata",m=m.concat(pe(o.serverSyncTree_,oe.currentWriteId,!0))}Xs(o.eventQueue_,s,m),m=[],ut&&(i[Y].status=2,setTimeout(i[Y].unwatcher,Math.floor(0)),i[Y].onComplete&&c.push("nodata"===st?()=>i[Y].onComplete(null,!1,i[Y].currentInputSnapshot):()=>i[Y].onComplete(new Error(st),!1,null)))}Al(o,o.transactionQueueTree_);for(let Y=0;Y<c.length;Y++)bt(c[Y]);Si(o,o.transactionQueueTree_)}(o,Lu(o,s),c),c}function ru(o,i){let s,c=o.transactionQueueTree_;for(s=me(i);null!==s&&void 0===ra(c);)c=Wl(c,s),s=me(i=Be(i));return c}function Lu(o,i){const s=[];return rl(o,i,s),s.sort((c,m)=>c.order-m.order),s}function rl(o,i,s){const c=ra(i);if(c)for(let m=0;m<c.length;m++)s.push(c[m]);Sa(i,m=>{rl(o,m,s)})}function Al(o,i){const s=ra(i);if(s){let c=0;for(let m=0;m<s.length;m++)2!==s[m].status&&(s[c]=s[m],c++);s.length=c,Gl(i,s.length>0?s:void 0)}Sa(i,c=>{Al(o,c)})}function Sl(o,i){const s=sa(ru(o,i)),c=Wl(o.transactionQueueTree_,i);return function hc(o,i,s){let c=s?o:o.parent;for(;null!==c;){if(i(c))return!0;c=c.parent}}(c,m=>{iu(o,m)}),iu(o,c),ia(c,m=>{iu(o,m)}),s}function iu(o,i){const s=ra(i);if(s){const c=[];let m=[],T=-1;for(let x=0;x<s.length;x++)3===s[x].status||(1===s[x].status?((0,F.hu)(T===x-1,"All SENT items should be at beginning of queue."),T=x,s[x].status=3,s[x].abortReason="set"):((0,F.hu)(0===s[x].status,"Unexpected transaction status in abort"),s[x].unwatcher(),m=m.concat(pe(o.serverSyncTree_,s[x].currentWriteId,!0)),s[x].onComplete&&c.push(s[x].onComplete.bind(null,new Error("set"),!1,null))));-1===T?Gl(i,void 0):s.length=T+1,Xs(o.eventQueue_,sa(i),m);for(let x=0;x<c.length;x++)bt(c[x])}}const ca=function(o,i){const s=ws(o),c=s.namespace;return"firebase.com"===s.domain&&We(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!c||"undefined"===c)&&"localhost"!==s.domain&&We("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new _e(s.host,s.secure,c,"ws"===s.scheme||"wss"===s.scheme,i,"",c!==s.subdomain),path:new hr(s.pathString)}},ws=function(o){let i="",s="",c="",m="",T="",x=!0,Y="https",oe=443;if("string"==typeof o){let De=o.indexOf("//");De>=0&&(Y=o.substring(0,De-1),o=o.substring(De+2));let ut=o.indexOf("/");-1===ut&&(ut=o.length);let st=o.indexOf("?");-1===st&&(st=o.length),i=o.substring(0,Math.min(ut,st)),ut<st&&(m=function rd(o){let i="";const s=o.split("/");for(let c=0;c<s.length;c++)if(s[c].length>0){let m=s[c];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(T){}i+="/"+m}return i}(o.substring(ut,st)));const Mt=function id(o){const i={};"?"===o.charAt(0)&&(o=o.substring(1));for(const s of o.split("&")){if(0===s.length)continue;const c=s.split("=");2===c.length?i[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):Et(`Invalid query segment '${s}' in query '${o}'`)}return i}(o.substring(Math.min(o.length,st)));De=i.indexOf(":"),De>=0?(x="https"===Y||"wss"===Y,oe=parseInt(i.substring(De+1),10)):De=i.length;const En=i.slice(0,De);if("localhost"===En.toLowerCase())s="localhost";else if(En.split(".").length<=2)s=En;else{const Bn=i.indexOf(".");c=i.substring(0,Bn).toLowerCase(),s=i.substring(Bn+1),T=c}"ns"in Mt&&(T=Mt.ns)}return{host:i,port:oe,domain:s,subdomain:c,secure:x,scheme:Y,pathString:m,namespace:T}};class Ra{constructor(i,s,c,m){this.eventType=i,this.eventRegistration=s,this.snapshot=c,this.prevName=m}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class il{constructor(i,s,c){this.eventRegistration=i,this.error=s,this.path=c}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ml{constructor(i,s){this.snapshotCallback=i,this.cancelCallback=s}onValue(i,s){this.snapshotCallback.call(null,i,s)}onCancel(i){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class Es{constructor(i,s){this._repo=i,this._path=s}cancel(){const i=new F.BH;return nd(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){Js("OnDisconnect.remove",this._path);const i=new F.BH;return ku(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){Js("OnDisconnect.set",this._path),To("OnDisconnect.set",i,this._path,!1);const s=new F.BH;return ku(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}setWithPriority(i,s){Js("OnDisconnect.setWithPriority",this._path),To("OnDisconnect.setWithPriority",i,this._path,!1),Zo("OnDisconnect.setWithPriority",s,!1);const c=new F.BH;return function bl(o,i,s,c,m){const T=Xr(s,c);o.server_.onDisconnectPut(i.toString(),T.val(!0),(x,Y)=>{"ok"===x&&Ln(o.onDisconnect_,i,T),eo(0,m,x,Y)})}(this._repo,this._path,i,s,c.wrapCallback(()=>{})),c.promise}update(i){Js("OnDisconnect.update",this._path),Qs("OnDisconnect.update",i,this._path,!1);const s=new F.BH;return function yc(o,i,s,c){if((0,F.xb)(s))return gt("onDisconnect().update() called with empty data.  Don't do anything."),void eo(0,c,"ok",void 0);o.server_.onDisconnectMerge(i.toString(),s,(m,T)=>{"ok"===m&&Rn(s,(x,Y)=>{const oe=Xr(Y);Ln(o.onDisconnect_,Zn(i,x),oe)}),eo(0,c,m,T)})}(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}}class Qi{constructor(i,s,c,m){this._repo=i,this._path=s,this._queryParams=c,this._orderByCalled=m}get key(){return Qt(this._path)?null:wt(this._path)}get ref(){return new Bs(this._repo,this._path)}get _queryIdentifier(){const i=gn(this._queryParams),s=qt(i);return"{}"===s?"default":s}get _queryObject(){return gn(this._queryParams)}isEqual(i){if(!((i=(0,F.m9)(i))instanceof Qi))return!1;const s=this._repo===i._repo,c=Vi(this._path,i._path);return s&&c&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Lt(o){let i="";for(let s=o.pieceNum_;s<o.pieces_.length;s++)""!==o.pieces_[s]&&(i+="/"+encodeURIComponent(String(o.pieces_[s])));return i||"/"}(this._path)}}function Pa(o,i){if(!0===o._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Ji(o){let i=null,s=null;if(o.hasStart()&&(i=o.getIndexStartValue()),o.hasEnd()&&(s=o.getIndexEndValue()),o.getIndex()===wi){const c="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",m="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(o.hasStart()){if(o.getIndexStartName()!==_n)throw new Error(c);if("string"!=typeof i)throw new Error(m)}if(o.hasEnd()){if(o.getIndexEndName()!==fn)throw new Error(c);if("string"!=typeof s)throw new Error(m)}}else if(o.getIndex()===pn){if(null!=i&&!qa(i)||null!=s&&!qa(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(o.getIndex()instanceof Cs||o.getIndex()===lr,"unknown index type."),null!=i&&"object"==typeof i||null!=s&&"object"==typeof s)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Yo(o){if(o.hasStart()&&o.hasEnd()&&o.hasLimit()&&!o.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Bs extends Qi{constructor(i,s){super(i,s,new p,!1)}get parent(){const i=pr(this._path);return null===i?null:new Bs(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class da{constructor(i,s,c){this._node=i,this.ref=s,this._index=c}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const s=new hr(i),c=qo(this.ref,i);return new da(this._node.getChild(s),c,pn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(c,m)=>i(new da(m,qo(this.ref,c),pn)))}hasChild(i){const s=new hr(i);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function sl(o,i){return(o=(0,F.m9)(o))._checkNotDeleted("ref"),void 0!==i?qo(o._root,i):o._root}function Ol(o,i){(o=(0,F.m9)(o))._checkNotDeleted("refFromURL");const s=ca(i,o._repo.repoInfo_.nodeAdmin);Zl("refFromURL",s);const c=s.repoInfo;return!o._repo.repoInfo_.isCustomHost()&&c.host!==o._repo.repoInfo_.host&&We("refFromURL: Host name does not match the current database: (found "+c.host+" but expected "+o._repo.repoInfo_.host+")"),sl(o,s.path.toString())}function qo(o,i){return null===me((o=(0,F.m9)(o))._path)?(s=i,s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Qa("child","path",s,!1)):Qa("child","path",i,!1),new Bs(o._repo,Zn(o._path,i));var s}function Rl(o,i){o=(0,F.m9)(o),Js("set",o._path),To("set",i,o._path,!1);const s=new F.BH;return tl(o._repo,o._path,i,null,s.wrapCallback(()=>{})),s.promise}function Tc(o,i){Qs("update",i,o._path,!1);const s=new F.BH;return function Ql(o,i,s,c){Lo(o,"update",{path:i.toString(),value:s});let m=!0;const T=Fo(o),x={};if(Rn(s,(Y,oe)=>{m=!1,x[Y]=Au(Zn(i,Y),Xr(oe),o.serverSyncTree_,T)}),m)gt("update() called with empty data.  Don't do anything."),eo(0,c,"ok",void 0);else{const Y=el(o),oe=function K(o,i,s,c){!function P(o,i,s,c){(0,F.hu)(c>o.lastWriteId,"Stacking an older merge on top of newer ones"),o.allWrites.push({path:i,children:s,writeId:c,visible:!0}),o.visibleWrites=ao(o.visibleWrites,i,s),o.lastWriteId=c}(o.pendingWriteTree_,i,s,c);const m=Er.fromObject(s);return qs(o,new gs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,m))}(o.serverSyncTree_,i,x,Y);Ja(o.eventQueue_,oe),o.server_.merge(i.toString(),s,(De,ut)=>{const st="ok"===De;st||Et("update at "+i+" failed: "+De);const Mt=pe(o.serverSyncTree_,Y,!st),En=Mt.length>0?Oa(o,i):i;Xs(o.eventQueue_,En,Mt),eo(0,c,De,ut)}),Rn(s,De=>{const ut=Sl(o,Zn(i,De));Oa(o,ut)}),Xs(o.eventQueue_,i,[])}}(o._repo,o._path,i,s.wrapCallback(()=>{})),s.promise}function Uu(o){return function td(o,i){const s=function kr(o,i){const s=i._path;let c=null;o.syncPointTree_.foreachOnPath(s,(De,ut)=>{const st=Fr(De,s);c=c||vs(ut,st)});let m=o.syncPointTree_.get(s);m?c=c||vs(m,ar()):(m=new Eo,o.syncPointTree_=o.syncPointTree_.set(s,m));const T=null!=c,x=T?new zt(c,!0,!1):null;return function Ga(o){return oo(o.viewCache_)}(Zs(m,i,E(o.pendingWriteTree_,i._path),T?x.getNode():nn.EMPTY_NODE,T))}(o.serverSyncTree_,i);return null!=s?Promise.resolve(s):o.server_.get(i).then(c=>{const m=Xr(c).withIndex(i._queryParams.getIndex()),T=qe(o.serverSyncTree_,i._path,m);return Yl(o.eventQueue_,i._path,T),Promise.resolve(m)},c=>(Lo(o,"get for query "+(0,F.Pz)(i)+" failed: "+c),Promise.reject(new Error(c))))}((o=(0,F.m9)(o))._repo,o).then(i=>new da(i,new Bs(o._repo,o._path),o._queryParams.getIndex()))}class Xi{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,s){const c=s._queryParams.getIndex();return new Ra("value",this,new da(i.snapshotNode,new Bs(s._repo,s._path),c))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new il(this,i,s):null}matches(i){return i instanceof Xi&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Na{constructor(i,s){this.eventType=i,this.callbackContext=s}respondsTo(i){let s="children_added"===i?"child_added":i;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new il(this,i,s):null}createEvent(i,s){(0,F.hu)(null!=i.childName,"Child events should have a childName.");const c=qo(new Bs(s._repo,s._path),i.childName),m=s._queryParams.getIndex();return new Ra(i.type,this,new da(i.snapshotNode,c,m),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof Na&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ha(o,i,s,c,m){let T;if("object"==typeof c&&(T=void 0,m=c),"function"==typeof c&&(T=c),m&&m.onlyOnce){const oe=s,De=(ut,st)=>{nl(o._repo,o,Y),oe(ut,st)};De.userCallback=s.userCallback,De.context=s.context,s=De}const x=new Ml(s,T||void 0),Y="value"===i?new Xi(x):new Na(i,x);return function vc(o,i,s){let c;c=".info"===me(i._path)?ur(o.infoSyncTree_,i,s):ur(o.serverSyncTree_,i,s),Yl(o.eventQueue_,i._path,c)}(o._repo,o,Y),()=>nl(o._repo,o,Y)}function ou(o,i,s,c){return ha(o,"value",i,s,c)}function bo(o,i,s,c){return ha(o,"child_added",i,s,c)}function xa(o,i,s,c){return ha(o,"child_changed",i,s,c)}function Pl(o,i,s,c){return ha(o,"child_moved",i,s,c)}function au(o,i,s,c){return ha(o,"child_removed",i,s,c)}function Vu(o,i,s){let c=null;const m=s?new Ml(s):null;"value"===i?c=new Xi(m):i&&(c=new Na(i,m)),nl(o._repo,o,c)}class Gs{}class Bu extends Gs{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){To("endAt",this._value,i._path,!0);const s=Ce(i._queryParams,this._value,this._key);if(Yo(s),Ji(s),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qi(i._repo,i._path,s,i._orderByCalled)}}class bc extends Gs{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){To("endBefore",this._value,i._path,!1);const s=function Je(o,i,s){let c,m;return o.index_===wi?("string"==typeof i&&(i=go(i)),m=Ce(o,i,s)):(c=null==s?_n:go(s),m=Ce(o,i,c)),m.endBeforeSet_=!0,m}(i._queryParams,this._value,this._key);if(Yo(s),Ji(s),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qi(i._repo,i._path,s,i._orderByCalled)}}class f extends Gs{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){To("startAt",this._value,i._path,!0);const s=ne(i._queryParams,this._value,this._key);if(Yo(s),Ji(s),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qi(i._repo,i._path,s,i._orderByCalled)}}class h extends Gs{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){To("startAfter",this._value,i._path,!1);const s=function Ee(o,i,s){let c;if(o.index_===wi)"string"==typeof i&&(i=po(i)),c=ne(o,i,s);else{let m;m=null==s?fn:po(s),c=ne(o,i,m)}return c.startAfterSet_=!0,c}(i._queryParams,this._value,this._key);if(Yo(s),Ji(s),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qi(i._repo,i._path,s,i._orderByCalled)}}class U extends Gs{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qi(i._repo,i._path,function M(o,i){const s=o.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="l",s}(i._queryParams,this._limit),i._orderByCalled)}}class $e extends Gs{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qi(i._repo,i._path,function $(o,i){const s=o.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="r",s}(i._queryParams,this._limit),i._orderByCalled)}}class Xt extends Gs{constructor(i){super(),this._path=i}_apply(i){Pa(i,"orderByChild");const s=new hr(this._path);if(Qt(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const c=new Cs(s),m=Dt(i._queryParams,c);return Ji(m),new Qi(i._repo,i._path,m,!0)}}class Yn extends Gs{_apply(i){Pa(i,"orderByKey");const s=Dt(i._queryParams,wi);return Ji(s),new Qi(i._repo,i._path,s,!0)}}class Ni extends Gs{_apply(i){Pa(i,"orderByPriority");const s=Dt(i._queryParams,pn);return Ji(s),new Qi(i._repo,i._path,s,!0)}}class ol extends Gs{_apply(i){Pa(i,"orderByValue");const s=Dt(i._queryParams,lr);return Ji(s),new Qi(i._repo,i._path,s,!0)}}class al extends Gs{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){if(To("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Bu(this._value,this._key)._apply(new f(this._value,this._key)._apply(i))}}function ho(o,...i){let s=(0,F.m9)(o);for(const c of i)s=c._apply(s);return s}(function gl(o){(0,F.hu)(!Is,"__referenceConstructor has already been defined"),Is=o})(Bs),function jl(o){(0,F.hu)(!No,"__referenceConstructor has already been defined"),No=o}(Bs);const ka={};function ll(o,i,s,c,m){let T=c||o.options.databaseURL;void 0===T&&(o.options.projectId||We("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",o.options.projectId),T=`${o.options.projectId}-default-rtdb.firebaseio.com`);let oe,De,x=ca(T,m),Y=x.repoInfo;"undefined"!=typeof process&&process.env&&(De=process.env.FIREBASE_DATABASE_EMULATOR_HOST),De?(oe=!0,T=`http://${De}?ns=${Y.namespace}`,x=ca(T,m),Y=x.repoInfo):oe=!x.repoInfo.secure;const ut=m&&oe?new Dr(Dr.OWNER):new un(o.name,o.options,i);Zl("Invalid Firebase Database URL",x),Qt(x.path)||We("Database URL must point to the root of a Firebase Database (not including a child path).");const st=function cu(o,i,s,c){let m=ka[i.name];m||(m={},ka[i.name]=m);let T=m[o.toURLString()];return T&&We("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),T=new ua(o,false,s,c),m[o.toURLString()]=T,T}(Y,o,ut,new en(o.name,s));return new Qd(st,o)}class Qd{constructor(i,s){this._repoInternal=i,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Pu(o,i,s){if(o.stats_=Re(o.repoInfo_),o.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)o.server_=new On(o.repoInfo_,(c,m,T,x)=>{ql(o,c,m,T,x)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(()=>Xa(o,!0),0);else{if(null!=s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(s)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}o.persistentConnection_=new Hi(o.repoInfo_,i,(c,m,T,x)=>{ql(o,c,m,T,x)},c=>{Xa(o,c)},c=>{!function Nu(o,i){Rn(i,(s,c)=>{xu(o,s,c)})}(o,c)},o.authTokenProvider_,o.appCheckProvider_,s),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(c=>{o.server_.refreshAuthToken(c)}),o.appCheckProvider_.addTokenChangeListener(c=>{o.server_.refreshAppCheckToken(c.token)}),o.statsReporter_=function ye(o,i){const s=o.toString();return xt[s]||(xt[s]=i()),xt[s]}(o.repoInfo_,()=>new Ri(o.stats_,o.server_)),o.infoData_=new fr,o.infoSyncTree_=new A({startListening:(c,m,T,x)=>{let Y=[];const oe=o.infoData_.getNode(c._path);return oe.isEmpty()||(Y=qe(o.infoSyncTree_,c._path,oe),setTimeout(()=>{x("ok")},0)),Y},stopListening:()=>{}}),xu(o,"connected",!1),o.serverSyncTree_=new A({startListening:(c,m,T,x)=>(o.server_.listen(c,T,m,(Y,oe)=>{const De=x(Y,oe);Xs(o.eventQueue_,c._path,De)}),[]),stopListening:(c,m)=>{o.server_.unlisten(c,m)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bs(this._repo,ar())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ac(o,i){const s=ka[i];(!s||s[o.key]!==o)&&We(`Database ${i}(${o.repoInfo_}) has already been deleted.`),wl(o),delete s[o.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&We("Cannot call "+i+" on a deleted database.")}}function od(o,i){In(o,i)}const Xd={".sv":"timestamp"};class ld{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Hi.prototype.simpleListen=function(o,i){this.sendRequest("q",{p:o},i)},Hi.prototype.echo=function(o,i){this.sendRequest("echo",{d:o},i)},function Oc(o){ve(ke.SDK_VERSION),(0,ke._registerComponent)(new vt.wA("database",(i,{instanceIdentifier:s})=>ll(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,ke.registerVersion)(ct,"0.12.8",o),(0,ke.registerVersion)(ct,"0.12.8","esm2017")}();const ih=new Ke.Yd("@firebase/database-compat"),Rc=function(o){ih.warn("FIREBASE WARNING: "+o)};class Pc{constructor(i){this._delegate=i}cancel(i){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",i,!0);const s=this._delegate.cancel();return i&&s.then(()=>i(null),c=>i(c)),s}remove(i){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",i,!0);const s=this._delegate.remove();return i&&s.then(()=>i(null),c=>i(c)),s}set(i,s){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",s,!0);const c=this._delegate.set(i);return s&&c.then(()=>s(null),m=>s(m)),c}setWithPriority(i,s,c){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",c,!0);const m=this._delegate.setWithPriority(i,s);return c&&m.then(()=>c(null),T=>c(T)),m}update(i,s){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const m={};for(let T=0;T<i.length;++T)m[""+T]=i[T];i=m,Rc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",s,!0);const c=this._delegate.update(i);return s&&c.then(()=>s(null),m=>s(m)),c}}class dd{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Uo{constructor(i,s){this._database=i,this._delegate=s}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),Qa("DataSnapshot.child","path",i,!1),new Uo(this._database,this._delegate.child(i))}hasChild(i){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Qa("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(s=>i(new Uo(this._database,s)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new no(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ds{constructor(i,s){this.database=i,this._delegate=s}on(i,s,c,m){var T;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",s,!1);const x=ds.getCancelAndContextArgs_("Query.on",c,m),Y=(De,ut)=>{s.call(x.context,new Uo(this.database,De),ut)};Y.userCallback=s,Y.context=x.context;const oe=null===(T=x.cancel)||void 0===T?void 0:T.bind(x.context);switch(i){case"value":return ou(this._delegate,Y,oe),s;case"child_added":return bo(this._delegate,Y,oe),s;case"child_removed":return au(this._delegate,Y,oe),s;case"child_changed":return xa(this._delegate,Y,oe),s;case"child_moved":return Pl(this._delegate,Y,oe),s;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,s,c){if((0,F.Dv)("Query.off",0,3,arguments.length),function(o,i,s){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,F.Wj)("Query.off","callback",s,!0),(0,F.lb)("Query.off","context",c,!0),s){const m=()=>{};m.userCallback=s,m.context=c,Vu(this._delegate,i,m)}else Vu(this._delegate,i)}get(){return Uu(this._delegate).then(i=>new Uo(this.database,i))}once(i,s,c,m){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",s,!0);const T=ds.getCancelAndContextArgs_("Query.once",c,m),x=new F.BH,Y=(De,ut)=>{const st=new Uo(this.database,De);s&&s.call(T.context,st,ut),x.resolve(st)};Y.userCallback=s,Y.context=T.context;const oe=De=>{T.cancel&&T.cancel.call(T.context,De),x.reject(De)};switch(i){case"value":ou(this._delegate,Y,oe,{onlyOnce:!0});break;case"child_added":bo(this._delegate,Y,oe,{onlyOnce:!0});break;case"child_removed":au(this._delegate,Y,oe,{onlyOnce:!0});break;case"child_changed":xa(this._delegate,Y,oe,{onlyOnce:!0});break;case"child_moved":Pl(this._delegate,Y,oe,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return x.promise}limitToFirst(i){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new ds(this.database,ho(this._delegate,function J(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new U(o)}(i)))}limitToLast(i){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new ds(this.database,ho(this._delegate,function yt(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new $e(o)}(i)))}orderByChild(i){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new ds(this.database,ho(this._delegate,function Tn(o){if("$key"===o)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===o)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===o)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Qa("orderByChild","path",o,!1),new Xt(o)}(i)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new ds(this.database,ho(this._delegate,function Un(){return new Yn}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new ds(this.database,ho(this._delegate,function to(){return new Ni}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new ds(this.database,ho(this._delegate,function Nl(){return new ol}()))}startAt(i=null,s){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new ds(this.database,ho(this._delegate,function l(o=null,i){return aa("startAt","key",i,!0),new f(o,i)}(i,s)))}startAfter(i=null,s){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new ds(this.database,ho(this._delegate,function v(o,i){return aa("startAfter","key",i,!0),new h(o,i)}(i,s)))}endAt(i=null,s){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new ds(this.database,ho(this._delegate,function Ic(o,i){return aa("endAt","key",i,!0),new Bu(o,i)}(i,s)))}endBefore(i=null,s){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new ds(this.database,ho(this._delegate,function wc(o,i){return aa("endBefore","key",i,!0),new bc(o,i)}(i,s)))}equalTo(i,s){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new ds(this.database,ho(this._delegate,function lu(o,i){return aa("equalTo","key",i,!0),new al(o,i)}(i,s)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof ds))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,s,c){const m={cancel:void 0,context:void 0};if(s&&c)m.cancel=s,(0,F.Wj)(i,"cancel",m.cancel,!0),m.context=c,(0,F.lb)(i,"context",m.context,!0);else if(s)if("object"==typeof s&&null!==s)m.context=s;else{if("function"!=typeof s)throw new Error((0,F.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");m.cancel=s}return m}get ref(){return new no(this.database,new Bs(this._delegate._repo,this._delegate._path))}}class no extends ds{constructor(i,s){super(i,new Qi(s._repo,s._path,new p,!1)),this.database=i,this._delegate=s}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new no(this.database,qo(this._delegate,i))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new no(this.database,i):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new no(this.database,this._delegate.root)}set(i,s){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",s,!0);const c=Rl(this._delegate,i);return s&&c.then(()=>s(null),m=>s(m)),c}update(i,s){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const m={};for(let T=0;T<i.length;++T)m[""+T]=i[T];i=m,Rc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Js("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",s,!0);const c=Tc(this._delegate,i);return s&&c.then(()=>s(null),m=>s(m)),c}setWithPriority(i,s,c){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",c,!0);const m=function su(o,i,s){if(Js("setWithPriority",o._path),To("setWithPriority",i,o._path,!1),Zo("setWithPriority",s,!1),".length"===o.key||".keys"===o.key)throw"setWithPriority failed: "+o.key+" is a read-only object.";const c=new F.BH;return tl(o._repo,o._path,i,s,c.wrapCallback(()=>{})),c.promise}(this._delegate,i,s);return c&&m.then(()=>c(null),T=>c(T)),m}remove(i){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",i,!0);const s=function Io(o){return Js("remove",o._path),Rl(o,null)}(this._delegate);return i&&s.then(()=>i(null),c=>i(c)),s}transaction(i,s,c){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,F.Wj)("Reference.transaction","onComplete",s,!0),function(o,i,s,c){if(void 0!==s&&"boolean"!=typeof s)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,c);const m=function ul(o,i,s){var c;if(o=(0,F.m9)(o),Js("Reference.transaction",o._path),".length"===o.key||".keys"===o.key)throw"Reference.transaction failed: "+o.key+" is a read-only object.";const m=null===(c=null==s?void 0:s.applyLocally)||void 0===c||c,T=new F.BH,Y=ou(o,()=>{});return function Xl(o,i,s,c,m,T){Lo(o,"transaction on "+i);const x={path:i,update:s,onComplete:c,status:null,order:Mn(),applyLocally:T,retryCount:0,unwatcher:m,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Y=eu(o,i,void 0);x.currentInputSnapshot=Y;const oe=x.update(Y.val());if(void 0===oe)x.unwatcher(),x.currentOutputSnapshotRaw=null,x.currentOutputSnapshotResolved=null,x.onComplete&&x.onComplete(null,!1,x.currentInputSnapshot);else{oa("transaction failed: Data returned ",oe,x.path),x.status=0;const De=Wl(o.transactionQueueTree_,i),ut=ra(De)||[];let st;ut.push(x),Gl(De,ut),"object"==typeof oe&&null!==oe&&(0,F.r3)(oe,".priority")?(st=(0,F.DV)(oe,".priority"),(0,F.hu)(qa(st),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):st=(ss(o.serverSyncTree_,i)||nn.EMPTY_NODE).getPriority().val();const Mt=Fo(o),En=Xr(oe,st),Bn=$l(En,Y,Mt);x.currentOutputSnapshotRaw=En,x.currentOutputSnapshotResolved=Bn,x.currentWriteId=el(o);const gi=k(o.serverSyncTree_,i,Bn,x.currentWriteId,x.applyLocally);Xs(o.eventQueue_,i,gi),Si(o,o.transactionQueueTree_)}}(o._repo,o._path,i,(oe,De,ut)=>{let st=null;oe?T.reject(oe):(st=new da(ut,new Bs(o._repo,o._path),pn),T.resolve(new ld(De,st)))},Y,m),T.promise}(this._delegate,i,{applyLocally:c}).then(T=>new dd(T.committed,new Uo(this.database,T.snapshot)));return s&&m.then(T=>s(null,T.committed,T.snapshot),T=>s(T,!1,null)),m}setPriority(i,s){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",s,!0);const c=function Dc(o,i){o=(0,F.m9)(o),Js("setPriority",o._path),Zo("setPriority",i,!1);const s=new F.BH;return tl(o._repo,Zn(o._path,".priority"),i,null,s.wrapCallback(()=>{})),s.promise}(this._delegate,i);return s&&c.then(()=>s(null),m=>s(m)),c}push(i,s){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",s,!0);const c=function Cc(o,i){o=(0,F.m9)(o),Js("push",o._path),To("push",i,o._path,!0);const s=Ws(o._repo),c=us(s),m=qo(o,c),T=qo(o,c);let x;return x=null!=i?Rl(T,i).then(()=>T):Promise.resolve(T),m.then=x.then.bind(x),m.catch=x.then.bind(x,void 0),m}(this._delegate,i),m=c.then(x=>new no(this.database,x));s&&m.then(()=>s(null),x=>s(x));const T=new no(this.database,c);return T.then=m.then.bind(m),T.catch=m.catch.bind(m,void 0),T}onDisconnect(){return Js("Reference.onDisconnect",this._delegate._path),new Pc(new Es(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class cl{constructor(i,s){this._delegate=i,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(i,s,c={}){!function Jd(o,i,s,c={}){(o=(0,F.m9)(o))._checkNotDeleted("useEmulator"),o._instanceStarted&&We("Cannot call useEmulator() after instance has already been initialized.");const m=o._repoInternal;let T;if(m.repoInfo_.nodeAdmin)c.mockUserToken&&We('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),T=new Dr(Dr.OWNER);else if(c.mockUserToken){const x="string"==typeof c.mockUserToken?c.mockUserToken:(0,F.Sg)(c.mockUserToken,o.app.options.projectId);T=new Dr(x)}!function uu(o,i,s,c){o.repoInfo_=new _e(`${i}:${s}`,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams),c&&(o.authTokenProvider_=c)}(m,i,s,T)}(this._delegate,i,s,c)}ref(i){if((0,F.Dv)("database.ref",0,1,arguments.length),i instanceof no){const s=Ol(this._delegate,i.toString());return new no(this,s)}{const s=sl(this._delegate,i);return new no(this,s)}}refFromURL(i){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const c=Ol(this._delegate,i);return new no(this,c)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function sd(o){(o=(0,F.m9)(o))._checkNotDeleted("goOffline"),wl(o._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function Mc(o){(o=(0,F.m9)(o))._checkNotDeleted("goOnline"),function Fu(o){o.persistentConnection_&&o.persistentConnection_.resume(mc)}(o._repo)}(this._delegate)}}cl.ServerValue={TIMESTAMP:function eh(){return Xd}(),increment:o=>function ad(o){return{".sv":{increment:o}}}(o)};var Nc=Object.freeze({__proto__:null,initStandalone:function hd({app:o,url:i,version:s,customAuthImpl:c,namespace:m,nodeAdmin:T=!1}){ve(s);const x=new vt.zt("auth-internal",new vt.H0("database-standalone"));return x.setComponent(new vt.wA("auth-internal",()=>c,"PRIVATE")),{instance:new cl(ll(o,x,void 0,i,T),o),namespace:m}}});const du=cl.ServerValue;!function sh(o){o.INTERNAL.registerComponent(new vt.wA("database-compat",(i,{instanceIdentifier:s})=>{const c=i.getProvider("app-compat").getImmediate(),m=i.getProvider("database").getImmediate({identifier:s});return new cl(m,c)},"PUBLIC").setServiceProps({Reference:no,Query:ds,Database:cl,DataSnapshot:Uo,enableLogging:od,INTERNAL:Nc,ServerValue:du}).setMultipleInstances(!0)),o.registerVersion("@firebase/database-compat","0.1.8")}(Ve.Z);var fa=D(3385),oh=D(440),ah=D(127);function kc(o){return null==o}function lh(o){return"function"==typeof o.set}function Fc(o,i){return lh(i)?i:o.ref(i)}function pd(o,i){if(function fd(o){return"string"==typeof o}(o))return i.stringCase();if(lh(o))return i.firebaseCase();if(function xc(o){return"function"==typeof o.exportVal}(o))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof o)}function kl(o,i,s="on",c=B.z){return new j.y(m=>{let T=null;return T=o[s](i,(x,Y)=>{c.schedule(()=>{m.next({snapshot:x,prevKey:Y})}),"once"===s&&c.schedule(()=>m.complete())},x=>{c.schedule(()=>m.error(x))}),"on"===s?{unsubscribe(){null!=T&&o.off(i,T)}}:{unsubscribe(){}}}).pipe((0,ee.U)(m=>{const{snapshot:T,prevKey:x}=m;let Y=null;return T.exists()&&(Y=T.key),{type:i,payload:T,prevKey:x,key:Y}}),(0,X.B)())}function gd(o,i){const s=o.length;for(let c=0;c<s;c++)if(o[c].payload.key===i)return c;return-1}function ch(o,i){const{payload:s,prevKey:c,key:m}=i,T=gd(o,m),x=function Vo(o,i){if(kc(i))return 0;{const s=gd(o,i);return-1===s?o.length:s+1}}(o,c);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let Y=null;i.payload.forEach(oe=>{const De={payload:oe,type:"value",prevKey:Y,key:oe.key};return Y=oe.key,o=[...o,De],!1})}return o;case"child_added":if(T>-1){const Y=o[T-1];(Y&&Y.key||null)!==c&&(o=o.filter(oe=>oe.payload.key!==s.key)).splice(x,0,i)}else{if(null==c)return[i,...o];(o=o.slice()).splice(x,0,i)}return o;case"child_removed":return o.filter(Y=>Y.payload.key!==s.key);case"child_changed":return o.map(Y=>Y.payload.key===m?i:Y);case"child_moved":if(T>-1){const Y=o.splice(T,1)[0];return(o=o.slice()).splice(x,0,Y),o}return o;default:return o}}function Lc(o){return(kc(o)||0===o.length)&&(o=["child_added","child_removed","child_changed","child_moved"]),o}function md(o,i,s){return function uh(o,i,s){return kl(o,"value","once",s).pipe((0,ie.w)(c=>{const m=[(0,te.of)(c)];return i.forEach(T=>m.push(kl(o,T,"on",s))),(0,Q.T)(...m).pipe((0,fe.R)(ch,[]))}),(0,et.x)())}(o,i=Lc(i),s)}function _d(o,i,s){const c=(i=Lc(i)).map(m=>kl(o,m,"on",s));return(0,Q.T)(...c)}function vd(o,i){return function(c,m){return pd(c,{stringCase:()=>o.child(c)[i](m),firebaseCase:()=>c[i](m),snapshotCase:()=>c.ref[i](m)})}}function fh(o){return function(s){return s?pd(s,{stringCase:()=>o.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):o.remove()}}function _r(o,i){return function(){return kl(o,"value","on",i)}}const Cd=new u.OlP("angularfire2.realtimeDatabaseURL"),Dd=new u.OlP("angularfire2.database.use-emulator");let hu=(()=>{class o{constructor(s,c,m,T,x,Y,oe,De,ut,st,Mt,En,Bn,gi,As){this.schedulers=Y;const dl=oe,pa=(0,nt.on)(s,x,c);De&&(0,fa.nw)(pa,x,ut,Mt,En,Bn,st,gi),this.database=(0,nt.cc)(`${pa.name}.database.${m}`,"AngularFireDatabase",pa.name,()=>{const Fl=x.runOutsideAngular(()=>pa.database(m||void 0));return dl&&Fl.useEmulator(...dl),Fl},[dl])}list(s,c){const m=this.schedulers.ngZone.runOutsideAngular(()=>Fc(this.database,s));let T=m;return c&&(T=c(m)),function ph(o,i){const s=i.schedulers.outsideAngular,c=i.schedulers.ngZone.run(()=>o.ref);return{query:o,update:vd(c,"update"),set:vd(c,"set"),push:m=>c.push(m),remove:fh(c),snapshotChanges:m=>md(o,m,s).pipe(Qe.iC),stateChanges:m=>_d(o,m,s).pipe(Qe.iC),auditTrail:m=>function dh(o,i,s){return function yd(o,i,s){return function hh(o,i){return kl(o,"value","on",i).pipe((0,ee.U)(s=>{let c;return s.payload.forEach(m=>(c=m.key,!1)),{data:s,lastKeyToLoad:c}}))}(o,s).pipe((0,Ye.M)(i),(0,ee.U)(([m,T])=>{const x=m.lastKeyToLoad,Y=T.map(oe=>oe.key);return{actions:T,lastKeyToLoad:x,loadedKeys:Y}}),function le(o){return(0,ce.e)((i,s)=>{let c=!1,m=0;i.subscribe((0,ue.x)(s,T=>(c||(c=!o(T,m++)))&&s.next(T)))})}(m=>-1===m.loadedKeys.indexOf(m.lastKeyToLoad)),(0,ee.U)(m=>m.actions))}(o,_d(o,i).pipe((0,fe.R)((m,T)=>[...m,T],[])),s)}(o,m,s).pipe(Qe.iC),valueChanges:(m,T)=>md(o,m,s).pipe((0,ee.U)(Y=>Y.map(oe=>T&&T.idField?Object.assign(Object.assign({},oe.payload.val()),{[T.idField]:oe.key}):oe.payload.val())),Qe.iC)}}(T,this)}object(s){return function Ed(o,i){return{query:o,snapshotChanges:()=>_r(o,i.schedulers.outsideAngular)().pipe(Qe.iC),update:s=>o.ref.update(s),set:s=>o.ref.set(s),remove:()=>o.ref.remove(),valueChanges:()=>_r(o,i.schedulers.outsideAngular)().pipe(Qe.iC,(0,ee.U)(c=>c.payload.exists()?c.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Fc(this.database,s)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return o.\u0275fac=function(s){return new(s||o)(u.LFG(nt.Dh),u.LFG(nt.xv,8),u.LFG(Cd,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Qe.HU),u.LFG(Dd,8),u.LFG(fa.zQ,8),u.LFG(fa.Qv,8),u.LFG(fa.L6,8),u.LFG(fa._Q,8),u.LFG(fa.rT,8),u.LFG(fa.lh,8),u.LFG(fa.f7,8),u.LFG(oh.nm,8))},o.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),Bo=(()=>{class o{constructor(){ah.Z.registerVersion("angularfire",Qe.q4.full,"rtdb-compat")}}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({providers:[hu]}),o})()},2011:(Ie,re,D)=>{D.d(re,{hO:()=>et,xv:()=>ee,Dh:()=>le,GT:()=>ce,cc:()=>Ye,on:()=>X,pX:()=>Q});var u=D(5e3),B=D(127),j=D(6351);Ie=D.hmd(Ie);const te=["ngOnDestroy"],Q=(Ve,vt,Tt,ke={})=>new Proxy(Ve,{get:(F,Ke)=>Tt.runOutsideAngular(()=>{var ct;if(Ve[Ke])return(null===(ct=null==ke?void 0:ke.spy)||void 0===ct?void 0:ct.get)&&ke.spy.get(Ke,Ve[Ke]),Ve[Ke];if(te.indexOf(Ke)>-1)return()=>{};const At=vt.toPromise().then(xe=>{const ve=xe&&xe[Ke];return"function"==typeof ve?ve.bind(xe):ve&&ve.then?ve.then(ze=>Tt.run(()=>ze)):Tt.run(()=>ve)});return new Proxy(()=>{},{get:(xe,ve)=>At[ve],apply:(xe,ve,ze)=>At.then(Fe=>{var Ze;const it=Fe&&Fe(...ze);return(null===(Ze=null==ke?void 0:ke.spy)||void 0===Ze?void 0:Ze.apply)&&ke.spy.apply(Ke,ze,it),it})})})}),ce=(Ve,vt)=>{vt.forEach(Tt=>{Object.getOwnPropertyNames(Tt.prototype||Tt).forEach(ke=>{Object.defineProperty(Ve.prototype,ke,Object.getOwnPropertyDescriptor(Tt.prototype||Tt,ke))})})};class ue{constructor(vt){return vt}}const le=new u.OlP("angularfire2.app.options"),ee=new u.OlP("angularfire2.app.name");function X(Ve,vt,Tt){const F="object"==typeof Tt&&Tt||{};F.name=F.name||"string"==typeof Tt&&Tt||"[DEFAULT]";const ct=B.Z.apps.filter(At=>At&&At.name===F.name)[0]||vt.runOutsideAngular(()=>B.Z.initializeApp(Ve,F));try{JSON.stringify(Ve)!==JSON.stringify(ct.options)&&ie("error",`${ct.name} Firebase App already initialized with different options${Ie.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(At){}return new ue(ct)}const ie=(Ve,...vt)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Ve](...vt)},fe={provide:ue,useFactory:X,deps:[le,u.R0b,[new u.FiY,ee]]};let et=(()=>{class Ve{constructor(Tt){B.Z.registerVersion("angularfire",j.q4.full,"core"),B.Z.registerVersion("angularfire",j.q4.full,"app-compat"),B.Z.registerVersion("angular",u.q4F.full,Tt.toString())}static initializeApp(Tt,ke){return{ngModule:Ve,providers:[{provide:le,useValue:Tt},{provide:ee,useValue:ke}]}}}return Ve.\u0275fac=function(Tt){return new(Tt||Ve)(u.LFG(u.Lbi))},Ve.\u0275mod=u.oAB({type:Ve}),Ve.\u0275inj=u.cJS({providers:[fe]}),Ve})();function Ye(Ve,vt,Tt,ke,F){const[,Ke,ct]=globalThis.\u0275AngularfireInstanceCache.find(At=>At[0]===Ve)||[];if(Ke)return function Qe(Ve,vt){try{return Ve.toString()===vt.toString()}catch(Tt){return Ve===vt}}(F,ct)||(Ne("error",`${vt} was already initialized on the ${Tt} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),Ne("warn",{is:F,was:ct})),Ke;{const At=ke();return globalThis.\u0275AngularfireInstanceCache.push([Ve,At,F]),At}}const nt=!!Ie.hot,Ne=(Ve,...vt)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Ve](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Ie,re,D)=>{D.d(re,{q4:()=>Oo,iC:()=>No,HU:()=>Ro,vb:()=>ml,JM:()=>Tu});var u=D(5e3),B=D(5867),j=D(5861),te=D(9681),Q=D(2090),ce=D(4859),ue=D(1877);const le="@firebase/installations",ie="w:0.5.8",fe="FIS_v2",Ve=new Q.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vt(A){return A instanceof Q.ZR&&A.code.includes("request-failed")}function Tt({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function ke(A){return{token:A.token,requestStatus:2,expiresIn:ze(A.expiresIn),creationTime:Date.now()}}function F(A,k){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,j.Z)(function*(A,k){const pe=(yield k.json()).error;return Ve.create("request-failed",{requestName:A,serverCode:pe.code,serverMessage:pe.message,serverStatus:pe.status})})).apply(this,arguments)}function ct({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function At(A,{refreshToken:k}){const K=ct(A);return K.append("Authorization",function Fe(A){return`${fe} ${A}`}(k)),K}function xe(A){return ve.apply(this,arguments)}function ve(){return(ve=(0,j.Z)(function*(A){const k=yield A();return k.status>=500&&k.status<600?A():k})).apply(this,arguments)}function ze(A){return Number(A.replace("s","000"))}function Ze(A,k){return it.apply(this,arguments)}function it(){return(it=(0,j.Z)(function*({appConfig:A,heartbeatServiceProvider:k},{fid:K}){const pe=Tt(A),qe=ct(A),lt=k.getImmediate({optional:!0});if(lt){const nr=yield lt.getHeartbeatsHeader();nr&&qe.append("x-firebase-client",nr)}const Dn={method:"POST",headers:qe,body:JSON.stringify({fid:K,authVersion:fe,appId:A.appId,sdkVersion:ie})},tr=yield xe(()=>fetch(pe,Dn));if(tr.ok){const nr=yield tr.json();return{fid:nr.fid||K,registrationStatus:2,refreshToken:nr.refreshToken,authToken:ke(nr.authToken)}}throw yield F("Create Installation",tr)})).apply(this,arguments)}function He(A){return new Promise(k=>{setTimeout(k,A)})}const Mn=/^[cdef][\w-]{21}$/;function Ut(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const K=function Bt(A){return function $t(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return Mn.test(K)?K:""}catch(A){return""}}function Pn(A){return`${A.appName}!${A.appId}`}const In=new Map;function gt(A,k){const K=Pn(A);We(K,k),function Et(A,k){const K=function Nn(){return!ln&&"BroadcastChannel"in self&&(ln=new BroadcastChannel("[Firebase] FID Change"),ln.onmessage=A=>{We(A.data.key,A.data.fid)}),ln}();K&&K.postMessage({key:A,fid:k}),function zn(){0===In.size&&ln&&(ln.close(),ln=null)}()}(K,k)}function We(A,k){const K=In.get(A);if(K)for(const pe of K)pe(k)}let ln=null;const Hn="firebase-installations-store";let $n=null;function sr(){return $n||($n=(0,Q.X3)("firebase-installations-database",1,(A,k)=>{0===k&&A.createObjectStore(Hn)})),$n}function qt(A,k){return sn.apply(this,arguments)}function sn(){return(sn=(0,j.Z)(function*(A,k){const K=Pn(A),qe=(yield sr()).transaction(Hn,"readwrite"),lt=qe.objectStore(Hn),jt=yield lt.get(K);return yield lt.put(k,K),yield qe.complete,(!jt||jt.fid!==k.fid)&&gt(A,k.fid),k})).apply(this,arguments)}function Rn(A){return rr.apply(this,arguments)}function rr(){return(rr=(0,j.Z)(function*(A){const k=Pn(A),pe=(yield sr()).transaction(Hn,"readwrite");yield pe.objectStore(Hn).delete(k),yield pe.complete})).apply(this,arguments)}function Mr(A,k){return jr.apply(this,arguments)}function jr(){return(jr=(0,j.Z)(function*(A,k){const K=Pn(A),qe=(yield sr()).transaction(Hn,"readwrite"),lt=qe.objectStore(Hn),jt=yield lt.get(K),Dn=k(jt);return void 0===Dn?yield lt.delete(K):yield lt.put(Dn,K),yield qe.complete,Dn&&(!jt||jt.fid!==Dn.fid)&&gt(A,Dn.fid),Dn})).apply(this,arguments)}function dt(A){return be.apply(this,arguments)}function be(){return(be=(0,j.Z)(function*(A){let k;const K=yield Mr(A.appConfig,pe=>{const qe=Pe(pe),lt=It(A,qe);return k=lt.registrationPromise,lt.installationEntry});return""===K.fid?{installationEntry:yield k}:{installationEntry:K,registrationPromise:k}})).apply(this,arguments)}function Pe(A){return un(A||{fid:Ut(),registrationStatus:0})}function It(A,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Ve.create("app-offline"))};const K={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},pe=function at(A,k){return bt.apply(this,arguments)}(A,K);return{installationEntry:K,registrationPromise:pe}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:Ht(A)}:{installationEntry:k}}function bt(){return(bt=(0,j.Z)(function*(A,k){try{const K=yield Ze(A,k);return qt(A.appConfig,K)}catch(K){throw vt(K)&&409===K.customData.serverCode?yield Rn(A.appConfig):yield qt(A.appConfig,{fid:k.fid,registrationStatus:0}),K}})).apply(this,arguments)}function Ht(A){return xn.apply(this,arguments)}function xn(){return(xn=(0,j.Z)(function*(A){let k=yield en(A.appConfig);for(;1===k.registrationStatus;)yield He(100),k=yield en(A.appConfig);if(0===k.registrationStatus){const{installationEntry:K,registrationPromise:pe}=yield dt(A);return pe||K}return k})).apply(this,arguments)}function en(A){return Mr(A,k=>{if(!k)throw Ve.create("installation-not-found");return un(k)})}function un(A){return function Dr(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function cr(A,k){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,j.Z)(function*({appConfig:A,heartbeatServiceProvider:k},K){const pe=Rt(A,K),qe=At(A,K),lt=k.getImmediate({optional:!0});if(lt){const nr=yield lt.getHeartbeatsHeader();nr&&qe.append("x-firebase-client",nr)}const Dn={method:"POST",headers:qe,body:JSON.stringify({installation:{sdkVersion:ie,appId:A.appId}})},tr=yield xe(()=>fetch(pe,Dn));if(tr.ok)return ke(yield tr.json());throw yield F("Generate Auth Token",tr)})).apply(this,arguments)}function Rt(A,{fid:k}){return`${Tt(A)}/${k}/authTokens:generate`}function kn(A){return yn.apply(this,arguments)}function yn(){return(yn=(0,j.Z)(function*(A,k=!1){let K;const pe=yield Mr(A.appConfig,lt=>{if(!Kt(lt))throw Ve.create("not-registered");const jt=lt.authToken;if(!k&&_e(jt))return lt;if(1===jt.requestStatus)return K=Wt(A,k),lt;{if(!navigator.onLine)throw Ve.create("app-offline");const Dn=we(lt);return K=on(A,Dn),Dn}});return K?yield K:pe.authToken})).apply(this,arguments)}function Wt(A,k){return ft.apply(this,arguments)}function ft(){return(ft=(0,j.Z)(function*(A,k){let K=yield Zt(A.appConfig);for(;1===K.authToken.requestStatus;)yield He(100),K=yield Zt(A.appConfig);const pe=K.authToken;return 0===pe.requestStatus?kn(A,k):pe})).apply(this,arguments)}function Zt(A){return Mr(A,k=>{if(!Kt(k))throw Ve.create("not-registered");return function rt(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function on(A,k){return mn.apply(this,arguments)}function mn(){return(mn=(0,j.Z)(function*(A,k){try{const K=yield cr(A,k),pe=Object.assign(Object.assign({},k),{authToken:K});return yield qt(A.appConfig,pe),K}catch(K){if(!vt(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const pe=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield qt(A.appConfig,pe)}else yield Rn(A.appConfig);throw K}})).apply(this,arguments)}function Kt(A){return void 0!==A&&2===A.registrationStatus}function _e(A){return 2===A.requestStatus&&!function de(A){const k=Date.now();return k<A.creationTime||A.creationTime+A.expiresIn<k+36e5}(A)}function we(A){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:k})}function xt(){return(xt=(0,j.Z)(function*(A){const k=A,{installationEntry:K,registrationPromise:pe}=yield dt(k);return pe?pe.catch(console.error):kn(k).catch(console.error),K.fid})).apply(this,arguments)}function ye(){return(ye=(0,j.Z)(function*(A,k=!1){const K=A;return yield se(K),(yield kn(K,k)).token})).apply(this,arguments)}function se(A){return Se.apply(this,arguments)}function Se(){return(Se=(0,j.Z)(function*(A){const{registrationPromise:k}=yield dt(A);k&&(yield k)})).apply(this,arguments)}function Or(A){return Ve.create("missing-app-config-values",{valueName:A})}const oi="installations",Pt=A=>{const k=A.getProvider("app").getImmediate(),K=function si(A){if(!A||!A.options)throw Or("App Configuration");if(!A.name)throw Or("App Name");const k=["projectId","apiKey","appId"];for(const K of k)if(!A.options[K])throw Or(K);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(k);return{app:k,appConfig:K,heartbeatServiceProvider:(0,te._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},Fn=A=>{const k=A.getProvider("app").getImmediate(),K=(0,te._getProvider)(k,oi).getImmediate();return{getId:()=>function je(A){return xt.apply(this,arguments)}(K),getToken:qe=>function Re(A){return ye.apply(this,arguments)}(K,qe)}};(function dr(){(0,te._registerComponent)(new ce.wA(oi,Pt,"PUBLIC")),(0,te._registerComponent)(new ce.wA("installations-internal",Fn,"PRIVATE"))})(),(0,te.registerVersion)(le,"0.5.8"),(0,te.registerVersion)(le,"0.5.8","esm2017");const Yr="@firebase/remote-config",or=new Q.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ss{constructor(k,K,pe,qe){this.client=k,this.storage=K,this.storageCache=pe,this.logger=qe}isCachedDataFresh(k,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-K,qe=pe<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${qe}.`),qe}fetch(k){var K=this;return(0,j.Z)(function*(){const[pe,qe]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(qe&&K.isCachedDataFresh(k.cacheMaxAgeMillis,pe))return qe;k.eTag=qe&&qe.eTag;const lt=yield K.client.fetch(k),jt=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===lt.status&&jt.push(K.storage.setLastSuccessfulFetchResponse(lt)),yield Promise.all(jt),lt})()}}function os(A=navigator){return A.languages&&A.languages[0]||A.language}class fs{constructor(k,K,pe,qe,lt,jt){this.firebaseInstallations=k,this.sdkVersion=K,this.namespace=pe,this.projectId=qe,this.apiKey=lt,this.appId=jt}fetch(k){var K=this;return(0,j.Z)(function*(){const[pe,qe]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),jt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,Dn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},tr={sdk_version:K.sdkVersion,app_instance_id:pe,app_instance_id_token:qe,app_id:K.appId,language_code:os()},nr={method:"POST",headers:Dn,body:JSON.stringify(tr)},Sr=fetch(jt,nr),ur=new Promise((bs,Vs)=>{k.signal.addEventListener(()=>{const ko=new Error("The operation was aborted.");ko.name="AbortError",Vs(ko)})});let ss;try{yield Promise.race([Sr,ur]),ss=yield Sr}catch(bs){let Vs="fetch-client-network";throw"AbortError"===bs.name&&(Vs="fetch-timeout"),or.create(Vs,{originalErrorMessage:bs.message})}let kr=ss.status;const qs=ss.headers.get("ETag")||void 0;let xo,Co;if(200===ss.status){let bs;try{bs=yield ss.json()}catch(Vs){throw or.create("fetch-client-parse",{originalErrorMessage:Vs.message})}xo=bs.entries,Co=bs.state}if("INSTANCE_STATE_UNSPECIFIED"===Co?kr=500:"NO_CHANGE"===Co?kr=304:("NO_TEMPLATE"===Co||"EMPTY_CONFIG"===Co)&&(xo={}),304!==kr&&200!==kr)throw or.create("fetch-status",{httpStatus:kr});return{status:kr,eTag:qs,config:xo}})()}}class ar{constructor(k,K){this.client=k,this.storage=K}fetch(k){var K=this;return(0,j.Z)(function*(){const pe=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(k,pe)})()}attemptFetch(k,{throttleEndTimeMillis:K,backoffCount:pe}){var qe=this;return(0,j.Z)(function*(){yield function Br(A,k){return new Promise((K,pe)=>{const qe=Math.max(k-Date.now(),0),lt=setTimeout(K,qe);A.addEventListener(()=>{clearTimeout(lt),pe(or.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,K);try{const lt=yield qe.client.fetch(k);return yield qe.storage.deleteThrottleMetadata(),lt}catch(lt){if(!function hr(A){if(!(A instanceof Q.ZR&&A.customData))return!1;const k=Number(A.customData.httpStatus);return 429===k||500===k||503===k||504===k}(lt))throw lt;const jt={throttleEndTimeMillis:Date.now()+(0,Q.$s)(pe),backoffCount:pe+1};return yield qe.storage.setThrottleMetadata(jt),qe.attemptFetch(k,jt)}})()}}class Be{constructor(k,K,pe,qe,lt){this.app=k,this._client=K,this._storageCache=pe,this._storage=qe,this._logger=lt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wt(A,k){const K=A.target.error||void 0;return or.create(k,{originalErrorMessage:K&&K.message})}const Lt="app_namespace_store";class Qt{constructor(k,K,pe,qe=function Zn(){return new Promise((A,k)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=pe=>{k(wt(pe,"storage-open"))},K.onsuccess=pe=>{A(pe.target.result)},K.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(Lt,{keyPath:"compositeKey"})}}catch(K){k(or.create("storage-open",{originalErrorMessage:K}))}})}()){this.appId=k,this.appName=K,this.namespace=pe,this.openDbPromise=qe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var K=this;return(0,j.Z)(function*(){const pe=yield K.openDbPromise;return new Promise((qe,lt)=>{const Dn=pe.transaction([Lt],"readonly").objectStore(Lt),tr=K.createCompositeKey(k);try{const nr=Dn.get(tr);nr.onerror=Sr=>{lt(wt(Sr,"storage-get"))},nr.onsuccess=Sr=>{const ur=Sr.target.result;qe(ur?ur.value:void 0)}}catch(nr){lt(or.create("storage-get",{originalErrorMessage:nr&&nr.message}))}})})()}set(k,K){var pe=this;return(0,j.Z)(function*(){const qe=yield pe.openDbPromise;return new Promise((lt,jt)=>{const tr=qe.transaction([Lt],"readwrite").objectStore(Lt),nr=pe.createCompositeKey(k);try{const Sr=tr.put({compositeKey:nr,value:K});Sr.onerror=ur=>{jt(wt(ur,"storage-set"))},Sr.onsuccess=()=>{lt()}}catch(Sr){jt(or.create("storage-set",{originalErrorMessage:Sr&&Sr.message}))}})})()}delete(k){var K=this;return(0,j.Z)(function*(){const pe=yield K.openDbPromise;return new Promise((qe,lt)=>{const Dn=pe.transaction([Lt],"readwrite").objectStore(Lt),tr=K.createCompositeKey(k);try{const nr=Dn.delete(tr);nr.onerror=Sr=>{lt(wt(Sr,"storage-delete"))},nr.onsuccess=()=>{qe()}}catch(nr){lt(or.create("storage-delete",{originalErrorMessage:nr&&nr.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class Fr{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,j.Z)(function*(){const K=k.storage.getLastFetchStatus(),pe=k.storage.getLastSuccessfulFetchTimestampMillis(),qe=k.storage.getActiveConfig(),lt=yield K;lt&&(k.lastFetchStatus=lt);const jt=yield pe;jt&&(k.lastSuccessfulFetchTimestampMillis=jt);const Dn=yield qe;Dn&&(k.activeConfig=Dn)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function mi(){return io.apply(this,arguments)}function io(){return(io=(0,j.Z)(function*(){if(!(0,Q.hl)())return!1;try{return yield(0,Q.eu)()}catch(A){return!1}})).apply(this,arguments)}!function es(){(0,te._registerComponent)(new ce.wA("remote-config",function A(k,{instanceIdentifier:K}){const pe=k.getProvider("app").getImmediate(),qe=k.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw or.create("registration-window");if(!(0,Q.hl)())throw or.create("indexed-db-unavailable");const{projectId:lt,apiKey:jt,appId:Dn}=pe.options;if(!lt)throw or.create("registration-project-id");if(!jt)throw or.create("registration-api-key");if(!Dn)throw or.create("registration-app-id");const tr=new Qt(Dn,pe.name,K=K||"firebase"),nr=new Fr(tr),Sr=new ue.Yd(Yr);Sr.logLevel=ue.in.ERROR;const ur=new fs(qe,te.SDK_VERSION,K,lt,jt,Dn),ss=new ar(ur,tr),kr=new Ss(ss,tr,nr,Sr),qs=new Be(pe,kr,nr,tr,Sr);return function Vt(A){const k=(0,Q.m9)(A);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(qs),qs},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(Yr,"0.3.7"),(0,te.registerVersion)(Yr,"0.3.7","esm2017")}();const Bi="/firebase-messaging-sw.js",ts="/firebase-cloud-messaging-push-scope",li="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xi="google.c.a.c_id",as="google.c.a.c_l",ls="google.c.a.ts",zs="google.c.a.e";var ki=(()=>{return(A=ki||(ki={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",ki;var A})();function Mi(A){const k=new Uint8Array(A);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fi(A){const K=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(K),qe=new Uint8Array(pe.length);for(let lt=0;lt<pe.length;++lt)qe[lt]=pe.charCodeAt(lt);return qe}const Hi="fcm_token_details_db",ui="fcm_token_object_Store";function ps(A){return Rr.apply(this,arguments)}function Rr(){return Rr=(0,j.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(lt=>lt.name).includes(Hi))return null;let k=null;return(yield(0,Q.X3)(Hi,5,function(){var pe=(0,j.Z)(function*(qe,lt,jt,Dn){var tr;if(lt<2||!qe.objectStoreNames.contains(ui))return;const nr=Dn.objectStore(ui),Sr=yield nr.index("fcmSenderId").get(A);if(yield nr.clear(),Sr)if(2===lt){const ur=Sr;if(!ur.auth||!ur.p256dh||!ur.endpoint)return;k={token:ur.fcmToken,createTime:null!==(tr=ur.createTime)&&void 0!==tr?tr:Date.now(),subscriptionOptions:{auth:ur.auth,p256dh:ur.p256dh,endpoint:ur.endpoint,swScope:ur.swScope,vapidKey:"string"==typeof ur.vapidKey?ur.vapidKey:Mi(ur.vapidKey)}}}else if(3===lt){const ur=Sr;k={token:ur.fcmToken,createTime:ur.createTime,subscriptionOptions:{auth:Mi(ur.auth),p256dh:Mi(ur.p256dh),endpoint:ur.endpoint,swScope:ur.swScope,vapidKey:Mi(ur.vapidKey)}}}else if(4===lt){const ur=Sr;k={token:ur.fcmToken,createTime:ur.createTime,subscriptionOptions:{auth:Mi(ur.auth),p256dh:Mi(ur.p256dh),endpoint:ur.endpoint,swScope:ur.swScope,vapidKey:Mi(ur.vapidKey)}}}});return function(qe,lt,jt,Dn){return pe.apply(this,arguments)}}())).close(),yield(0,Q.Lj)(Hi),yield(0,Q.Lj)("fcm_vapid_details_db"),yield(0,Q.Lj)("undefined"),wi(k)?k:null}),Rr.apply(this,arguments)}function wi(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:k}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const Li="firebase-messaging-store";let ci=null;function Ms(){return ci||(ci=(0,Q.X3)("firebase-messaging-database",1,(A,k)=>{0===k&&A.createObjectStore(Li)})),ci}function br(A){return R.apply(this,arguments)}function R(){return(R=(0,j.Z)(function*(A){const k=ot(A),pe=yield(yield Ms()).transaction(Li).objectStore(Li).get(k);if(pe)return pe;{const qe=yield ps(A.appConfig.senderId);if(qe)return yield z(A,qe),qe}})).apply(this,arguments)}function z(A,k){return O.apply(this,arguments)}function O(){return(O=(0,j.Z)(function*(A,k){const K=ot(A),qe=(yield Ms()).transaction(Li,"readwrite");return yield qe.objectStore(Li).put(k,K),yield qe.complete,k})).apply(this,arguments)}function q(A){return Te.apply(this,arguments)}function Te(){return(Te=(0,j.Z)(function*(A){const k=ot(A),pe=(yield Ms()).transaction(Li,"readwrite");yield pe.objectStore(Li).delete(k),yield pe.complete})).apply(this,arguments)}function ot({appConfig:A}){return A.appId}const Gt=new Q.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pr(A,k){return gr.apply(this,arguments)}function gr(){return(gr=(0,j.Z)(function*(A,k){const K=yield w(A),pe=Le(k),qe={method:"POST",headers:K,body:JSON.stringify(pe)};let lt;try{lt=yield(yield fetch(S(A.appConfig),qe)).json()}catch(jt){throw Gt.create("token-subscribe-failed",{errorInfo:jt})}if(lt.error)throw Gt.create("token-subscribe-failed",{errorInfo:lt.error.message});if(!lt.token)throw Gt.create("token-subscribe-no-token");return lt.token})).apply(this,arguments)}function er(A,k){return pn.apply(this,arguments)}function pn(){return(pn=(0,j.Z)(function*(A,k){const K=yield w(A),pe=Le(k.subscriptionOptions),qe={method:"PATCH",headers:K,body:JSON.stringify(pe)};let lt;try{lt=yield(yield fetch(`${S(A.appConfig)}/${k.token}`,qe)).json()}catch(jt){throw Gt.create("token-update-failed",{errorInfo:jt})}if(lt.error)throw Gt.create("token-update-failed",{errorInfo:lt.error.message});if(!lt.token)throw Gt.create("token-update-no-token");return lt.token})).apply(this,arguments)}function Jr(A,k){return N.apply(this,arguments)}function N(){return(N=(0,j.Z)(function*(A,k){const pe={method:"DELETE",headers:yield w(A)};try{const lt=yield(yield fetch(`${S(A.appConfig)}/${k}`,pe)).json();if(lt.error)throw Gt.create("token-unsubscribe-failed",{errorInfo:lt.error.message})}catch(qe){throw Gt.create("token-unsubscribe-failed",{errorInfo:qe})}})).apply(this,arguments)}function S({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function w(A){return W.apply(this,arguments)}function W(){return(W=(0,j.Z)(function*({appConfig:A,installations:k}){const K=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function Le({p256dh:A,auth:k,endpoint:K,vapidKey:pe}){const qe={web:{endpoint:K,auth:k,p256dh:A}};return pe!==li&&(qe.web.applicationPubKey=pe),qe}const Jt=6048e5;function nn(A){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,j.Z)(function*(A){const k=yield Os(A.swRegistration,A.vapidKey),K={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:k.endpoint,auth:Mi(k.getKey("auth")),p256dh:Mi(k.getKey("p256dh"))},pe=yield br(A.firebaseDependencies);if(pe){if(so(pe.subscriptionOptions,K))return Date.now()>=pe.createTime+Jt?Xr(A,{token:pe.token,createTime:Date.now(),subscriptionOptions:K}):pe.token;try{yield Jr(A.firebaseDependencies,pe.token)}catch(qe){console.warn(qe)}return Ot(A.firebaseDependencies,K)}return Ot(A.firebaseDependencies,K)})).apply(this,arguments)}function _i(A){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,j.Z)(function*(A){const k=yield br(A.firebaseDependencies);k&&(yield Jr(A.firebaseDependencies,k.token),yield q(A.firebaseDependencies));const K=yield A.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function Xr(A,k){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,j.Z)(function*(A,k){try{const K=yield er(A.firebaseDependencies,k),pe=Object.assign(Object.assign({},k),{token:K,createTime:Date.now()});return yield z(A.firebaseDependencies,pe),K}catch(K){throw yield _i(A),K}})).apply(this,arguments)}function Ot(A,k){return lr.apply(this,arguments)}function lr(){return(lr=(0,j.Z)(function*(A,k){const pe={token:yield Pr(A,k),createTime:Date.now(),subscriptionOptions:k};return yield z(A,pe),pe.token})).apply(this,arguments)}function Os(A,k){return ii.apply(this,arguments)}function ii(){return(ii=(0,j.Z)(function*(A,k){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fi(k)})})).apply(this,arguments)}function so(A,k){return k.vapidKey===A.vapidKey&&k.endpoint===A.endpoint&&k.auth===A.auth&&k.p256dh===A.p256dh}function js(A){const k={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function us(A,k){if(!k.notification)return;A.notification={};const K=k.notification.title;K&&(A.notification.title=K);const pe=k.notification.body;pe&&(A.notification.body=pe);const qe=k.notification.image;qe&&(A.notification.image=qe)}(k,A),function po(A,k){!k.data||(A.data=k.data)}(k,A),function go(A,k){if(!k.fcmOptions)return;A.fcmOptions={};const K=k.fcmOptions.link;K&&(A.fcmOptions.link=K);const pe=k.fcmOptions.analytics_label;pe&&(A.fcmOptions.analyticsLabel=pe)}(k,A),k}function mo(A){return"object"==typeof A&&!!A&&xi in A}function Rs(A,k){const K=[];for(let pe=0;pe<A.length;pe++)K.push(A.charAt(pe)),pe<k.length&&K.push(k.charAt(pe));return K.join("")}function rs(A){return Gt.create("missing-app-config-values",{valueName:A})}Rs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Rs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $i{constructor(k,K,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const qe=function Ps(A){if(!A||!A.options)throw rs("App Configuration Object");if(!A.name)throw rs("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:K}=A;for(const pe of k)if(!K[pe])throw rs(pe);return{appName:A.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:qe,installations:K,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function Gi(A){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,j.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(Bi,{scope:ts}),A.swRegistration.update().catch(()=>{})}catch(k){throw Gt.create("failed-service-worker-registration",{browserErrorMessage:k.message})}})).apply(this,arguments)}function H(A,k){return p.apply(this,arguments)}function p(){return(p=(0,j.Z)(function*(A,k){if(!k&&!A.swRegistration&&(yield Gi(A)),k||!A.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw Gt.create("invalid-sw-registration");A.swRegistration=k}})).apply(this,arguments)}function _(A,k){return M.apply(this,arguments)}function M(){return(M=(0,j.Z)(function*(A,k){k?A.vapidKey=k:A.vapidKey||(A.vapidKey=li)})).apply(this,arguments)}function ne(){return(ne=(0,j.Z)(function*(A,k){if(!navigator)throw Gt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gt.create("permission-blocked");return yield _(A,null==k?void 0:k.vapidKey),yield H(A,null==k?void 0:k.serviceWorkerRegistration),nn(A)})).apply(this,arguments)}function Ee(A,k,K){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,j.Z)(function*(A,k,K){const pe=Je(k);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:K[xi],message_name:K[as],message_time:K[ls],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Je(A){switch(A){case ki.NOTIFICATION_CLICKED:return"notification_open";case ki.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function rn(){return(rn=(0,j.Z)(function*(A,k){const K=k.data;if(!K.isFirebaseMessaging)return;A.onMessageHandler&&K.messageType===ki.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(js(K)):A.onMessageHandler.next(js(K)));const pe=K.data;mo(pe)&&"1"===pe[zs]&&(yield Ee(A,K.messageType,pe))})).apply(this,arguments)}const gn="@firebase/messaging",fr=A=>{const k=new $i(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function Dt(A,k){return rn.apply(this,arguments)}(k,K)),k},Cn=A=>{const k=A.getProvider("messaging").getImmediate();return{getToken:pe=>function $(A,k){return ne.apply(this,arguments)}(k,pe)}};function Tr(){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,j.Z)(function*(){try{yield(0,Q.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,Q.hl)()&&(0,Q.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ln(){(0,te._registerComponent)(new ce.wA("messaging",fr,"PUBLIC")),(0,te._registerComponent)(new ce.wA("messaging-internal",Cn,"PRIVATE")),(0,te.registerVersion)(gn,"0.9.12"),(0,te.registerVersion)(gn,"0.9.12","esm2017")}();const zi="analytics",Ks="firebase_id",Ki="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gs="https://www.googletagmanager.com/gtag/js",zt=new ue.Yd("@firebase/analytics");function Sn(A){return Promise.all(A.map(k=>k.catch(K=>K)))}function Vn(A,k){const K=document.createElement("script");K.src=`${gs}?l=${A}&id=${k}`,K.async=!0,document.head.appendChild(K)}function zr(A,k,K,pe,qe,lt){return ms.apply(this,arguments)}function ms(){return(ms=(0,j.Z)(function*(A,k,K,pe,qe,lt){const jt=pe[qe];try{if(jt)yield k[jt];else{const tr=(yield Sn(K)).find(nr=>nr.measurementId===qe);tr&&(yield k[tr.appId])}}catch(Dn){zt.error(Dn)}A("config",qe,lt)})).apply(this,arguments)}function ti(A,k,K,pe,qe){return yi.apply(this,arguments)}function yi(){return(yi=(0,j.Z)(function*(A,k,K,pe,qe){try{let lt=[];if(qe&&qe.send_to){let jt=qe.send_to;Array.isArray(jt)||(jt=[jt]);const Dn=yield Sn(K);for(const tr of jt){const nr=Dn.find(ur=>ur.measurementId===tr),Sr=nr&&k[nr.appId];if(!Sr){lt=[];break}lt.push(Sr)}}0===lt.length&&(lt=Object.values(k)),yield Promise.all(lt),A("event",pe,qe||{})}catch(lt){zt.error(lt)}})).apply(this,arguments)}function Hs(){const A=window.document.getElementsByTagName("script");for(const k of Object.values(A))if(k.src&&k.src.includes(gs))return k;return null}const pi=new Q.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ao=new class Ns{constructor(k={},K=1e3){this.throttleMetadata=k,this.intervalMillis=K}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,K){this.throttleMetadata[k]=K}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function lo(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function _o(A){return xr.apply(this,arguments)}function xr(){return(xr=(0,j.Z)(function*(A){var k;const{appId:K,apiKey:pe}=A,qe={method:"GET",headers:lo(pe)},lt=Ki.replace("{app-id}",K),jt=yield fetch(lt,qe);if(200!==jt.status&&304!==jt.status){let Dn="";try{const tr=yield jt.json();(null===(k=tr.error)||void 0===k?void 0:k.message)&&(Dn=tr.error.message)}catch(tr){}throw pi.create("config-fetch-failed",{httpStatus:jt.status,responseMessage:Dn})}return jt.json()})).apply(this,arguments)}function Ca(A){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,j.Z)(function*(A,k=ao,K){const{appId:pe,apiKey:qe,measurementId:lt}=A.options;if(!pe)throw pi.create("no-app-id");if(!qe){if(lt)return{measurementId:lt,appId:pe};throw pi.create("no-api-key")}const jt=k.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Dn=new y;return setTimeout((0,j.Z)(function*(){Dn.abort()}),void 0!==K?K:6e4),yo({appId:pe,apiKey:qe,measurementId:lt},jt,Dn,k)})).apply(this,arguments)}function yo(A,k,K){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,j.Z)(function*(A,{throttleEndTimeMillis:k,backoffCount:K},pe,qe=ao){const{appId:lt,measurementId:jt}=A;try{yield I(pe,k)}catch(Dn){if(jt)return zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jt} provided in the "measurementId" field in the local Firebase config. [${Dn.message}]`),{appId:lt,measurementId:jt};throw Dn}try{const Dn=yield _o(A);return qe.deleteThrottleMetadata(lt),Dn}catch(Dn){if(!E(Dn)){if(qe.deleteThrottleMetadata(lt),jt)return zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jt} provided in the "measurementId" field in the local Firebase config. [${Dn.message}]`),{appId:lt,measurementId:jt};throw Dn}const tr=503===Number(Dn.customData.httpStatus)?(0,Q.$s)(K,qe.intervalMillis,30):(0,Q.$s)(K,qe.intervalMillis),nr={throttleEndTimeMillis:Date.now()+tr,backoffCount:K+1};return qe.setThrottleMetadata(lt,nr),zt.debug(`Calling attemptFetch again in ${tr} millis`),yo(A,nr,pe,qe)}})).apply(this,arguments)}function I(A,k){return new Promise((K,pe)=>{const qe=Math.max(k-Date.now(),0),lt=setTimeout(K,qe);A.addEventListener(()=>{clearTimeout(lt),pe(pi.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}function E(A){if(!(A instanceof Q.ZR&&A.customData))return!1;const k=Number(A.customData.httpStatus);return 429===k||500===k||503===k||504===k}class y{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}function P(){return L.apply(this,arguments)}function L(){return(L=(0,j.Z)(function*(){if(!(0,Q.hl)())return zt.warn(pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Q.eu)()}catch(A){return zt.warn(pi.create("indexeddb-unavailable",{errorInfo:A}).message),!1}return!0})).apply(this,arguments)}function he(){return(he=(0,j.Z)(function*(A,k,K,pe,qe,lt,jt){var Dn;const tr=Ca(A);tr.then(kr=>{K[kr.measurementId]=kr.appId,A.options.measurementId&&kr.measurementId!==A.options.measurementId&&zt.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${kr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(kr=>zt.error(kr)),k.push(tr);const nr=P().then(kr=>{if(kr)return pe.getId()}),[Sr,ur]=yield Promise.all([tr,nr]);Hs()||Vn(lt,Sr.measurementId),qe("js",new Date);const ss=null!==(Dn=null==jt?void 0:jt.config)&&void 0!==Dn?Dn:{};return ss.origin="firebase",ss.update=!0,null!=ur&&(ss[Ks]=ur),qe("config",Sr.measurementId,ss),Sr.measurementId})).apply(this,arguments)}class Ae{constructor(k){this.app=k}_delete(){return delete _t[this.app.options.appId],Promise.resolve()}}let _t={},dn=[];const mr={};let Ar,Zi,vn="dataLayer",$s=!1;function Yi(A,k,K){!function uo(){const A=[];if((0,Q.ru)()&&A.push("This is a browser extension environment."),(0,Q.zI)()||A.push("Cookies are not available."),A.length>0){const k=A.map((pe,qe)=>`(${qe+1}) ${pe}`).join(" "),K=pi.create("invalid-analytics-context",{errorInfo:k});zt.warn(K.message)}}();const pe=A.options.appId;if(!pe)throw pi.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw pi.create("no-api-key");zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_t[pe])throw pi.create("already-exists",{id:pe});if(!$s){!function Wn(A){let k=[];Array.isArray(window[A])?k=window[A]:window[A]=k}(vn);const{wrappedGtag:lt,gtagCore:jt}=function oo(A,k,K,pe,qe){let lt=function(...jt){window[pe].push(arguments)};return window[qe]&&"function"==typeof window[qe]&&(lt=window[qe]),window[qe]=function Kr(A,k,K,pe){function lt(){return(lt=(0,j.Z)(function*(jt,Dn,tr){try{"event"===jt?yield ti(A,k,K,Dn,tr):"config"===jt?yield zr(A,k,K,pe,Dn,tr):A("set",Dn)}catch(nr){zt.error(nr)}})).apply(this,arguments)}return function qe(jt,Dn,tr){return lt.apply(this,arguments)}}(lt,A,k,K),{gtagCore:lt,wrappedGtag:window[qe]}}(_t,dn,mr,vn,"gtag");Zi=lt,Ar=jt,$s=!0}return _t[pe]=function Z(A,k,K,pe,qe,lt,jt){return he.apply(this,arguments)}(A,dn,mr,k,Ar,vn,K),new Ae(A)}function wo(){return(wo=(0,j.Z)(function*(A,k,K,pe,qe){if(qe&&qe.global)A("event",K,pe);else{const lt=yield k;A("event",K,Object.assign(Object.assign({},pe),{send_to:lt}))}})).apply(this,arguments)}function $o(){return ba.apply(this,arguments)}function ba(){return(ba=(0,j.Z)(function*(){if((0,Q.ru)()||!(0,Q.zI)()||!(0,Q.hl)())return!1;try{return yield(0,Q.eu)()}catch(A){return!1}})).apply(this,arguments)}const $a="@firebase/analytics";!function vu(){(0,te._registerComponent)(new ce.wA(zi,(k,{options:K})=>Yi(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,te._registerComponent)(new ce.wA("analytics-internal",function A(k){try{const K=k.getProvider(zi).getImmediate();return{logEvent:(pe,qe,lt)=>function yu(A,k,K,pe){A=(0,Q.m9)(A),function Ta(A,k,K,pe,qe){return wo.apply(this,arguments)}(Zi,_t[A.app.options.appId],k,K,pe).catch(qe=>zt.error(qe))}(K,pe,qe,lt)}}catch(K){throw pi.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,te.registerVersion)($a,"0.7.8"),(0,te.registerVersion)($a,"0.7.8","esm2017")}();var Eu=D(233),Mo=D(4986),Cu=D(8505),Pi=D(9468),Ga=D(5363);const Oo=new u.GfV("7.3.0"),za="__angularfire_symbol__analyticsIsSupportedValue",Xo="__angularfire_symbol__analyticsIsSupported",qi="__angularfire_symbol__remoteConfigIsSupportedValue",_s="__angularfire_symbol__remoteConfigIsSupported",wa="__angularfire_symbol__messagingIsSupportedValue",co="__angularfire_symbol__messagingIsSupported";function Tu(A,k,K){if(k){if(1===k.length)return k[0];const lt=k.filter(jt=>jt.app===K);if(1===lt.length)return lt[0]}return K.container.getProvider(A).getImmediate({optional:!0})}globalThis[Xo]||(globalThis[Xo]=$o().then(A=>globalThis[za]=A).catch(()=>globalThis[za]=!1)),globalThis[co]||(globalThis[co]=Tr().then(A=>globalThis[wa]=A).catch(()=>globalThis[wa]=!1)),globalThis[_s]||(globalThis[_s]=mi().then(A=>globalThis[qi]=A).catch(()=>globalThis[qi]=!1));const ml=(A,k)=>{const K=k?[k]:(0,B.C6)(),pe=[];return K.forEach(qe=>{qe.container.getProvider(A).instances.forEach(jt=>{pe.includes(jt)||pe.push(jt)})}),pe};function Zs(){}class ys{constructor(k,K=Eu.N){this.zone=k,this.delegate=K}now(){return this.delegate.now()}schedule(k,K,pe){const qe=this.zone;return this.delegate.schedule(function(jt){qe.runGuarded(()=>{k.apply(this,[jt])})},K,pe)}}class Ka{constructor(k){this.zone=k,this.task=null}call(k,K){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zs,{},Zs,Zs)),K.pipe((0,Cu.b)({next:pe,complete:pe,error:pe})).subscribe(k).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ro=(()=>{class A{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new ys(Zone.current)),this.insideAngular=K.run(()=>new ys(Zone.current,Mo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(K){return new(K||A)(u.LFG(u.R0b))},A.\u0275prov=u.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function vs(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function No(A){return vs(),function jl(A){return function(K){return(K=K.lift(new Ka(A.ngZone))).pipe((0,Pi.R)(A.outsideAngular),(0,Ga.Q)(A.insideAngular))}}(vs())(A)}},2090:(Ie,re,D)=>{D.d(re,{BH:()=>Ye,LL:()=>$t,ZR:()=>He,gQ:()=>sr,zI:()=>Fe,hu:()=>j,g5:()=>te,US:()=>ue,tV:()=>X,h$:()=>le,L:()=>ee,$s:()=>Dr,r3:()=>We,Sg:()=>Qe,ne:()=>qt,p$:()=>ie,vZ:()=>zn,ZB:()=>fe,Lj:()=>mn,gK:()=>dt,pd:()=>$n,m9:()=>Rt,z$:()=>nt,GJ:()=>Ue,jU:()=>vt,ru:()=>Tt,xb:()=>ln,w1:()=>Ke,hl:()=>ve,uI:()=>Ne,UG:()=>Ve,Yr:()=>At,b$:()=>ke,w9:()=>ht,cI:()=>Ut,UI:()=>Nn,X3:()=>on,xO:()=>fn,zd:()=>Hn,DV:()=>Et,ug:()=>bt,dS:()=>at,Pz:()=>Bt,Dv:()=>jr,Wj:()=>Pe,lb:()=>It,eu:()=>ze});var u=D(5861);const j=function(_e,de){if(!_e)throw te(de)},te=function(_e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+_e)},Q=function(_e){const de=[];let we=0;for(let rt=0;rt<_e.length;rt++){let je=_e.charCodeAt(rt);je<128?de[we++]=je:je<2048?(de[we++]=je>>6|192,de[we++]=63&je|128):55296==(64512&je)&&rt+1<_e.length&&56320==(64512&_e.charCodeAt(rt+1))?(je=65536+((1023&je)<<10)+(1023&_e.charCodeAt(++rt)),de[we++]=je>>18|240,de[we++]=je>>12&63|128,de[we++]=je>>6&63|128,de[we++]=63&je|128):(de[we++]=je>>12|224,de[we++]=je>>6&63|128,de[we++]=63&je|128)}return de},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(_e,de){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const we=de?this.byteToCharMapWebSafe_:this.byteToCharMap_,rt=[];for(let je=0;je<_e.length;je+=3){const xt=_e[je],Re=je+1<_e.length,ye=Re?_e[je+1]:0,se=je+2<_e.length,Se=se?_e[je+2]:0;let tn=(15&ye)<<2|Se>>6,Gn=63&Se;se||(Gn=64,Re||(tn=64)),rt.push(we[xt>>2],we[(3&xt)<<4|ye>>4],we[tn],we[Gn])}return rt.join("")},encodeString(_e,de){return this.HAS_NATIVE_SUPPORT&&!de?btoa(_e):this.encodeByteArray(Q(_e),de)},decodeString(_e,de){return this.HAS_NATIVE_SUPPORT&&!de?atob(_e):function(_e){const de=[];let we=0,rt=0;for(;we<_e.length;){const je=_e[we++];if(je<128)de[rt++]=String.fromCharCode(je);else if(je>191&&je<224){const xt=_e[we++];de[rt++]=String.fromCharCode((31&je)<<6|63&xt)}else if(je>239&&je<365){const se=((7&je)<<18|(63&_e[we++])<<12|(63&_e[we++])<<6|63&_e[we++])-65536;de[rt++]=String.fromCharCode(55296+(se>>10)),de[rt++]=String.fromCharCode(56320+(1023&se))}else{const xt=_e[we++],Re=_e[we++];de[rt++]=String.fromCharCode((15&je)<<12|(63&xt)<<6|63&Re)}}return de.join("")}(this.decodeStringToByteArray(_e,de))},decodeStringToByteArray(_e,de){this.init_();const we=de?this.charToByteMapWebSafe_:this.charToByteMap_,rt=[];for(let je=0;je<_e.length;){const xt=we[_e.charAt(je++)],ye=je<_e.length?we[_e.charAt(je)]:0;++je;const Se=je<_e.length?we[_e.charAt(je)]:64;++je;const Ft=je<_e.length?we[_e.charAt(je)]:64;if(++je,null==xt||null==ye||null==Se||null==Ft)throw Error();rt.push(xt<<2|ye>>4),64!==Se&&(rt.push(ye<<4&240|Se>>2),64!==Ft&&rt.push(Se<<6&192|Ft))}return rt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}},le=function(_e){const de=Q(_e);return ue.encodeByteArray(de,!0)},ee=function(_e){return le(_e).replace(/\./g,"")},X=function(_e){try{return ue.decodeString(_e,!0)}catch(de){console.error("base64Decode failed: ",de)}return null};function ie(_e){return fe(void 0,_e)}function fe(_e,de){if(!(de instanceof Object))return de;switch(de.constructor){case Date:return new Date(de.getTime());case Object:void 0===_e&&(_e={});break;case Array:_e=[];break;default:return de}for(const we in de)!de.hasOwnProperty(we)||!et(we)||(_e[we]=fe(_e[we],de[we]));return _e}function et(_e){return"__proto__"!==_e}class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((de,we)=>{this.resolve=de,this.reject=we})}wrapCallback(de){return(we,rt)=>{we?this.reject(we):this.resolve(rt),"function"==typeof de&&(this.promise.catch(()=>{}),1===de.length?de(we):de(we,rt))}}}function Qe(_e,de){if(_e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const rt=de||"demo-project",je=_e.iat||0,xt=_e.sub||_e.user_id;if(!xt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Re=Object.assign({iss:`https://securetoken.google.com/${rt}`,aud:rt,iat:je,exp:je+3600,auth_time:je,sub:xt,user_id:xt,firebase:{sign_in_provider:"custom",identities:{}}},_e);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(Re)),""].join(".")}function nt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function Ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(_e){return!1}}function vt(){return"object"==typeof self&&self.self===self}function Tt(){const _e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _e&&void 0!==_e.id}function ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){const _e=nt();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function At(){return!1}function ve(){return"object"==typeof indexedDB}function ze(){return new Promise((_e,de)=>{try{let we=!0;const rt="validate-browser-context-for-indexeddb-analytics-module",je=self.indexedDB.open(rt);je.onsuccess=()=>{je.result.close(),we||self.indexedDB.deleteDatabase(rt),_e(!0)},je.onupgradeneeded=()=>{we=!1},je.onerror=()=>{var xt;de((null===(xt=je.error)||void 0===xt?void 0:xt.message)||"")}}catch(we){de(we)}})}function Fe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class He extends Error{constructor(de,we,rt){super(we),this.code=de,this.customData=rt,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}}class $t{constructor(de,we,rt){this.service=de,this.serviceName=we,this.errors=rt}create(de,...we){const rt=we[0]||{},je=`${this.service}/${de}`,xt=this.errors[de],Re=xt?function Mn(_e,de){return _e.replace(Qn,(we,rt)=>{const je=de[rt];return null!=je?String(je):`<${rt}?>`})}(xt,rt):"Error";return new He(je,`${this.serviceName}: ${Re} (${je}).`,rt)}}const Qn=/\{\$([^}]+)}/g;function Ut(_e){return JSON.parse(_e)}function Bt(_e){return JSON.stringify(_e)}const Pn=function(_e){let de={},we={},rt={},je="";try{const xt=_e.split(".");de=Ut(X(xt[0])||""),we=Ut(X(xt[1])||""),je=xt[2],rt=we.d||{},delete we.d}catch(xt){}return{header:de,claims:we,data:rt,signature:je}},ht=function(_e){const we=Pn(_e).claims;return!!we&&"object"==typeof we&&we.hasOwnProperty("iat")},Ue=function(_e){const de=Pn(_e).claims;return"object"==typeof de&&!0===de.admin};function We(_e,de){return Object.prototype.hasOwnProperty.call(_e,de)}function Et(_e,de){if(Object.prototype.hasOwnProperty.call(_e,de))return _e[de]}function ln(_e){for(const de in _e)if(Object.prototype.hasOwnProperty.call(_e,de))return!1;return!0}function Nn(_e,de,we){const rt={};for(const je in _e)Object.prototype.hasOwnProperty.call(_e,je)&&(rt[je]=de.call(we,_e[je],je,_e));return rt}function zn(_e,de){if(_e===de)return!0;const we=Object.keys(_e),rt=Object.keys(de);for(const je of we){if(!rt.includes(je))return!1;const xt=_e[je],Re=de[je];if(_n(xt)&&_n(Re)){if(!zn(xt,Re))return!1}else if(xt!==Re)return!1}for(const je of rt)if(!we.includes(je))return!1;return!0}function _n(_e){return null!==_e&&"object"==typeof _e}function fn(_e){const de=[];for(const[we,rt]of Object.entries(_e))Array.isArray(rt)?rt.forEach(je=>{de.push(encodeURIComponent(we)+"="+encodeURIComponent(je))}):de.push(encodeURIComponent(we)+"="+encodeURIComponent(rt));return de.length?"&"+de.join("&"):""}function Hn(_e){const de={};return _e.replace(/^\?/,"").split("&").forEach(rt=>{if(rt){const[je,xt]=rt.split("=");de[decodeURIComponent(je)]=decodeURIComponent(xt)}}),de}function $n(_e){const de=_e.indexOf("?");if(!de)return"";const we=_e.indexOf("#",de);return _e.substring(de,we>0?we:void 0)}class sr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let de=1;de<this.blockSize;++de)this.pad_[de]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(de,we){we||(we=0);const rt=this.W_;if("string"==typeof de)for(let Ft=0;Ft<16;Ft++)rt[Ft]=de.charCodeAt(we)<<24|de.charCodeAt(we+1)<<16|de.charCodeAt(we+2)<<8|de.charCodeAt(we+3),we+=4;else for(let Ft=0;Ft<16;Ft++)rt[Ft]=de[we]<<24|de[we+1]<<16|de[we+2]<<8|de[we+3],we+=4;for(let Ft=16;Ft<80;Ft++){const tn=rt[Ft-3]^rt[Ft-8]^rt[Ft-14]^rt[Ft-16];rt[Ft]=4294967295&(tn<<1|tn>>>31)}let Se,mt,je=this.chain_[0],xt=this.chain_[1],Re=this.chain_[2],ye=this.chain_[3],se=this.chain_[4];for(let Ft=0;Ft<80;Ft++){Ft<40?Ft<20?(Se=ye^xt&(Re^ye),mt=1518500249):(Se=xt^Re^ye,mt=1859775393):Ft<60?(Se=xt&Re|ye&(xt|Re),mt=2400959708):(Se=xt^Re^ye,mt=3395469782);const tn=(je<<5|je>>>27)+Se+se+mt+rt[Ft]&4294967295;se=ye,ye=Re,Re=4294967295&(xt<<30|xt>>>2),xt=je,je=tn}this.chain_[0]=this.chain_[0]+je&4294967295,this.chain_[1]=this.chain_[1]+xt&4294967295,this.chain_[2]=this.chain_[2]+Re&4294967295,this.chain_[3]=this.chain_[3]+ye&4294967295,this.chain_[4]=this.chain_[4]+se&4294967295}update(de,we){if(null==de)return;void 0===we&&(we=de.length);const rt=we-this.blockSize;let je=0;const xt=this.buf_;let Re=this.inbuf_;for(;je<we;){if(0===Re)for(;je<=rt;)this.compress_(de,je),je+=this.blockSize;if("string"==typeof de){for(;je<we;)if(xt[Re]=de.charCodeAt(je),++Re,++je,Re===this.blockSize){this.compress_(xt),Re=0;break}}else for(;je<we;)if(xt[Re]=de[je],++Re,++je,Re===this.blockSize){this.compress_(xt),Re=0;break}}this.inbuf_=Re,this.total_+=we}digest(){const de=[];let we=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let je=this.blockSize-1;je>=56;je--)this.buf_[je]=255&we,we/=256;this.compress_(this.buf_);let rt=0;for(let je=0;je<5;je++)for(let xt=24;xt>=0;xt-=8)de[rt]=this.chain_[je]>>xt&255,++rt;return de}}function qt(_e,de){const we=new sn(_e,de);return we.subscribe.bind(we)}class sn{constructor(de,we){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=we,this.task.then(()=>{de(this)}).catch(rt=>{this.error(rt)})}next(de){this.forEachObserver(we=>{we.next(de)})}error(de){this.forEachObserver(we=>{we.error(de)}),this.close(de)}complete(){this.forEachObserver(de=>{de.complete()}),this.close()}subscribe(de,we,rt){let je;if(void 0===de&&void 0===we&&void 0===rt)throw new Error("Missing Observer.");je=function rr(_e,de){if("object"!=typeof _e||null===_e)return!1;for(const we of de)if(we in _e&&"function"==typeof _e[we])return!0;return!1}(de,["next","error","complete"])?de:{next:de,error:we,complete:rt},void 0===je.next&&(je.next=Mr),void 0===je.error&&(je.error=Mr),void 0===je.complete&&(je.complete=Mr);const xt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?je.error(this.finalError):je.complete()}catch(Re){}}),this.observers.push(je),xt}unsubscribeOne(de){void 0===this.observers||void 0===this.observers[de]||(delete this.observers[de],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(de){if(!this.finalized)for(let we=0;we<this.observers.length;we++)this.sendOne(we,de)}sendOne(de,we){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[de])try{we(this.observers[de])}catch(rt){"undefined"!=typeof console&&console.error&&console.error(rt)}})}close(de){this.finalized||(this.finalized=!0,void 0!==de&&(this.finalError=de),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mr(){}const jr=function(_e,de,we,rt){let je;if(rt<de?je="at least "+de:rt>we&&(je=0===we?"none":"no more than "+we),je)throw new Error(_e+" failed: Was called with "+rt+(1===rt?" argument.":" arguments.")+" Expects "+je+".")};function dt(_e,de){return`${_e} failed: ${de} argument `}function Pe(_e,de,we,rt){if((!rt||we)&&"function"!=typeof we)throw new Error(dt(_e,de)+"must be a valid function.")}function It(_e,de,we,rt){if((!rt||we)&&("object"!=typeof we||null===we))throw new Error(dt(_e,de)+"must be a valid context object.")}const at=function(_e){const de=[];let we=0;for(let rt=0;rt<_e.length;rt++){let je=_e.charCodeAt(rt);if(je>=55296&&je<=56319){const xt=je-55296;rt++,j(rt<_e.length,"Surrogate pair missing trail surrogate."),je=65536+(xt<<10)+(_e.charCodeAt(rt)-56320)}je<128?de[we++]=je:je<2048?(de[we++]=je>>6|192,de[we++]=63&je|128):je<65536?(de[we++]=je>>12|224,de[we++]=je>>6&63|128,de[we++]=63&je|128):(de[we++]=je>>18|240,de[we++]=je>>12&63|128,de[we++]=je>>6&63|128,de[we++]=63&je|128)}return de},bt=function(_e){let de=0;for(let we=0;we<_e.length;we++){const rt=_e.charCodeAt(we);rt<128?de++:rt<2048?de+=2:rt>=55296&&rt<=56319?(de+=4,we++):de+=3}return de};function Dr(_e,de=1e3,we=2){const rt=de*Math.pow(we,_e),je=Math.round(.5*rt*(Math.random()-.5)*2);return Math.min(144e5,rt+je)}function Rt(_e){return _e&&_e._delegate?_e._delegate:_e}function kn(_e,de){return new Promise((we,rt)=>{_e.onsuccess=je=>{we(je.target.result)},_e.onerror=je=>{var xt;rt(`${de}: ${null===(xt=je.target.error)||void 0===xt?void 0:xt.message}`)}})}class yn{constructor(de){this._db=de,this.objectStoreNames=this._db.objectStoreNames}transaction(de,we="readonly"){return new Wt(this._db.transaction.call(this._db,de,we))}createObjectStore(de,we){return new ft(this._db.createObjectStore(de,we))}close(){this._db.close()}}class Wt{constructor(de){this._transaction=de,this.complete=new Promise((we,rt)=>{this._transaction.oncomplete=function(){we()},this._transaction.onerror=()=>{rt(this._transaction.error)},this._transaction.onabort=()=>{rt(this._transaction.error)}})}objectStore(de){return new ft(this._transaction.objectStore(de))}}class ft{constructor(de){this._store=de}index(de){return new Zt(this._store.index(de))}createIndex(de,we,rt){return new Zt(this._store.createIndex(de,we,rt))}get(de){return kn(this._store.get(de),"Error reading from IndexedDB")}put(de,we){return kn(this._store.put(de,we),"Error writing to IndexedDB")}delete(de){return kn(this._store.delete(de),"Error deleting from IndexedDB")}clear(){return kn(this._store.clear(),"Error clearing IndexedDB object store")}}class Zt{constructor(de){this._index=de}get(de){return kn(this._index.get(de),"Error reading from IndexedDB")}}function on(_e,de,we){return new Promise((rt,je)=>{try{const xt=indexedDB.open(_e,de);xt.onsuccess=Re=>{rt(new yn(Re.target.result))},xt.onerror=Re=>{var ye;je(`Error opening indexedDB: ${null===(ye=Re.target.error)||void 0===ye?void 0:ye.message}`)},xt.onupgradeneeded=Re=>{we(new yn(xt.result),Re.oldVersion,Re.newVersion,new Wt(xt.transaction))}}catch(xt){je(`Error opening indexedDB: ${xt.message}`)}})}function mn(_e){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,u.Z)(function*(_e){return new Promise((de,we)=>{try{const rt=indexedDB.deleteDatabase(_e);rt.onsuccess=()=>{de()},rt.onerror=je=>{var xt;we(`Error deleting indexedDB database "${_e}": ${null===(xt=je.target.error)||void 0===xt?void 0:xt.message}`)}}catch(rt){we(`Error deleting indexedDB database "${_e}": ${rt.message}`)}})})).apply(this,arguments)}},800:(Ie,re,D)=>{D.d(re,{u:()=>B,d:()=>te});var u=D(5620);const B={SET_AUTHENTICATED:(0,u.PH)("[Auth] Set Authenticated"),SET_UNAUTHENTICATED:(0,u.PH)("[Auth] Set Unauthenticated")},te=(0,u.Lq)({isAuth:!1},(0,u.on)(B.SET_AUTHENTICATED,Q=>Object.assign(Object.assign({},Q),{isAuth:!0})),(0,u.on)(B.SET_UNAUTHENTICATED,Q=>Object.assign(Object.assign({},Q),{isAuth:!1})))},619:(Ie,re,D)=>{D.d(re,{h:()=>B,y:()=>te});var u=D(5620);const B={SET_ORDERS_LIST:(0,u.PH)("[Orders] Set Orders list",(0,u.Ky)())},te=(0,u.Lq)([],(0,u.on)(B.SET_ORDERS_LIST,(Q,ce)=>[...ce.ordersList]))},2034:(Ie,re,D)=>{D.d(re,{J:()=>B,p:()=>te});var u=D(5620);const B={SET_PRODUCT_LIST:(0,u.PH)("[Product] Set product list",(0,u.Ky)())},te=(0,u.Lq)([],(0,u.on)(B.SET_PRODUCT_LIST,(Q,ce)=>[...ce.productList]))},187:(Ie,re,D)=>{D.d(re,{v:()=>B,y:()=>te});var u=D(5620);const B={SET_UNITS_LIST:(0,u.PH)("[Units] Set Units list",(0,u.Ky)())},te=(0,u.Lq)([],(0,u.on)(B.SET_UNITS_LIST,(Q,ce)=>[...ce.unitsList]))},3147:(Ie,re,D)=>{D.d(re,{E:()=>B,M:()=>te});var u=D(5620);const B={SET_USER:(0,u.PH)("[User] Set User",(0,u.Ky)())},te=(0,u.Lq)({key:"",data:{name:"",surname:"",email:"",phone:"",role:"",favoriteIceCream:[],currentOrder:{date:"",order:[]},prevOrder:{date:"",order:[]}}},(0,u.on)(B.SET_USER,(Q,ce)=>Object.assign(Object.assign({},Q),{key:ce.user.key,data:Object.assign({currentOrder:{date:"",orderList:[]},prevOrder:{date:"",orderList:[]}},ce.user.data)})))},8991:(Ie,re,D)=>{D.d(re,{_:()=>B,c:()=>te});var u=D(5620);const B={SET_USERS_LIST:(0,u.PH)("[Users] Set Users list",(0,u.Ky)())},te=(0,u.Lq)([],(0,u.on)(B.SET_USERS_LIST,(Q,ce)=>[...ce.usersList]))},2340:(Ie,re,D)=>{D.d(re,{N:()=>u});const u={production:!0,firebaseConfig:{apiKey:"AIzaSyBcCG7oyDXueiIIcF41U61THndESWPlFqU",authDomain:"angular-ice-cream-order-app.firebaseapp.com",databaseURL:"https://angular-ice-cream-order-app-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"angular-ice-cream-order-app",storageBucket:"angular-ice-cream-order-app.appspot.com",messagingSenderId:"677063814745",appId:"1:677063814745:web:05093658d6f2e0891b8b48"}}},5575:(Ie,re,D)=>{var u=D(2313),B=D(5e3),j=D(2340),te=D(9808),Q=D(5620),ce=D(5861),ue=D(1402),le=D(8505);let ee=(()=>{class ve{constructor(Fe,Ze){this.router=Fe,this.store=Ze}canActivate(){return this.store.select(Fe=>Fe.auth.isAuth).pipe((0,le.b)(Fe=>{Fe||this.router.navigate(["auth"])}))}}return ve.\u0275fac=function(Fe){return new(Fe||ve)(B.LFG(ue.F0),B.LFG(Q.yh))},ve.\u0275prov=B.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})(),X=(()=>{class ve{}return ve.\u0275fac=function(Fe){return new(Fe||ve)},ve.\u0275mod=B.oAB({type:ve}),ve.\u0275inj=B.cJS({imports:[[ue.Bz.forRoot([{path:"auth",loadChildren:(ze=(0,ce.Z)(function*(){return(yield Promise.all([D.e(59),D.e(683)]).then(D.bind(D,4683))).AuthModule}),function(){return ze.apply(this,arguments)})},{path:"dashboard",canActivate:[ee],loadChildren:function(){var ze=(0,ce.Z)(function*(){return(yield Promise.all([D.e(59),D.e(54)]).then(D.bind(D,8054))).ShellModule});return function(){return ze.apply(this,arguments)}}()},{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"**",redirectTo:"auth"}])],ue.Bz]}),ve;var ze})();var ie=D(3075),fe=D(6360),et=D(520),Ye=D(9565),Qe=D(2011),nt=D(3385),Ne=D(1903),Ve=D(2290),vt=D(800),Tt=D(3147),ke=D(8991),F=D(187),Ke=D(2034);let ct=(()=>{class ve{}return ve.\u0275fac=function(Fe){return new(Fe||ve)},ve.\u0275cmp=B.Xpm({type:ve,selectors:[["app-root"]],decls:1,vars:0,template:function(Fe,Ze){1&Fe&&B._UZ(0,"router-outlet")},directives:[ue.lC],encapsulation:2,changeDetection:0}),ve})();var At=D(619);let xe=(()=>{class ve{}return ve.\u0275fac=function(Fe){return new(Fe||ve)},ve.\u0275mod=B.oAB({type:ve,bootstrap:[ct]}),ve.\u0275inj=B.cJS({providers:[],imports:[[te.ez,u.b2,X,et.JF,fe.PW,ie.UX,Qe.hO.initializeApp(j.N.firebaseConfig),nt.ww,Ne.JS,Q.Aw.forRoot({auth:vt.d,user:Tt.M,users:ke.c,units:F.y,product:Ke.p,orders:At.y}),Ye.FT.instrument({logOnly:j.N.production,autoPause:!0}),Ve.Rh.forRoot()]]}),ve})();j.N.production&&(0,B.G48)(),u.q6().bootstrapModule(xe).catch(ve=>console.error(ve))},5867:(Ie,re,D)=>{D.d(re,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=D(9681);(0,u.registerVersion)("firebase","9.7.0","app")},127:(Ie,re,D)=>{D.d(re,{Z:()=>u.Z});var u=D(3942);u.Z.registerVersion("firebase","9.7.0","app-compat")},820:(Ie,re,D)=>{D.r(re);var u=D(5861),B=D(3942),j=D(2090),te=D(9681),Q=D(655),ce=D(1877),ue=D(4859);const Qe=function et(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ne=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vt=new ce.Yd("@firebase/auth");function Tt(f,...l){vt.logLevel<=ce.in.ERROR&&vt.error(`Auth (${te.SDK_VERSION}): ${f}`,...l)}function ke(f,...l){throw At(f,...l)}function F(f,...l){return At(f,...l)}function Ke(f,l,h){const v=Object.assign(Object.assign({},nt()),{[l]:h});return new j.LL("auth","Firebase",v).create(l,{appName:f.name})}function ct(f,l,h){if(!(l instanceof h))throw h.name!==l.constructor.name&&ke(f,"argument-error"),Ke(f,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function At(f,...l){if("string"!=typeof f){const h=l[0],v=[...l.slice(1)];return v[0]&&(v[0].appName=f.name),f._errorFactory.create(h,...v)}return Ne.create(f,...l)}function xe(f,l,...h){if(!f)throw At(l,...h)}function ve(f){const l="INTERNAL ASSERTION FAILED: "+f;throw Tt(l),new Error(l)}function ze(f,l){f||ve(l)}const Fe=new Map;function Ze(f){ze(f instanceof Function,"Expected a class definition");let l=Fe.get(f);return l?(ze(l instanceof f,"Instance stored in cache mismatched with class"),l):(l=new f,Fe.set(f,l),l)}function $t(){var f;return"undefined"!=typeof self&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function Mn(){return"http:"===Qn()||"https:"===Qn()}function Qn(){var f;return"undefined"!=typeof self&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Pn{constructor(l,h){this.shortDelay=l,this.longDelay=h,ze(h>l,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Ut(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mn()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function In(f,l){ze(f.emulator,"Emulator should always be set here");const{url:h}=f.emulator;return l?`${h}${l.startsWith("/")?l.slice(1):l}`:h}class gt{static initialize(l,h,v){this.fetchImpl=l,h&&(this.headersImpl=h),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ht={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ue=new Pn(3e4,6e4);function We(f,l){return f.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:f.tenantId}):l}function Et(f,l,h,v){return ln.apply(this,arguments)}function ln(){return(ln=(0,u.Z)(function*(f,l,h,v,U={}){return Nn(f,U,(0,u.Z)(function*(){let J={},$e={};v&&("GET"===l?$e=v:J={body:JSON.stringify(v)});const yt=(0,j.xO)(Object.assign({key:f.config.apiKey},$e)).slice(1),Xt=yield f._getAdditionalHeaders();return Xt["Content-Type"]="application/json",f.languageCode&&(Xt["X-Firebase-Locale"]=f.languageCode),gt.fetch()(Hn(f,f.config.apiHost,h,yt),Object.assign({method:l,headers:Xt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function Nn(f,l,h){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(f,l,h){f._canInitEmulator=!1;const v=Object.assign(Object.assign({},ht),l);try{const U=new $n(f),J=yield Promise.race([h(),U.promise]);U.clearNetworkTimeout();const $e=yield J.json();if("needConfirmation"in $e)throw sr(f,"account-exists-with-different-credential",$e);if(J.ok&&!("errorMessage"in $e))return $e;{const yt=J.ok?$e.errorMessage:$e.error.message,[Xt,Tn]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xt)throw sr(f,"credential-already-in-use",$e);if("EMAIL_EXISTS"===Xt)throw sr(f,"email-already-in-use",$e);const Yn=v[Xt]||Xt.toLowerCase().replace(/[_\s]+/g,"-");if(Tn)throw Ke(f,Yn,Tn);ke(f,Yn)}}catch(U){if(U instanceof j.ZR)throw U;ke(f,"network-request-failed")}})).apply(this,arguments)}function _n(f,l,h,v){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(f,l,h,v,U={}){const J=yield Et(f,l,h,v,U);return"mfaPendingCredential"in J&&ke(f,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Hn(f,l,h,v){const U=`${l}${h}?${v}`;return f.config.emulator?In(f.config,U):`${f.config.apiScheme}://${U}`}class $n{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((h,v)=>{this.timer=setTimeout(()=>v(F(this.auth,"network-request-failed")),Ue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(f,l,h){const v={appName:f.name};h.email&&(v.email=h.email),h.phoneNumber&&(v.phoneNumber=h.phoneNumber);const U=F(f,l,v);return U.customData._tokenResponse=h,U}function sn(){return(sn=(0,u.Z)(function*(f,l){return Et(f,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Rn(f,l){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(f,l){return Et(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Mr(f,l){return jr.apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(f,l){return Et(f,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function dt(f){if(f)try{const l=new Date(Number(f));if(!isNaN(l.getTime()))return l.toUTCString()}catch(l){}}function It(){return(It=(0,u.Z)(function*(f,l=!1){const h=(0,j.m9)(f),v=yield h.getIdToken(l),U=bt(v);xe(U&&U.exp&&U.auth_time&&U.iat,h.auth,"internal-error");const J="object"==typeof U.firebase?U.firebase:void 0,$e=null==J?void 0:J.sign_in_provider;return{claims:U,token:v,authTime:dt(at(U.auth_time)),issuedAtTime:dt(at(U.iat)),expirationTime:dt(at(U.exp)),signInProvider:$e||null,signInSecondFactor:(null==J?void 0:J.sign_in_second_factor)||null}})).apply(this,arguments)}function at(f){return 1e3*Number(f)}function bt(f){const[l,h,v]=f.split(".");if(void 0===l||void 0===h||void 0===v)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,j.tV)(h);return U?JSON.parse(U):(Tt("Failed to decode base64 JWT payload"),null)}catch(U){return Tt("Caught error parsing JWT payload as JSON",U),null}}function xn(f,l){return en.apply(this,arguments)}function en(){return(en=(0,u.Z)(function*(f,l,h=!1){if(h)return l;try{return yield l}catch(v){throw v instanceof j.ZR&&un(v)&&f.auth.currentUser===f&&(yield f.auth.signOut()),v}})).apply(this,arguments)}function un({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}class Dr{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var h;if(l){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const U=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(l=!1){var h=this;if(!this.isRunning)return;const v=this.getInterval(l);this.timerId=setTimeout((0,u.Z)(function*(){yield h.iteration()}),v)}iteration(){var l=this;return(0,u.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h.code&&l.schedule(!0))}l.schedule()})()}}class cr{constructor(l,h){this.createdAt=l,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=dt(this.lastLoginAt),this.creationTime=dt(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jn(f){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,u.Z)(function*(f){var l;const h=f.auth,v=yield f.getIdToken(),U=yield xn(f,Mr(h,{idToken:v}));xe(null==U?void 0:U.users.length,h,"internal-error");const J=U.users[0];f._notifyReloadListener(J);const $e=(null===(l=J.providerUserInfo)||void 0===l?void 0:l.length)?ft(J.providerUserInfo):[],yt=Wt(f.providerData,$e),Yn=!!f.isAnonymous&&!(f.email&&J.passwordHash||(null==yt?void 0:yt.length)),Un={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:yt,metadata:new cr(J.createdAt,J.lastLoginAt),isAnonymous:Yn};Object.assign(f,Un)})).apply(this,arguments)}function yn(){return(yn=(0,u.Z)(function*(f){const l=(0,j.m9)(f);yield Jn(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function Wt(f,l){return[...f.filter(v=>!l.some(U=>U.providerId===v.providerId)),...l]}function ft(f){return f.map(l=>{var{providerId:h}=l,v=(0,Q._T)(l,["providerId"]);return{providerId:h,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function on(){return(on=(0,u.Z)(function*(f,l){const h=yield Nn(f,{},(0,u.Z)(function*(){const v=(0,j.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:U,apiKey:J}=f.config,$e=Hn(f,U,"/v1/token",`key=${J}`),yt=yield f._getAdditionalHeaders();return yt["Content-Type"]="application/x-www-form-urlencoded",gt.fetch()($e,{method:"POST",headers:yt,body:v})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class mn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){xe(l.idToken,"internal-error"),xe(void 0!==l.idToken,"internal-error"),xe(void 0!==l.refreshToken,"internal-error");const h="expiresIn"in l&&void 0!==l.expiresIn?Number(l.expiresIn):function Ht(f){const l=bt(f);return xe(l,"internal-error"),xe(void 0!==l.exp,"internal-error"),xe(void 0!==l.iat,"internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,h)}getToken(l,h=!1){var v=this;return(0,u.Z)(function*(){return xe(!v.accessToken||v.refreshToken,l,"user-token-expired"),h||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(l,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,h){var v=this;return(0,u.Z)(function*(){const{accessToken:U,refreshToken:J,expiresIn:$e}=yield function Zt(f,l){return on.apply(this,arguments)}(l,h);v.updateTokensAndExpiration(U,J,Number($e))})()}updateTokensAndExpiration(l,h,v){this.refreshToken=h||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(l,h){const{refreshToken:v,accessToken:U,expirationTime:J}=h,$e=new mn;return v&&(xe("string"==typeof v,"internal-error",{appName:l}),$e.refreshToken=v),U&&(xe("string"==typeof U,"internal-error",{appName:l}),$e.accessToken=U),J&&(xe("number"==typeof J,"internal-error",{appName:l}),$e.expirationTime=J),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new mn,this.toJSON())}_performRefresh(){return ve("not implemented")}}function Kt(f,l){xe("string"==typeof f||void 0===f,"internal-error",{appName:l})}class _e{constructor(l){var{uid:h,auth:v,stsTokenManager:U}=l,J=(0,Q._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=v,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new cr(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(l){var h=this;return(0,u.Z)(function*(){const v=yield xn(h,h.stsTokenManager.getToken(h.auth,l));return xe(v,h.auth,"internal-error"),h.accessToken!==v&&(h.accessToken=v,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),v})()}getIdTokenResult(l){return function Pe(f){return It.apply(this,arguments)}(this,l)}reload(){return function kn(f){return yn.apply(this,arguments)}(this)}_assign(l){this!==l&&(xe(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(h=>Object.assign({},h)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new _e(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,h=!1){var v=this;return(0,u.Z)(function*(){let U=!1;l.idToken&&l.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(l),U=!0),h&&(yield Jn(v)),yield v.auth._persistUserIfCurrent(v),U&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var l=this;return(0,u.Z)(function*(){const h=yield l.getIdToken();return yield xn(l,function qt(f,l){return sn.apply(this,arguments)}(l.auth,{idToken:h})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,h){var v,U,J,$e,yt,Xt,Tn,Yn;const Un=null!==(v=h.displayName)&&void 0!==v?v:void 0,Ni=null!==(U=h.email)&&void 0!==U?U:void 0,to=null!==(J=h.phoneNumber)&&void 0!==J?J:void 0,ol=null!==($e=h.photoURL)&&void 0!==$e?$e:void 0,Nl=null!==(yt=h.tenantId)&&void 0!==yt?yt:void 0,al=null!==(Xt=h._redirectEventId)&&void 0!==Xt?Xt:void 0,lu=null!==(Tn=h.createdAt)&&void 0!==Tn?Tn:void 0,ho=null!==(Yn=h.lastLoginAt)&&void 0!==Yn?Yn:void 0,{uid:Qo,emailVerified:ka,isAnonymous:xl,providerData:uu,stsTokenManager:ll}=h;xe(Qo&&ll,l,"internal-error");const Ac=mn.fromJSON(this.name,ll);xe("string"==typeof Qo,l,"internal-error"),Kt(Un,l.name),Kt(Ni,l.name),xe("boolean"==typeof ka,l,"internal-error"),xe("boolean"==typeof xl,l,"internal-error"),Kt(to,l.name),Kt(ol,l.name),Kt(Nl,l.name),Kt(al,l.name),Kt(lu,l.name),Kt(ho,l.name);const cu=new _e({uid:Qo,auth:l,email:Ni,emailVerified:ka,displayName:Un,isAnonymous:xl,photoURL:ol,phoneNumber:to,tenantId:Nl,stsTokenManager:Ac,createdAt:lu,lastLoginAt:ho});return uu&&Array.isArray(uu)&&(cu.providerData=uu.map(Sc=>Object.assign({},Sc))),al&&(cu._redirectEventId=al),cu}static _fromIdTokenResponse(l,h,v=!1){return(0,u.Z)(function*(){const U=new mn;U.updateFromServerResponse(h);const J=new _e({uid:h.localId,auth:l,stsTokenManager:U,isAnonymous:v});return yield Jn(J),J})()}}const we=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(h,v){var U=this;return(0,u.Z)(function*(){U.storage[h]=v})()}_get(h){var v=this;return(0,u.Z)(function*(){const U=v.storage[h];return void 0===U?null:U})()}_remove(h){var v=this;return(0,u.Z)(function*(){delete v.storage[h]})()}_addListener(h,v){}_removeListener(h,v){}}return f.type="NONE",f})();function rt(f,l,h){return`firebase:${f}:${l}:${h}`}class je{constructor(l,h,v){this.persistence=l,this.auth=h,this.userKey=v;const{config:U,name:J}=this.auth;this.fullUserKey=rt(this.userKey,U.apiKey,J),this.fullPersistenceKey=rt("persistence",U.apiKey,J),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,u.Z)(function*(){const h=yield l.persistence._get(l.fullUserKey);return h?_e._fromJSON(l.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var h=this;return(0,u.Z)(function*(){if(h.persistence===l)return;const v=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=l,v?h.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,h,v="authUser"){return(0,u.Z)(function*(){if(!h.length)return new je(Ze(we),l,v);const U=(yield Promise.all(h.map(function(){var Tn=(0,u.Z)(function*(Yn){if(yield Yn._isAvailable())return Yn});return function(Yn){return Tn.apply(this,arguments)}}()))).filter(Tn=>Tn);let J=U[0]||Ze(we);const $e=rt(v,l.config.apiKey,l.name);let yt=null;for(const Tn of h)try{const Yn=yield Tn._get($e);if(Yn){const Un=_e._fromJSON(l,Yn);Tn!==J&&(yt=Un),J=Tn;break}}catch(Yn){}const Xt=U.filter(Tn=>Tn._shouldAllowMigration);return J._shouldAllowMigration&&Xt.length?(J=Xt[0],yt&&(yield J._set($e,yt.toJSON())),yield Promise.all(h.map(function(){var Tn=(0,u.Z)(function*(Yn){if(Yn!==J)try{yield Yn._remove($e)}catch(Un){}});return function(Yn){return Tn.apply(this,arguments)}}())),new je(J,l,v)):new je(J,l,v)})()}}function xt(f){const l=f.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(Se(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(Re(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(Ft(l))return"Blackberry";if(tn(l))return"Webos";if(ye(l))return"Safari";if((l.includes("chrome/")||se(l))&&!l.includes("edge/"))return"Chrome";if(mt(l))return"Android";{const v=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function Re(f=(0,j.z$)()){return/firefox\//i.test(f)}function ye(f=(0,j.z$)()){const l=f.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function se(f=(0,j.z$)()){return/crios\//i.test(f)}function Se(f=(0,j.z$)()){return/iemobile/i.test(f)}function mt(f=(0,j.z$)()){return/android/i.test(f)}function Ft(f=(0,j.z$)()){return/blackberry/i.test(f)}function tn(f=(0,j.z$)()){return/webos/i.test(f)}function Gn(f=(0,j.z$)()){return/iphone|ipad|ipod/i.test(f)}function si(f=(0,j.z$)()){return Gn(f)||mt(f)||tn(f)||Ft(f)||/windows phone/i.test(f)||Se(f)}function oi(f,l=[]){let h;switch(f){case"Browser":h=xt((0,j.z$)());break;case"Worker":h=`${xt((0,j.z$)())}-${f}`;break;default:h=f}const v=l.length?l.join(","):"FirebaseCore-web";return`${h}/JsCore/${te.SDK_VERSION}/${v}`}class di{constructor(l,h,v){this.app=l,this.heartbeatServiceProvider=h,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fn(this),this.idTokenSubscription=new Fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ne,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(l,h){var v=this;return h&&(this._popupRedirectResolver=Ze(h)),this._initializationPromise=this.queue((0,u.Z)(function*(){var U,J;if(!v._deleted&&(v.persistenceManager=yield je.create(v,l),!v._deleted)){if(null===(U=v._popupRedirectResolver)||void 0===U?void 0:U._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch($e){}yield v.initializeCurrentUser(h),v.lastNotifiedUid=(null===(J=v.currentUser)||void 0===J?void 0:J.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,u.Z)(function*(){if(l._deleted)return;const h=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||h){if(l.currentUser&&h&&l.currentUser.uid===h.uid)return l._currentUser._assign(h),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(h)}})()}initializeCurrentUser(l){var h=this;return(0,u.Z)(function*(){var v;let U=yield h.assertedPersistence.getCurrentUser();if(l&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const J=null===(v=h.redirectUser)||void 0===v?void 0:v._redirectEventId,$e=null==U?void 0:U._redirectEventId,yt=yield h.tryRedirectSignIn(l);(!J||J===$e)&&(null==yt?void 0:yt.user)&&(U=yt.user)}return U?U._redirectEventId?(xe(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===U._redirectEventId?h.directlySetCurrentUser(U):h.reloadAndSetCurrentUserOrClear(U)):h.reloadAndSetCurrentUserOrClear(U):h.directlySetCurrentUser(null)})()}tryRedirectSignIn(l){var h=this;return(0,u.Z)(function*(){let v=null;try{v=yield h._popupRedirectResolver._completeRedirectFn(h,l,!0)}catch(U){yield h._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(l){var h=this;return(0,u.Z)(function*(){try{yield Jn(l)}catch(v){if("auth/network-request-failed"!==v.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function Bt(){if("undefined"==typeof navigator)return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var l=this;return(0,u.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var h=this;return(0,u.Z)(function*(){const v=l?(0,j.m9)(l):null;return v&&xe(v.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(v&&v._clone(h))})()}_updateCurrentUser(l){var h=this;return(0,u.Z)(function*(){if(!h._deleted)return l&&xe(h.tenantId===l.tenantId,h,"tenant-id-mismatch"),h.queue((0,u.Z)(function*(){yield h.directlySetCurrentUser(l),h.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,u.Z)(function*(){return(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null)})()}setPersistence(l){var h=this;return this.queue((0,u.Z)(function*(){yield h.assertedPersistence.setPersistence(Ze(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new j.LL("auth","Firebase",l())}onAuthStateChanged(l,h,v){return this.registerStateListener(this.authStateSubscription,l,h,v)}onIdTokenChanged(l,h,v){return this.registerStateListener(this.idTokenSubscription,l,h,v)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,h){var v=this;return(0,u.Z)(function*(){const U=yield v.getOrInitRedirectPersistenceManager(h);return null===l?U.removeCurrentUser():U.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var h=this;return(0,u.Z)(function*(){if(!h.redirectPersistenceManager){const v=l&&Ze(l)||h._popupRedirectResolver;xe(v,h,"argument-error"),h.redirectPersistenceManager=yield je.create(h,[Ze(v._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(l){var h=this;return(0,u.Z)(function*(){var v,U;return h._isInitialized&&(yield h.queue((0,u.Z)(function*(){}))),(null===(v=h._currentUser)||void 0===v?void 0:v._redirectEventId)===l?h._currentUser:(null===(U=h.redirectUser)||void 0===U?void 0:U._redirectEventId)===l?h.redirectUser:null})()}_persistUserIfCurrent(l){var h=this;return(0,u.Z)(function*(){if(l===h.currentUser)return h.queue((0,u.Z)(function*(){return h.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(h=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,h,v,U){if(this._deleted)return()=>{};const J="function"==typeof h?h:h.next.bind(h),$e=this._isInitialized?Promise.resolve():this._initializationPromise;return xe($e,this,"internal-error"),$e.then(()=>J(this.currentUser)),"function"==typeof h?l.addObserver(h,v,U):l.addObserver(h)}directlySetCurrentUser(l){var h=this;return(0,u.Z)(function*(){h.currentUser&&h.currentUser!==l&&(h._currentUser._stopProactiveRefresh(),l&&h.isProactiveRefreshEnabled&&l._startProactiveRefresh()),h.currentUser=l,l?yield h.assertedPersistence.setCurrentUser(l):yield h.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=oi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,u.Z)(function*(){var h;const v={"X-Client-Version":l.clientVersion};l.app.options.appId&&(v["X-Firebase-gmpid"]=l.app.options.appId);const U=yield null===(h=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();return U&&(v["X-Firebase-Client"]=U),v})()}}function Pt(f){return(0,j.m9)(f)}class Fn{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,j.ne)(h=>this.observer=h)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yr(f){const l=f.indexOf(":");return l<0?"":f.substr(0,l+1)}function yr(f){if(!f)return null;const l=Number(f);return isNaN(l)?null:l}class Kn{constructor(l,h){this.providerId=l,this.signInMethod=h}toJSON(){return ve("not implemented")}_getIdTokenResponse(l){return ve("not implemented")}_linkToIdToken(l,h){return ve("not implemented")}_getReauthenticationResolver(l){return ve("not implemented")}}function or(f,l){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(f,l){return Et(f,"POST","/v1/accounts:resetPassword",We(f,l))})).apply(this,arguments)}function An(f,l){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,u.Z)(function*(f,l){return Et(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function ri(f,l){return ge.apply(this,arguments)}function ge(){return(ge=(0,u.Z)(function*(f,l){return Et(f,"POST","/v1/accounts:update",We(f,l))})).apply(this,arguments)}function Ge(){return(Ge=(0,u.Z)(function*(f,l){return _n(f,"POST","/v1/accounts:signInWithPassword",We(f,l))})).apply(this,arguments)}function tt(f,l){return kt.apply(this,arguments)}function kt(){return(kt=(0,u.Z)(function*(f,l){return Et(f,"POST","/v1/accounts:sendOobCode",We(f,l))})).apply(this,arguments)}function Vt(f,l){return cn.apply(this,arguments)}function cn(){return(cn=(0,u.Z)(function*(f,l){return tt(f,l)})).apply(this,arguments)}function vr(f,l){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(f,l){return tt(f,l)})).apply(this,arguments)}function Xn(f,l){return jn.apply(this,arguments)}function jn(){return(jn=(0,u.Z)(function*(f,l){return tt(f,l)})).apply(this,arguments)}function qr(f,l){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(f,l){return tt(f,l)})).apply(this,arguments)}function Wr(){return(Wr=(0,u.Z)(function*(f,l){return _n(f,"POST","/v1/accounts:signInWithEmailLink",We(f,l))})).apply(this,arguments)}function os(){return(os=(0,u.Z)(function*(f,l){return _n(f,"POST","/v1/accounts:signInWithEmailLink",We(f,l))})).apply(this,arguments)}class fs extends Kn{constructor(l,h,v,U=null){super("password",v),this._email=l,this._password=h,this._tenantId=U}static _fromEmailAndPassword(l,h){return new fs(l,h,"password")}static _fromEmailAndCode(l,h,v=null){return new fs(l,h,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l;if((null==h?void 0:h.email)&&(null==h?void 0:h.password)){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(l){var h=this;return(0,u.Z)(function*(){switch(h.signInMethod){case"password":return function pt(f,l){return Ge.apply(this,arguments)}(l,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function bi(f,l){return Wr.apply(this,arguments)}(l,{email:h._email,oobCode:h._password});default:ke(l,"internal-error")}})()}_linkToIdToken(l,h){var v=this;return(0,u.Z)(function*(){switch(v.signInMethod){case"password":return An(l,{idToken:h,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Ss(f,l){return os.apply(this,arguments)}(l,{idToken:h,email:v._email,oobCode:v._password});default:ke(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Br(f,l){return hr.apply(this,arguments)}function hr(){return(hr=(0,u.Z)(function*(f,l){return _n(f,"POST","/v1/accounts:signInWithIdp",We(f,l))})).apply(this,arguments)}class me extends Kn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const h=new me(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(h.idToken=l.idToken),l.accessToken&&(h.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(h.nonce=l.nonce),l.pendingToken&&(h.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(h.accessToken=l.oauthToken,h.secret=l.oauthTokenSecret):ke("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l,{providerId:v,signInMethod:U}=h,J=(0,Q._T)(h,["providerId","signInMethod"]);if(!v||!U)return null;const $e=new me(v,U);return $e.idToken=J.idToken||void 0,$e.accessToken=J.accessToken||void 0,$e.secret=J.secret,$e.nonce=J.nonce,$e.pendingToken=J.pendingToken||null,$e}_getIdTokenResponse(l){return Br(l,this.buildRequest())}_linkToIdToken(l,h){const v=this.buildRequest();return v.idToken=h,Br(l,v)}_getReauthenticationResolver(l){const h=this.buildRequest();return h.autoCreate=!1,Br(l,h)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),l.postBody=(0,j.xO)(h)}return l}}function Me(f,l){return Be.apply(this,arguments)}function Be(){return(Be=(0,u.Z)(function*(f,l){return Et(f,"POST","/v1/accounts:sendVerificationCode",We(f,l))})).apply(this,arguments)}function Lt(){return(Lt=(0,u.Z)(function*(f,l){return _n(f,"POST","/v1/accounts:signInWithPhoneNumber",We(f,l))})).apply(this,arguments)}function pr(){return(pr=(0,u.Z)(function*(f,l){const h=yield _n(f,"POST","/v1/accounts:signInWithPhoneNumber",We(f,l));if(h.temporaryProof)throw sr(f,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Zn={USER_NOT_FOUND:"user-not-found"};function Fr(){return(Fr=(0,u.Z)(function*(f,l){return _n(f,"POST","/v1/accounts:signInWithPhoneNumber",We(f,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Zn)})).apply(this,arguments)}class es extends Kn{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,h){return new es({verificationId:l,verificationCode:h})}static _fromTokenResponse(l,h){return new es({phoneNumber:l,temporaryProof:h})}_getIdTokenResponse(l){return function wt(f,l){return Lt.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,h){return function hn(f,l){return pr.apply(this,arguments)}(l,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Qt(f,l){return Fr.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:h,verificationId:v,verificationCode:U}=this.params;return l&&h?{temporaryProof:l,phoneNumber:h}:{sessionInfo:v,code:U}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:h,verificationCode:v,phoneNumber:U,temporaryProof:J}=l;return v||h||U||J?new es({verificationId:h,verificationCode:v,phoneNumber:U,temporaryProof:J}):null}}class mi{constructor(l){var h,v,U,J,$e,yt;const Xt=(0,j.zd)((0,j.pd)(l)),Tn=null!==(h=Xt.apiKey)&&void 0!==h?h:null,Yn=null!==(v=Xt.oobCode)&&void 0!==v?v:null,Un=function Vi(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=Xt.mode)&&void 0!==U?U:null);xe(Tn&&Yn&&Un,"argument-error"),this.apiKey=Tn,this.operation=Un,this.code=Yn,this.continueUrl=null!==(J=Xt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==($e=Xt.languageCode)&&void 0!==$e?$e:null,this.tenantId=null!==(yt=Xt.tenantId)&&void 0!==yt?yt:null}static parseLink(l){const h=function ai(f){const l=(0,j.zd)((0,j.pd)(f)).link,h=l?(0,j.zd)((0,j.pd)(l)).deep_link_id:null,v=(0,j.zd)((0,j.pd)(f)).deep_link_id;return(v?(0,j.zd)((0,j.pd)(v)).link:null)||v||h||l||f}(l);try{return new mi(h)}catch(v){return null}}}let Bi=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(h,v){return fs._fromEmailAndPassword(h,v)}static credentialWithLink(h,v){const U=mi.parseLink(v);return xe(U,"argument-error"),fs._fromEmailAndCode(h,U.code,U.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class ts{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class li extends ts{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class ns extends li{static credentialFromJSON(l){const h="string"==typeof l?JSON.parse(l):l;return xe("providerId"in h&&"signInMethod"in h,"argument-error"),me._fromParams(h)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return xe(l.idToken||l.accessToken,"argument-error"),me._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return ns.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return ns.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:h,oauthAccessToken:v,oauthTokenSecret:U,pendingToken:J,nonce:$e,providerId:yt}=l;if(!v&&!U&&!h&&!J||!yt)return null;try{return new ns(yt)._credential({idToken:h,accessToken:v,nonce:$e,pendingToken:J})}catch(Xt){return null}}}let xi=(()=>{class f extends li{constructor(){super("facebook.com")}static credential(h){return me._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return f.credentialFromTaggedObject(h)}static credentialFromError(h){return f.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return f.credential(h.oauthAccessToken)}catch(v){return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),as=(()=>{class f extends li{constructor(){super("google.com"),this.addScope("profile")}static credential(h,v){return me._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:v})}static credentialFromResult(h){return f.credentialFromTaggedObject(h)}static credentialFromError(h){return f.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:v,oauthAccessToken:U}=h;if(!v&&!U)return null;try{return f.credential(v,U)}catch(J){return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),ls=(()=>{class f extends li{constructor(){super("github.com")}static credential(h){return me._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return f.credentialFromTaggedObject(h)}static credentialFromError(h){return f.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return f.credential(h.oauthAccessToken)}catch(v){return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class ji extends Kn{constructor(l,h){super(l,l),this.pendingToken=h}_getIdTokenResponse(l){return Br(l,this.buildRequest())}_linkToIdToken(l,h){const v=this.buildRequest();return v.idToken=h,Br(l,v)}_getReauthenticationResolver(l){const h=this.buildRequest();return h.autoCreate=!1,Br(l,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l,{providerId:v,signInMethod:U,pendingToken:J}=h;return v&&U&&J&&v===U?new ji(v,J):null}static _create(l,h){return new ji(l,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mi extends ts{constructor(l){xe(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Mi.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Mi.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const h=ji.fromJSON(l);return xe(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:h,providerId:v}=l;if(!h||!v)return null;try{return ji._create(v,h)}catch(U){return null}}}let Fi=(()=>{class f extends li{constructor(){super("twitter.com")}static credential(h,v){return me._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:v})}static credentialFromResult(h){return f.credentialFromTaggedObject(h)}static credentialFromError(h){return f.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:v,oauthTokenSecret:U}=h;if(!v||!U)return null;try{return f.credential(v,U)}catch(J){return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Hi(f,l){return bn.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(f,l){return _n(f,"POST","/v1/accounts:signUp",We(f,l))})).apply(this,arguments)}class ui{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,h,v,U=!1){return(0,u.Z)(function*(){const J=yield _e._fromIdTokenResponse(l,v,U),$e=ps(v);return new ui({user:J,providerId:$e,_tokenResponse:v,operationType:h})})()}static _forOperation(l,h,v){return(0,u.Z)(function*(){yield l._updateTokensIfNecessary(v,!0);const U=ps(v);return new ui({user:l,providerId:U,_tokenResponse:v,operationType:h})})()}}function ps(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function wi(){return(wi=(0,u.Z)(function*(f){var l;const h=Pt(f);if(yield h._initializationPromise,null===(l=h.currentUser)||void 0===l?void 0:l.isAnonymous)return new ui({user:h.currentUser,providerId:null,operationType:"signIn"});const v=yield Hi(h,{returnSecureToken:!0}),U=yield ui._fromIdTokenResponse(h,"signIn",v,!0);return yield h._updateCurrentUser(U.user),U})).apply(this,arguments)}class Di extends j.ZR{constructor(l,h,v,U){var J;super(h.code,h.message),this.operationType=v,this.user=U,Object.setPrototypeOf(this,Di.prototype),this.customData={appName:l.name,tenantId:null!==(J=l.tenantId)&&void 0!==J?J:void 0,_serverResponse:h.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(l,h,v,U){return new Di(l,h,v,U)}}function Qr(f,l,h,v){return("reauthenticate"===l?h._getReauthenticationResolver(f):h._getIdTokenResponse(f)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?Di._fromErrorAndOperation(f,J,l,v):J})}function Li(f){return new Set(f.map(({providerId:l})=>l).filter(l=>!!l))}function Ms(){return(Ms=(0,u.Z)(function*(f,l){const h=(0,j.m9)(f);yield z(!0,h,l);const{providerUserInfo:v}=yield Rn(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[l]}),U=Li(v||[]);return h.providerData=h.providerData.filter(J=>U.has(J.providerId)),U.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function br(f,l){return R.apply(this,arguments)}function R(){return(R=(0,u.Z)(function*(f,l,h=!1){const v=yield xn(f,l._linkToIdToken(f.auth,yield f.getIdToken()),h);return ui._forOperation(f,"link",v)})).apply(this,arguments)}function z(f,l,h){return O.apply(this,arguments)}function O(){return(O=(0,u.Z)(function*(f,l,h){yield Jn(l);const U=!1===f?"provider-already-linked":"no-such-provider";xe(Li(l.providerData).has(h)===f,l.auth,U)})).apply(this,arguments)}function q(f,l){return Te.apply(this,arguments)}function Te(){return(Te=(0,u.Z)(function*(f,l,h=!1){const{auth:v}=f,U="reauthenticate";try{const J=yield xn(f,Qr(v,U,l,f),h);xe(J.idToken,v,"internal-error");const $e=bt(J.idToken);xe($e,v,"internal-error");const{sub:yt}=$e;return xe(f.uid===yt,v,"user-mismatch"),ui._forOperation(f,U,J)}catch(J){throw"auth/user-not-found"===(null==J?void 0:J.code)&&ke(v,"user-mismatch"),J}})).apply(this,arguments)}function ot(f,l){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(f,l,h=!1){const v="signIn",U=yield Qr(f,v,l),J=yield ui._fromIdTokenResponse(f,v,U);return h||(yield f._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Gt(f,l){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,u.Z)(function*(f,l){return ot(Pt(f),l)})).apply(this,arguments)}function gr(f,l){return er.apply(this,arguments)}function er(){return(er=(0,u.Z)(function*(f,l){const h=(0,j.m9)(f);return yield z(!1,h,l.providerId),br(h,l)})).apply(this,arguments)}function pn(f,l){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,u.Z)(function*(f,l){return q((0,j.m9)(f),l)})).apply(this,arguments)}function N(f,l){return S.apply(this,arguments)}function S(){return(S=(0,u.Z)(function*(f,l){return _n(f,"POST","/v1/accounts:signInWithCustomToken",We(f,l))})).apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(f,l){const h=Pt(f),v=yield N(h,{token:l,returnSecureToken:!0}),U=yield ui._fromIdTokenResponse(h,"signIn",v);return yield h._updateCurrentUser(U.user),U})).apply(this,arguments)}class Le{constructor(l,h){this.factorId=l,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(l,h){return"phoneInfo"in h?Jt._fromServerResponse(l,h):ke(l,"internal-error")}}class Jt extends Le{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,h){return new Jt(h)}}function nn(f,l,h){var v;xe((null===(v=h.url)||void 0===v?void 0:v.length)>0,f,"invalid-continue-uri"),xe(void 0===h.dynamicLinkDomain||h.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),l.continueUrl=h.url,l.dynamicLinkDomain=h.dynamicLinkDomain,l.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(xe(h.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),l.iOSBundleId=h.iOS.bundleId),h.android&&(xe(h.android.packageName.length>0,f,"missing-android-pkg-name"),l.androidInstallApp=h.android.installApp,l.androidMinimumVersionCode=h.android.minimumVersion,l.androidPackageName=h.android.packageName)}function _i(){return(_i=(0,u.Z)(function*(f,l,h){const v=(0,j.m9)(f),U={requestType:"PASSWORD_RESET",email:l};h&&nn(v,U,h),yield vr(v,U)})).apply(this,arguments)}function Xr(){return(Xr=(0,u.Z)(function*(f,l,h){yield or((0,j.m9)(f),{oobCode:l,newPassword:h})})).apply(this,arguments)}function Ot(){return(Ot=(0,u.Z)(function*(f,l){yield ri((0,j.m9)(f),{oobCode:l})})).apply(this,arguments)}function lr(f,l){return Os.apply(this,arguments)}function Os(){return(Os=(0,u.Z)(function*(f,l){const h=(0,j.m9)(f),v=yield or(h,{oobCode:l}),U=v.requestType;switch(xe(U,h,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(v.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(v.mfaInfo,h,"internal-error");default:xe(v.email,h,"internal-error")}let J=null;return v.mfaInfo&&(J=Le._fromServerResponse(Pt(h),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:J},operation:U}})).apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(f,l){const{data:h}=yield lr((0,j.m9)(f),l);return h.email})).apply(this,arguments)}function us(){return(us=(0,u.Z)(function*(f,l,h){const v=Pt(f),U=yield Hi(v,{returnSecureToken:!0,email:l,password:h}),J=yield ui._fromIdTokenResponse(v,"signIn",U);return yield v._updateCurrentUser(J.user),J})).apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(f,l,h){const v=(0,j.m9)(f),U={requestType:"EMAIL_SIGNIN",email:l};xe(h.handleCodeInApp,v,"argument-error"),h&&nn(v,U,h),yield Xn(v,U)})).apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(f,l,h){const v=(0,j.m9)(f),U=Bi.credentialWithLink(l,h||$t());return xe(U._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Gt(v,U)})).apply(this,arguments)}function $i(f,l){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,u.Z)(function*(f,l){return Et(f,"POST","/v1/accounts:createAuthUri",We(f,l))})).apply(this,arguments)}function H(){return(H=(0,u.Z)(function*(f,l){const v={identifier:l,continueUri:Mn()?$t():"http://localhost"},{signinMethods:U}=yield $i((0,j.m9)(f),v);return U||[]})).apply(this,arguments)}function _(){return(_=(0,u.Z)(function*(f,l){const h=(0,j.m9)(f),U={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};l&&nn(h.auth,U,l);const{email:J}=yield Vt(h.auth,U);J!==f.email&&(yield f.reload())})).apply(this,arguments)}function $(){return($=(0,u.Z)(function*(f,l,h){const v=(0,j.m9)(f),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:l};h&&nn(v.auth,J,h);const{email:$e}=yield qr(v.auth,J);$e!==f.email&&(yield f.reload())})).apply(this,arguments)}function ne(f,l){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,u.Z)(function*(f,l){return Et(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Je(){return(Je=(0,u.Z)(function*(f,{displayName:l,photoURL:h}){if(void 0===l&&void 0===h)return;const v=(0,j.m9)(f),J={idToken:yield v.getIdToken(),displayName:l,photoUrl:h,returnSecureToken:!0},$e=yield xn(v,ne(v.auth,J));v.displayName=$e.displayName||null,v.photoURL=$e.photoUrl||null;const yt=v.providerData.find(({providerId:Xt})=>"password"===Xt);yt&&(yt.displayName=v.displayName,yt.photoURL=v.photoURL),yield v._updateTokensIfNecessary($e)})).apply(this,arguments)}function gn(f,l,h){return On.apply(this,arguments)}function On(){return(On=(0,u.Z)(function*(f,l,h){const{auth:v}=f,J={idToken:yield f.getIdToken(),returnSecureToken:!0};l&&(J.email=l),h&&(J.password=h);const $e=yield xn(f,An(v,J));yield f._updateTokensIfNecessary($e,!0)})).apply(this,arguments)}class Cn{constructor(l,h,v={}){this.isNewUser=l,this.providerId=h,this.profile=v}}class Ln extends Cn{constructor(l,h,v,U){super(l,h,v),this.username=U}}class Tr extends Cn{constructor(l,h){super(l,"facebook.com",h)}}class Gr extends Ln{constructor(l,h){super(l,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class Ai extends Cn{constructor(l,h){super(l,"google.com",h)}}class Oi extends Ln{constructor(l,h,v){super(l,"twitter.com",h,v)}}function wr(f){const{user:l,_tokenResponse:h}=f;return l.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function fr(f){var l,h;if(!f)return null;const{providerId:v}=f,U=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},J=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!v&&(null==f?void 0:f.idToken)){const $e=null===(h=null===(l=bt(f.idToken))||void 0===l?void 0:l.firebase)||void 0===h?void 0:h.sign_in_provider;if($e)return new Cn(J,"anonymous"!==$e&&"custom"!==$e?$e:null)}if(!v)return null;switch(v){case"facebook.com":return new Tr(J,U);case"github.com":return new Gr(J,U);case"google.com":return new Ai(J,U);case"twitter.com":return new Oi(J,U,f.screenName||null);case"custom":case"anonymous":return new Cn(J,null);default:return new Cn(J,v,U)}}(h)}class ei{constructor(l,h){this.type=l,this.credential=h}static _fromIdtoken(l){return new ei("enroll",l)}static _fromMfaPendingCredential(l){return new ei("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var h,v;if(null==l?void 0:l.multiFactorSession){if(null===(h=l.multiFactorSession)||void 0===h?void 0:h.pendingCredential)return ei._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null===(v=l.multiFactorSession)||void 0===v?void 0:v.idToken)return ei._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Ki{constructor(l,h,v){this.session=l,this.hints=h,this.signInResolver=v}static _fromError(l,h){const v=Pt(l),U=h.customData._serverResponse,J=(U.mfaInfo||[]).map(yt=>Le._fromServerResponse(v,yt));xe(U.mfaPendingCredential,v,"internal-error");const $e=ei._fromMfaPendingCredential(U.mfaPendingCredential);return new Ki($e,J,function(){var yt=(0,u.Z)(function*(Xt){const Tn=yield Xt._process(v,$e);delete U.mfaInfo,delete U.mfaPendingCredential;const Yn=Object.assign(Object.assign({},U),{idToken:Tn.idToken,refreshToken:Tn.refreshToken});switch(h.operationType){case"signIn":const Un=yield ui._fromIdTokenResponse(v,h.operationType,Yn);return yield v._updateCurrentUser(Un.user),Un;case"reauthenticate":return xe(h.user,v,"internal-error"),ui._forOperation(h.user,h.operationType,Yn);default:ke(v,"internal-error")}});return function(Xt){return yt.apply(this,arguments)}}())}resolveSignIn(l){var h=this;return(0,u.Z)(function*(){return h.signInResolver(l)})()}}function zt(f,l){return Et(f,"POST","/v2/accounts/mfaEnrollment:start",We(f,l))}class Wn{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(v=>Le._fromServerResponse(l.auth,v)))})}static _fromUser(l){return new Wn(l)}getSession(){var l=this;return(0,u.Z)(function*(){return ei._fromIdtoken(yield l.user.getIdToken())})()}enroll(l,h){var v=this;return(0,u.Z)(function*(){const U=l,J=yield v.getSession(),$e=yield xn(v.user,U._process(v.user.auth,J,h));return yield v.user._updateTokensIfNecessary($e),v.user.reload()})()}unenroll(l){var h=this;return(0,u.Z)(function*(){const v="string"==typeof l?l:l.uid,U=yield h.user.getIdToken(),J=yield xn(h.user,function Vn(f,l){return Et(f,"POST","/v2/accounts/mfaEnrollment:withdraw",We(f,l))}(h.user.auth,{idToken:U,mfaEnrollmentId:v}));h.enrolledFactors=h.enrolledFactors.filter(({uid:$e})=>$e!==v),yield h.user._updateTokensIfNecessary(J);try{yield h.user.reload()}catch($e){if("auth/user-token-expired"!==$e.code)throw $e}})()}}const zr=new WeakMap,ti="__sak";class yi{constructor(l,h){this.storageRetriever=l,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(ti,"1"),this.storage.removeItem(ti),Promise.resolve(!0)):Promise.resolve(!1)}catch(l){return Promise.resolve(!1)}}_set(l,h){return this.storage.setItem(l,JSON.stringify(h)),Promise.resolve()}_get(l){const h=this.storage.getItem(l);return Promise.resolve(h?JSON.parse(h):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const pi=(()=>{class f extends yi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,v)=>this.onStorageEvent(h,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Kr(){const f=(0,j.z$)();return ye(f)||Gn(f)}()&&function Or(){try{return!(!window||window===window.top)}catch(f){return!1}}(),this.fallbackToPolling=si(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const v of Object.keys(this.listeners)){const U=this.storage.getItem(v),J=this.localCache[v];U!==J&&h(v,J,U)}}onStorageEvent(h,v=!1){if(!h.key)return void this.forAllChangedKeys((yt,Xt,Tn)=>{this.notifyListeners(yt,Tn)});const U=h.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const yt=this.storage.getItem(U);if(h.newValue!==yt)null!==h.newValue?this.storage.setItem(U,h.newValue):this.storage.removeItem(U);else if(this.localCache[U]===h.newValue&&!v)return}const J=()=>{const yt=this.storage.getItem(U);!v&&this.localCache[U]===yt||this.notifyListeners(U,yt)},$e=this.storage.getItem(U);!function Vr(){return(0,j.w1)()&&10===document.documentMode}()||$e===h.newValue||h.newValue===h.oldValue?J():setTimeout(J,10)}notifyListeners(h,v){this.localCache[h]=v;const U=this.listeners[h];if(U)for(const J of Array.from(U))J(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,v,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:v,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,v){var U=()=>super._set,J=this;return(0,u.Z)(function*(){yield U().call(J,h,v),J.localCache[h]=JSON.stringify(v)})()}_get(h){var v=()=>super._get,U=this;return(0,u.Z)(function*(){const J=yield v().call(U,h);return U.localCache[h]=JSON.stringify(J),J})()}_remove(h){var v=()=>super._remove,U=this;return(0,u.Z)(function*(){yield v().call(U,h),delete U.localCache[h]})()}}return f.type="LOCAL",f})(),Zr=(()=>{class f extends yi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,v){}_removeListener(h,v){}}return f.type="SESSION",f})();let ao=(()=>{class f{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const v=this.receivers.find(J=>J.isListeningto(h));if(v)return v;const U=new f(h);return this.receivers.push(U),U}isListeningto(h){return this.eventTarget===h}handleEvent(h){var v=this;return(0,u.Z)(function*(){const U=h,{eventId:J,eventType:$e,data:yt}=U.data,Xt=v.handlersMap[$e];if(!(null==Xt?void 0:Xt.size))return;U.ports[0].postMessage({status:"ack",eventId:J,eventType:$e});const Tn=Array.from(Xt).map(function(){var Un=(0,u.Z)(function*(Ni){return Ni(U.origin,yt)});return function(Ni){return Un.apply(this,arguments)}}()),Yn=yield function Ns(f){return Promise.all(f.map(function(){var l=(0,u.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(v){return{fulfilled:!1,reason:v}}});return function(h){return l.apply(this,arguments)}}()))}(Tn);U.ports[0].postMessage({status:"done",eventId:J,eventType:$e,response:Yn})})()}_subscribe(h,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(v)}_unsubscribe(h,v){this.handlersMap[h]&&v&&this.handlersMap[h].delete(v),(!v||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function lo(f="",l=10){let h="";for(let v=0;v<l;v++)h+=Math.floor(10*Math.random());return f+h}class _o{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,h,v=50){var U=this;return(0,u.Z)(function*(){const J="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let $e,yt;return new Promise((Xt,Tn)=>{const Yn=lo("",20);J.port1.start();const Un=setTimeout(()=>{Tn(new Error("unsupported_event"))},v);yt={messageChannel:J,onMessage(Ni){const to=Ni;if(to.data.eventId===Yn)switch(to.data.status){case"ack":clearTimeout(Un),$e=setTimeout(()=>{Tn(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),Xt(to.data.response);break;default:clearTimeout(Un),clearTimeout($e),Tn(new Error("invalid_response"))}}},U.handlers.add(yt),J.port1.addEventListener("message",yt.onMessage),U.target.postMessage({eventType:l,eventId:Yn,data:h},[J.port2])}).finally(()=>{yt&&U.removeMessageHandler(yt)})})()}}function xr(){return window}function Ui(){return void 0!==xr().WorkerGlobalScope&&"function"==typeof xr().importScripts}function Ts(){return(Ts=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(f){return null}})).apply(this,arguments)}const y="firebaseLocalStorageDb",L="firebaseLocalStorage",Z="fbase_key";class he{constructor(l){this.request=l}toPromise(){return new Promise((l,h)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Ae(f,l){return f.transaction([L],l?"readwrite":"readonly").objectStore(L)}function dn(){const f=indexedDB.open(y,1);return new Promise((l,h)=>{f.addEventListener("error",()=>{h(f.error)}),f.addEventListener("upgradeneeded",()=>{const v=f.result;try{v.createObjectStore(L,{keyPath:Z})}catch(U){h(U)}}),f.addEventListener("success",(0,u.Z)(function*(){const v=f.result;v.objectStoreNames.contains(L)?l(v):(v.close(),yield function _t(){const f=indexedDB.deleteDatabase(y);return new he(f).toPromise()}(),l(yield dn()))}))})}function mr(f,l,h){return vn.apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(f,l,h){const v=Ae(f,!0).put({[Z]:l,value:h});return new he(v).toPromise()})).apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(f,l){const h=Ae(f,!1).get(l),v=yield new he(h).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Zi(f,l){const h=Ae(f,!0).delete(l);return new he(h).toPromise()}const Yi=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,u.Z)(function*(){return h.db||(h.db=yield dn()),h.db})()}_withRetries(h){var v=this;return(0,u.Z)(function*(){let U=0;for(;;)try{const J=yield v._openDb();return yield h(J)}catch(J){if(U++>3)throw J;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,u.Z)(function*(){return Ui()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,u.Z)(function*(){h.receiver=ao._getInstance(function E(){return Ui()?self:null}()),h.receiver._subscribe("keyChanged",function(){var v=(0,u.Z)(function*(U,J){return{keyProcessed:(yield h._poll()).includes(J.key)}});return function(U,J){return v.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var v=(0,u.Z)(function*(U,J){return["keyChanged"]});return function(U,J){return v.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,u.Z)(function*(){var v,U;if(h.activeServiceWorker=yield function yo(){return Ts.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new _o(h.activeServiceWorker);const J=yield h.sender._send("ping",{},800);!J||(null===(v=J[0])||void 0===v?void 0:v.fulfilled)&&(null===(U=J[0])||void 0===U?void 0:U.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var v=this;return(0,u.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function I(){var f;return(null===(f=null==navigator?void 0:navigator.serviceWorker)||void 0===f?void 0:f.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:h},v.serviceWorkerReceiverAvailable?800:50)}catch(U){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const h=yield dn();return yield mr(h,ti,"1"),yield Zi(h,ti),!0}catch(h){}return!1})()}_withPendingWrite(h){var v=this;return(0,u.Z)(function*(){v.pendingWrites++;try{yield h()}finally{v.pendingWrites--}})()}_set(h,v){var U=this;return(0,u.Z)(function*(){return U._withPendingWrite((0,u.Z)(function*(){return yield U._withRetries(J=>mr(J,h,v)),U.localCache[h]=v,U.notifyServiceWorker(h)}))})()}_get(h){var v=this;return(0,u.Z)(function*(){const U=yield v._withRetries(J=>function Ur(f,l){return Ar.apply(this,arguments)}(J,h));return v.localCache[h]=U,U})()}_remove(h){var v=this;return(0,u.Z)(function*(){return v._withPendingWrite((0,u.Z)(function*(){return yield v._withRetries(U=>Zi(U,h)),delete v.localCache[h],v.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,u.Z)(function*(){const v=yield h._withRetries($e=>{const yt=Ae($e,!1).getAll();return new he(yt).toPromise()});if(!v)return[];if(0!==h.pendingWrites)return[];const U=[],J=new Set;for(const{fbase_key:$e,value:yt}of v)J.add($e),JSON.stringify(h.localCache[$e])!==JSON.stringify(yt)&&(h.notifyListeners($e,yt),U.push($e));for(const $e of Object.keys(h.localCache))h.localCache[$e]&&!J.has($e)&&(h.notifyListeners($e,null),U.push($e));return U})()}notifyListeners(h,v){this.localCache[h]=v;const U=this.listeners[h];if(U)for(const J of Array.from(U))J(v)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})();function Ta(f,l){return Et(f,"POST","/v2/accounts/mfaSignIn:start",We(f,l))}function Us(){return(Us=(0,u.Z)(function*(f){return(yield Et(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ao(f){return new Promise((l,h)=>{const v=document.createElement("script");v.setAttribute("src",f),v.onload=l,v.onerror=U=>{const J=F("internal-error");J.customData=U,h(J)},v.type="text/javascript",v.charset="UTF-8",function ja(){var f,l;return null!==(l=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==l?l:document}().appendChild(v)})}function Ia(f){return`__${f}${Math.floor(1e6*Math.random())}`}const xs=1e12;class Vl{constructor(l){this.auth=l,this.counter=xs,this._widgets=new Map}render(l,h){const v=this.counter;return this._widgets.set(v,new Ha(l,this.auth.name,h||{})),this.counter++,v}reset(l){var h;const v=l||xs;null===(h=this._widgets.get(v))||void 0===h||h.delete(),this._widgets.delete(v)}getResponse(l){var h;return(null===(h=this._widgets.get(l||xs))||void 0===h?void 0:h.getResponse())||""}execute(l){var h=this;return(0,u.Z)(function*(){var v;return null===(v=h._widgets.get(l||xs))||void 0===v||v.execute(),""})()}}class Ha{constructor(l,h,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof l?document.getElementById(l):l;xe(U,"argument-error",{appName:h}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $o(f){const l=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<f;v++)l.push(h.charAt(Math.floor(Math.random()*h.length)));return l.join("")}(50);const{callback:l,"expired-callback":h}=this.params;if(l)try{l(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ba=Ia("rcb"),Bl=new Pn(3e4,6e4);class pl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!xr().grecaptcha}load(l,h=""){return xe(function _u(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(h),l,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(xr().grecaptcha):new Promise((v,U)=>{const J=xr().setTimeout(()=>{U(F(l,"network-request-failed"))},Bl.get());xr()[ba]=()=>{xr().clearTimeout(J),delete xr()[ba];const yt=xr().grecaptcha;if(!yt)return void U(F(l,"internal-error"));const Xt=yt.render;yt.render=(Tn,Yn)=>{const Un=Xt(Tn,Yn);return this.counter++,Un},this.hostLanguage=h,v(yt)},Ao(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:ba,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(J),U(F(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){return!!xr().grecaptcha&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yu{load(l){return(0,u.Z)(function*(){return new Vl(l)})()}clearedOneInstance(){}}const $a="recaptcha",Wa={theme:"light",type:"image"};class vu{constructor(l,h=Object.assign({},Wa),v){this.parameters=h,this.type=$a,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pt(v),this.isInvisible="invisible"===this.parameters.size,xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof l?document.getElementById(l):l;xe(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yu:new pl,this.validateStartingState()}verify(){var l=this;return(0,u.Z)(function*(){l.assertNotDestroyed();const h=yield l.render(),v=l.getAssertedRecaptcha();return v.getResponse(h)||new Promise(J=>{const $e=yt=>{!yt||(l.tokenChangeListeners.delete($e),J(yt))};l.tokenChangeListeners.add($e),l.isInvisible&&v.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return h=>{if(this.tokenChangeListeners.forEach(v=>v(h)),"function"==typeof l)l(h);else if("string"==typeof l){const v=xr()[l];"function"==typeof v&&v(h)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,u.Z)(function*(){if(yield l.init(),!l.widgetId){let h=l.container;if(!l.isInvisible){const v=document.createElement("div");h.appendChild(v),h=v}l.widgetId=l.getAssertedRecaptcha().render(h,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,u.Z)(function*(){xe(Mn()&&!Ui(),l.auth,"internal-error"),yield function Eu(){let f=null;return new Promise(l=>{"complete"!==document.readyState?(f=()=>l(),window.addEventListener("load",f)):l()}).catch(l=>{throw f&&window.removeEventListener("load",f),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const h=yield function fl(f){return Us.apply(this,arguments)}(l.auth);xe(h,l.auth,"internal-error"),l.parameters.sitekey=h})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Mo{constructor(l,h){this.verificationId=l,this.onConfirmation=h}confirm(l){const h=es._fromVerification(this.verificationId,l);return this.onConfirmation(h)}}function Pi(){return(Pi=(0,u.Z)(function*(f,l,h){const v=Pt(f),U=yield qi(v,l,(0,j.m9)(h));return new Mo(U,J=>Gt(v,J))})).apply(this,arguments)}function Oo(){return(Oo=(0,u.Z)(function*(f,l,h){const v=(0,j.m9)(f);yield z(!1,v,"phone");const U=yield qi(v.auth,l,(0,j.m9)(h));return new Mo(U,J=>gr(v,J))})).apply(this,arguments)}function Xo(){return(Xo=(0,u.Z)(function*(f,l,h){const v=(0,j.m9)(f),U=yield qi(v.auth,l,(0,j.m9)(h));return new Mo(U,J=>pn(v,J))})).apply(this,arguments)}function qi(f,l,h){return _s.apply(this,arguments)}function _s(){return(_s=(0,u.Z)(function*(f,l,h){var v;const U=yield h.verify();try{let J;if(xe("string"==typeof U,f,"argument-error"),xe(h.type===$a,f,"argument-error"),J="string"==typeof l?{phoneNumber:l}:l,"session"in J){const $e=J.session;if("phoneNumber"in J)return xe("enroll"===$e.type,f,"internal-error"),(yield zt(f,{idToken:$e.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{xe("signin"===$e.type,f,"internal-error");const yt=(null===(v=J.multiFactorHint)||void 0===v?void 0:v.uid)||J.multiFactorUid;return xe(yt,f,"missing-multi-factor-info"),(yield Ta(f,{mfaPendingCredential:$e.credential,mfaEnrollmentId:yt,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$e}=yield Me(f,{phoneNumber:J.phoneNumber,recaptchaToken:U});return $e}}finally{h._reset()}})).apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(f,l){yield br((0,j.m9)(f),l)})).apply(this,arguments)}let Is=(()=>{class f{constructor(h){this.providerId=f.PROVIDER_ID,this.auth=Pt(h)}verifyPhoneNumber(h,v){return qi(this.auth,h,(0,j.m9)(v))}static credential(h,v){return es._fromVerification(h,v)}static credentialFromResult(h){return f.credentialFromTaggedObject(h)}static credentialFromError(h){return f.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:v,temporaryProof:U}=h;return v&&U?es._fromTokenResponse(v,U):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Eo(f,l){return l?Ze(l):(xe(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class gl extends Kn{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Br(l,this._buildIdpRequest())}_linkToIdToken(l,h){return Br(l,this._buildIdpRequest(h))}_getReauthenticationResolver(l){return Br(l,this._buildIdpRequest())}_buildIdpRequest(l){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(h.idToken=l),h}}function Du(f){return ot(f.auth,new gl(f),f.bypassAuthState)}function Tu(f){const{auth:l,user:h}=f;return xe(h,l,"internal-error"),q(h,new gl(f),f.bypassAuthState)}function ml(f){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(f){const{auth:l,user:h}=f;return xe(h,l,"internal-error"),br(h,new gl(f),f.bypassAuthState)})).apply(this,arguments)}class ys{constructor(l,h,v,U,J=!1){this.auth=l,this.resolver=v,this.user=U,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var l=this;return new Promise(function(){var h=(0,u.Z)(function*(v,U){l.pendingPromise={resolve:v,reject:U};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(J){l.reject(J)}});return function(v,U){return h.apply(this,arguments)}}())}onAuthEvent(l){var h=this;return(0,u.Z)(function*(){const{urlResponse:v,sessionId:U,postBody:J,tenantId:$e,error:yt,type:Xt}=l;if(yt)return void h.reject(yt);const Tn={auth:h.auth,requestUri:v,sessionId:U,tenantId:$e||void 0,postBody:J||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Xt)(Tn))}catch(Yn){h.reject(Yn)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Du;case"linkViaPopup":case"linkViaRedirect":return ml;case"reauthViaPopup":case"reauthViaRedirect":return Tu;default:ke(this.auth,"internal-error")}}resolve(l){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ka=new Pn(2e3,1e4);function vs(){return(vs=(0,u.Z)(function*(f,l,h){const v=Pt(f);ct(f,l,ts);const U=Eo(v,h);return new No(v,"signInViaPopup",l,U).executeNotNull()})).apply(this,arguments)}function Ys(){return(Ys=(0,u.Z)(function*(f,l,h){const v=(0,j.m9)(f);ct(v.auth,l,ts);const U=Eo(v.auth,h);return new No(v.auth,"reauthViaPopup",l,U,v).executeNotNull()})).apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(f,l,h){const v=(0,j.m9)(f);ct(v.auth,l,ts);const U=Eo(v.auth,h);return new No(v.auth,"linkViaPopup",l,U,v).executeNotNull()})).apply(this,arguments)}let No=(()=>{class f extends ys{constructor(h,v,U,J,$e){super(h,v,J,$e),this.provider=U,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var h=this;return(0,u.Z)(function*(){const v=yield h.execute();return xe(v,h.auth,"internal-error"),v})()}onExecution(){var h=this;return(0,u.Z)(function*(){ze(1===h.filter.length,"Popup operations only handle one event");const v=lo();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],v),h.authWindow.associatedEvent=v,h.resolver._originValidation(h.auth).catch(U=>{h.reject(U)}),h.resolver._isIframeWebStorageSupported(h.auth,U=>{U||h.reject(F(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(F(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const h=()=>{var v,U;this.pollId=(null===(U=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===U?void 0:U.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(F(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,Ka.get())};h()}}return f.currentPopupAction=null,f})();const ta=new Map;class _l extends ys{constructor(l,h,v=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,v),this.eventId=null}execute(){var l=()=>super.execute,h=this;return(0,u.Z)(function*(){let v=ta.get(h.auth._key());if(!v){try{const J=(yield function A(f,l){return k.apply(this,arguments)}(h.resolver,h.auth))?yield l().call(h):null;v=()=>Promise.resolve(J)}catch(U){v=()=>Promise.reject(U)}ta.set(h.auth._key(),v)}return h.bypassAuthState||ta.set(h.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(l){var h=()=>super.onAuthEvent,v=this;return(0,u.Z)(function*(){if("signInViaRedirect"===l.type)return h().call(v,l);if("unknown"!==l.type){if(l.eventId){const U=yield v.auth._redirectUserForId(l.eventId);if(U)return v.user=U,h().call(v,l);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function k(){return(k=(0,u.Z)(function*(f,l){const h=jt(l),v=lt(f);if(!(yield v._isAvailable()))return!1;const U="true"===(yield v._get(h));return yield v._remove(h),U})).apply(this,arguments)}function K(f,l){return pe.apply(this,arguments)}function pe(){return(pe=(0,u.Z)(function*(f,l){return lt(f)._set(jt(l),"true")})).apply(this,arguments)}function lt(f){return Ze(f._redirectPersistence)}function jt(f){return rt("pendingRedirect",f.config.apiKey,f.name)}function nr(){return(nr=(0,u.Z)(function*(f,l,h){const v=Pt(f);ct(f,l,ts);const U=Eo(v,h);return yield K(U,v),U._openRedirect(v,l,"signInViaRedirect")})).apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(f,l,h){const v=(0,j.m9)(f);ct(v.auth,l,ts);const U=Eo(v.auth,h);yield K(U,v.auth);const J=yield yl(v);return U._openRedirect(v.auth,l,"reauthViaRedirect",J)})).apply(this,arguments)}function xo(){return(xo=(0,u.Z)(function*(f,l,h){const v=(0,j.m9)(f);ct(v.auth,l,ts);const U=Eo(v.auth,h);yield z(!1,v,l.providerId),yield K(U,v.auth);const J=yield yl(v);return U._openRedirect(v.auth,l,"linkViaRedirect",J)})).apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(f,l){return yield Pt(f)._initializationPromise,Vs(f,l,!1)})).apply(this,arguments)}function Vs(f,l){return ko.apply(this,arguments)}function ko(){return(ko=(0,u.Z)(function*(f,l,h=!1){const v=Pt(f),U=Eo(v,l),$e=yield new _l(v,U,h).execute();return $e&&!h&&(delete $e.user._redirectEventId,yield v._persistUserIfCurrent($e.user),yield v._setRedirectUser(null,l)),$e})).apply(this,arguments)}function yl(f){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(f){const l=lo(`${f.uid}:::`);return f._redirectEventId=l,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),l})).apply(this,arguments)}class Hl{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let h=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(l,v)&&(h=!0,this.sendToConsumer(l,v),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function bu(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Iu(f);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=l,h=!0)),h}sendToConsumer(l,h){var v;if(l.error&&!Iu(l)){const U=(null===(v=l.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";h.onError(F(this.auth,U))}else h.onAuthEvent(l)}isEventForConsumer(l,h){const v=null===h.eventId||!!l.eventId&&l.eventId===h.eventId;return h.filter.includes(l.type)&&v}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Do(l))}saveEventToCache(l){this.cachedEventUids.add(Do(l)),this.lastProcessedEventTime=Date.now()}}function Do(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(l=>l).join("-")}function Iu({type:f,error:l}){return"unknown"===f&&"auth/no-auth-event"===(null==l?void 0:l.code)}function vl(f){return Go.apply(this,arguments)}function Go(){return(Go=(0,u.Z)(function*(f,l={}){return Et(f,"GET","/v1/projects",l)})).apply(this,arguments)}const El=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dc=/^https?/;function zo(){return(zo=(0,u.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:l}=yield vl(f);for(const h of l)try{if(Ya(h))return}catch(v){}ke(f,"unauthorized-domain")})).apply(this,arguments)}function Ya(f){const l=$t(),{protocol:h,hostname:v}=new URL(l);if(f.startsWith("chrome-extension://")){const $e=new URL(f);return""===$e.hostname&&""===v?"chrome-extension:"===h&&f.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===h&&$e.hostname===v}if(!dc.test(h))return!1;if(El.test(f))return v===f;const U=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(v)}const Au=new Pn(3e4,6e4);function $l(){const f=xr().___jsl;if(null==f?void 0:f.H)for(const l of Object.keys(f.H))if(f.H[l].r=f.H[l].r||[],f.H[l].L=f.H[l].L||[],f.H[l].r=[...f.H[l].L],f.CP)for(let h=0;h<f.CP.length;h++)f.CP[h]=null}let Aa=null;function Wl(f){return Aa=Aa||function Cl(f){return new Promise((l,h)=>{var v,U,J;function $e(){$l(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{$l(),h(F(f,"network-request-failed"))},timeout:Au.get()})}if(null===(U=null===(v=xr().gapi)||void 0===v?void 0:v.iframes)||void 0===U?void 0:U.Iframe)l(gapi.iframes.getContext());else{if(!(null===(J=xr().gapi)||void 0===J?void 0:J.load)){const yt=Ia("iframefcb");return xr()[yt]=()=>{gapi.load?$e():h(F(f,"network-request-failed"))},Ao(`https://apis.google.com/js/api.js?onload=${yt}`).catch(Xt=>h(Xt))}$e()}}).catch(l=>{throw Aa=null,l})}(f),Aa}const ra=new Pn(5e3,15e3),Dl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ia(f){const l=f.config;xe(l.authDomain,f,"auth-domain-config-required");const h=l.emulator?In(l,"emulator/auth/iframe"):`https://${f.config.authDomain}/__/auth/iframe`,v={apiKey:l.apiKey,appName:f.name,v:te.SDK_VERSION},U=Sa.get(f.config.apiHost);U&&(v.eid=U);const J=f._getFrameworks();return J.length&&(v.fw=J.join(",")),`${h}?${(0,j.xO)(v).slice(1)}`}function sa(){return sa=(0,u.Z)(function*(f){const l=yield Wl(f),h=xr().gapi;return xe(h,f,"internal-error"),l.open({where:document.body,url:ia(f),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dl,dontclear:!0},v=>new Promise(function(){var U=(0,u.Z)(function*(J,$e){yield v.restyle({setHideOnLeave:!1});const yt=F(f,"network-request-failed"),Xt=xr().setTimeout(()=>{$e(yt)},ra.get());function Tn(){xr().clearTimeout(Xt),J(v)}v.ping(Tn).then(Tn,()=>{$e(yt)})});return function(J,$e){return U.apply(this,arguments)}}()))}),sa.apply(this,arguments)}const Mu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ma{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(l){}}}function oa(f,l,h,v,U,J){xe(f.config.authDomain,f,"auth-domain-config-required"),xe(f.config.apiKey,f,"invalid-api-key");const $e={apiKey:f.config.apiKey,appName:f.name,authType:h,redirectUrl:v,v:te.SDK_VERSION,eventId:U};if(l instanceof ts){l.setDefaultLanguage(f.languageCode),$e.providerId=l.providerId||"",(0,j.xb)(l.getCustomParameters())||($e.customParameters=JSON.stringify(l.getCustomParameters()));for(const[Xt,Tn]of Object.entries(J||{}))$e[Xt]=Tn}if(l instanceof li){const Xt=l.getScopes().filter(Tn=>""!==Tn);Xt.length>0&&($e.scopes=Xt.join(","))}f.tenantId&&($e.tid=f.tenantId);const yt=$e;for(const Xt of Object.keys(yt))void 0===yt[Xt]&&delete yt[Xt];return`${function pc({config:f}){return f.emulator?In(f,"emulator/auth/handler"):`https://${f.authDomain}/__/auth/handler`}(f)}?${(0,j.xO)(yt).slice(1)}`}const Qs="webStorageSupport";class Kl extends class Qa{constructor(l){this.factorId=l}_process(l,h,v){switch(h.type){case"enroll":return this._finalizeEnroll(l,h.credential,v);case"signin":return this._finalizeSignIn(l,h.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new Kl(l)}_finalizeEnroll(l,h,v){return function Sn(f,l){return Et(f,"POST","/v2/accounts/mfaEnrollment:finalize",We(f,l))}(l,{idToken:h,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,h){return function wo(f,l){return Et(f,"POST","/v2/accounts/mfaSignIn:finalize",We(f,l))}(l,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Js=(()=>{class f{constructor(){}static assertion(h){return Kl._fromCredential(h)}}return f.FACTOR_ID="phone",f})();var Zl="@firebase/auth",Ru="0.19.12";class Ja{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var h=this;return(0,u.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const h=this.auth.onIdTokenChanged(v=>{var U;l((null===(U=v)||void 0===U?void 0:U.stsTokenManager.accessToken)||null)});this.internalListeners.set(l,h),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const h=this.internalListeners.get(l);!h||(this.internalListeners.delete(l),h(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function la(){return window}function ua(){return(ua=(0,u.Z)(function*(f,l,h){var v;const{BuildInfo:U}=la();ze(l.sessionId,"AuthEvent did not contain a session ID");const J=yield xu(l.sessionId),$e={};return Gn()?$e.ibi=U.packageName:mt()?$e.apn=U.packageName:ke(f,"operation-not-supported-in-this-environment"),U.displayName&&($e.appDisplayName=U.displayName),$e.sessionId=J,oa(f,h,l.type,void 0,null!==(v=l.eventId)&&void 0!==v?v:void 0,$e)})).apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(f){const{BuildInfo:l}=la(),h={};Gn()?h.iosBundleId=l.packageName:mt()?h.androidPackageName=l.packageName:ke(f,"operation-not-supported-in-this-environment"),yield vl(f,h)})).apply(this,arguments)}function Xa(){return(Xa=(0,u.Z)(function*(f,l,h){const{cordova:v}=la();let U=()=>{};try{yield new Promise((J,$e)=>{let yt=null;function Xt(){var Un;J();const Ni=null===(Un=v.plugins.browsertab)||void 0===Un?void 0:Un.close;"function"==typeof Ni&&Ni(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function Tn(){yt||(yt=window.setTimeout(()=>{$e(F(f,"redirect-cancelled-by-user"))},2e3))}function Yn(){"visible"===(null==document?void 0:document.visibilityState)&&Tn()}l.addPassiveListener(Xt),document.addEventListener("resume",Tn,!1),mt()&&document.addEventListener("visibilitychange",Yn,!1),U=()=>{l.removePassiveListener(Xt),document.removeEventListener("resume",Tn,!1),document.removeEventListener("visibilitychange",Yn,!1),yt&&window.clearTimeout(yt)}})}finally{U()}})).apply(this,arguments)}function xu(f){return el.apply(this,arguments)}function el(){return(el=(0,u.Z)(function*(f){const l=td(f),h=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(h)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function td(f){if(ze(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(f);const l=new ArrayBuffer(f.length),h=new Uint8Array(l);for(let v=0;v<f.length;v++)h[v]=f.charCodeAt(v);return h}!function Xs(f){(0,te._registerComponent)(new ue.wA("auth",(l,{options:h})=>{const v=l.getProvider("app").getImmediate(),U=l.getProvider("heartbeat"),{apiKey:J,authDomain:$e}=v.options;return((yt,Xt)=>{xe(J&&!J.includes(":"),"invalid-api-key",{appName:yt.name}),xe(!(null==$e?void 0:$e.includes(":")),"argument-error",{appName:yt.name});const Tn={apiKey:J,authDomain:$e,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oi(f)},Yn=new di(yt,Xt,Tn);return function He(f,l){const h=(null==l?void 0:l.persistence)||[],v=(Array.isArray(h)?h:[h]).map(Ze);(null==l?void 0:l.errorMap)&&f._updateErrorMap(l.errorMap),f._initializeWithPersistence(v,null==l?void 0:l.popupRedirectResolver)}(Yn,h),Yn})(v,U)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,h,v)=>{l.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new ue.wA("auth-internal",l=>{const h=Pt(l.getProvider("auth").getImmediate());return new Ja(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(Zl,Ru,function Yl(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,te.registerVersion)(Zl,Ru,"esm2017")}("Browser");class Ql extends Hl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(l)),super.onEvent(l)}initialized(){var l=this;return(0,u.Z)(function*(){yield l.initPromise})()}}function ku(f){return bl.apply(this,arguments)}function bl(){return(bl=(0,u.Z)(function*(f){const l=yield nl()._get(wl(f));return l&&(yield nl()._remove(wl(f))),l})).apply(this,arguments)}function vc(){const f=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const v=Math.floor(Math.random()*l.length);f.push(l.charAt(v))}return f.join("")}function nl(){return Ze(pi)}function wl(f){return rt("authEvent",f.config.apiKey,f.name)}function eo(f){if(!(null==f?void 0:f.includes("?")))return{};const[l,...h]=f.split("?");return(0,j.zd)(h.join("?"))}function tu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:F("no-auth-event")}}function rl(){var f;return(null===(f=null==self?void 0:self.location)||void 0===f?void 0:f.protocol)||null}function Sl(f=(0,j.z$)()){return!("file:"!==rl()&&"ionic:"!==rl()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function ws(){try{const f=self.localStorage,l=lo();if(f)return f.setItem(l,"1"),f.removeItem(l),!function ca(f=(0,j.z$)()){return function rd(){return(0,j.w1)()&&11===(null==document?void 0:document.documentMode)}()||function id(f=(0,j.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,j.hl)()}catch(f){return Ra()&&(0,j.hl)()}return!1}function Ra(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function il(){return(function Al(){return"http:"===rl()||"https:"===rl()}()||(0,j.ru)()||Sl())&&!function iu(){return(0,j.b$)()||(0,j.UG)()}()&&ws()&&!Ra()}function Ml(){return Sl()&&"undefined"!=typeof document}function Qi(){return(Qi=(0,u.Z)(function*(){return!!Ml()&&new Promise(f=>{const l=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),f(!0)})})})).apply(this,arguments)}const Ji={LOCAL:"local",NONE:"none",SESSION:"session"},Yo=xe,Bs="persistence";function sl(f){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,u.Z)(function*(f){yield f._initializationPromise;const l=Ec(),h=rt(Bs,f.config.apiKey,f.name);l&&l.setItem(h,f._getPersistence())})).apply(this,arguments)}function Ec(){var f;try{return(null===(f=function Pa(){return"undefined"!=typeof window?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch(l){return null}}const Cc=xe;class Io{constructor(){this.browserResolver=Ze(class Zo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zr,this._completeRedirectFn=Vs}_openPopup(l,h,v,U){var J=this;return(0,u.Z)(function*(){var $e;ze(null===($e=J.eventManagers[l._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const yt=oa(l,h,v,$t(),U);return function Ko(f,l,h,v=500,U=600){const J=Math.max((window.screen.availHeight-U)/2,0).toString(),$e=Math.max((window.screen.availWidth-v)/2,0).toString();let yt="";const Xt=Object.assign(Object.assign({},Mu),{width:v.toString(),height:U.toString(),top:J,left:$e}),Tn=(0,j.z$)().toLowerCase();h&&(yt=se(Tn)?"_blank":h),Re(Tn)&&(l=l||"http://localhost",Xt.scrollbars="yes");const Yn=Object.entries(Xt).reduce((Ni,[to,ol])=>`${Ni}${to}=${ol},`,"");if(function fi(f=(0,j.z$)()){var l;return Gn(f)&&!!(null===(l=window.navigator)||void 0===l?void 0:l.standalone)}(Tn)&&"_self"!==yt)return function fc(f,l){const h=document.createElement("a");h.href=f,h.target=l;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(v)}(l||"",yt),new Ma(null);const Un=window.open(l||"",yt,Yn);xe(Un,f,"popup-blocked");try{Un.focus()}catch(Ni){}return new Ma(Un)}(l,yt,lo())})()}_openRedirect(l,h,v,U){var J=this;return(0,u.Z)(function*(){return yield J._originValidation(l),function Ca(f){xr().location.href=f}(oa(l,h,v,$t(),U)),new Promise(()=>{})})()}_initialize(l){const h=l._key();if(this.eventManagers[h]){const{manager:U,promise:J}=this.eventManagers[h];return U?Promise.resolve(U):(ze(J,"If manager is not set, promise should be"),J)}const v=this.initAndGetManager(l);return this.eventManagers[h]={promise:v},v.catch(()=>{delete this.eventManagers[h]}),v}initAndGetManager(l){var h=this;return(0,u.Z)(function*(){const v=yield function hc(f){return sa.apply(this,arguments)}(l),U=new Hl(l);return v.register("authEvent",J=>(xe(null==J?void 0:J.authEvent,l,"invalid-auth-event"),{status:U.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[l._key()]={manager:U},h.iframes[l._key()]=v,U})()}_isIframeWebStorageSupported(l,h){this.iframes[l._key()].send(Qs,{type:Qs},U=>{var J;const $e=null===(J=null==U?void 0:U[0])||void 0===J?void 0:J[Qs];void 0!==$e&&h(!!$e),ke(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const h=l._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function wu(f){return zo.apply(this,arguments)}(l)),this.originValidationPromises[h]}get _shouldInitProactively(){return si()||ye()||Gn()}}),this.cordovaResolver=Ze(class eu{constructor(){this._redirectPersistence=Zr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vs}_initialize(l){var h=this;return(0,u.Z)(function*(){const v=l._key();let U=h.eventManagers.get(v);return U||(U=new Ql(l),h.eventManagers.set(v,U),h.attachCallbackListeners(l,U)),U})()}_openPopup(l){ke(l,"operation-not-supported-in-this-environment")}_openRedirect(l,h,v,U){var J=this;return(0,u.Z)(function*(){!function Nu(f){var l,h,v,U,J,$e,yt,Xt,Tn,Yn;const Un=la();xe("function"==typeof(null===(l=null==Un?void 0:Un.universalLinks)||void 0===l?void 0:l.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),xe(void 0!==(null===(h=null==Un?void 0:Un.BuildInfo)||void 0===h?void 0:h.packageName),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),xe("function"==typeof(null===(J=null===(U=null===(v=null==Un?void 0:Un.cordova)||void 0===v?void 0:v.plugins)||void 0===U?void 0:U.browsertab)||void 0===J?void 0:J.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(Xt=null===(yt=null===($e=null==Un?void 0:Un.cordova)||void 0===$e?void 0:$e.plugins)||void 0===yt?void 0:yt.browsertab)||void 0===Xt?void 0:Xt.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(Yn=null===(Tn=null==Un?void 0:Un.cordova)||void 0===Tn?void 0:Tn.InAppBrowser)||void 0===Yn?void 0:Yn.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const $e=yield J._initialize(l);yield $e.initialized(),$e.resetRedirect(),function qe(){ta.clear()}(),yield J._originValidation(l);const yt=function Jl(f,l,h=null){return{type:l,eventId:h,urlResponse:null,sessionId:vc(),postBody:null,tenantId:f.tenantId,error:F(f,"no-auth-event")}}(l,v,U);yield function nd(f,l){return nl()._set(wl(f),l)}(l,yt);const Xt=yield function _c(f,l,h){return ua.apply(this,arguments)}(l,yt,h),Tn=yield function Fo(f){const{cordova:l}=la();return new Promise(h=>{l.plugins.browsertab.isAvailable(v=>{let U=null;v?l.plugins.browsertab.openUrl(f):U=l.InAppBrowser.open(f,function Cr(f=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),h(U)})})}(Xt);return function ql(f,l,h){return Xa.apply(this,arguments)}(l,$e,Tn)})()}_isIframeWebStorageSupported(l,h){throw new Error("Method not implemented.")}_originValidation(l){const h=l._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Pu(f){return Ws.apply(this,arguments)}(l)),this.originValidationPromises[h]}attachCallbackListeners(l,h){const{universalLinks:v,handleOpenURL:U,BuildInfo:J}=la(),$e=setTimeout((0,u.Z)(function*(){yield ku(l),h.onEvent(tu())}),500),yt=function(){var Yn=(0,u.Z)(function*(Un){clearTimeout($e);const Ni=yield ku(l);let to=null;Ni&&(null==Un?void 0:Un.url)&&(to=function yc(f,l){var h,v;const U=function Lo(f){const l=eo(f),h=l.link?decodeURIComponent(l.link):void 0,v=eo(h).link,U=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return eo(U).link||U||v||h||f}(l);if(U.includes("/__/auth/callback")){const J=eo(U),$e=J.firebaseError?function Fu(f){try{return JSON.parse(f)}catch(l){return null}}(decodeURIComponent(J.firebaseError)):null,yt=null===(v=null===(h=null==$e?void 0:$e.code)||void 0===h?void 0:h.split("auth/"))||void 0===v?void 0:v[1],Xt=yt?F(yt):null;return Xt?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:Xt,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:U,postBody:null}}return null}(Ni,Un.url)),h.onEvent(to||tu())});return function(Ni){return Yn.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,yt);const Xt=U,Tn=`${J.packageName.toLowerCase()}://`;la().handleOpenURL=function(){var Yn=(0,u.Z)(function*(Un){if(Un.toLowerCase().startsWith(Tn)&&yt({url:Un}),"function"==typeof Xt)try{Xt(Un)}catch(Ni){console.error(Ni)}});return function(Un){return Yn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Zr,this._completeRedirectFn=Vs}_initialize(l){var h=this;return(0,u.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,h,v,U){var J=this;return(0,u.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openPopup(l,h,v,U)})()}_openRedirect(l,h,v,U){var J=this;return(0,u.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openRedirect(l,h,v,U)})()}_isIframeWebStorageSupported(l,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,h)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return Ml()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Cc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,u.Z)(function*(){if(l.underlyingResolver)return;const h=yield function Es(){return Qi.apply(this,arguments)}();l.underlyingResolver=h?l.cordovaResolver:l.browserResolver})()}}function Rl(f){return f.unwrap()}function su(f){return Uu(f)}function Uu(f){const{_tokenResponse:l}=f instanceof j.ZR?f.customData:f;if(!l)return null;if(!(f instanceof j.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return Is.credentialFromResult(f);const h=l.providerId;if(!h||"password"===h)return null;let v;switch(h){case"google.com":v=as;break;case"facebook.com":v=xi;break;case"github.com":v=ls;break;case"twitter.com":v=Fi;break;default:const{oauthIdToken:U,oauthAccessToken:J,oauthTokenSecret:$e,pendingToken:yt,nonce:Xt}=l;return J||$e||U||yt?yt?h.startsWith("saml.")?ji._create(h,yt):me._fromParams({providerId:h,signInMethod:h,pendingToken:yt,idToken:U,accessToken:J}):new ns(h).credential({idToken:U,accessToken:J,rawNonce:Xt}):null}return f instanceof j.ZR?v.credentialFromError(f):v.credentialFromResult(f)}function Xi(f,l){return l.catch(h=>{throw h instanceof j.ZR&&function Tc(f,l){var h;const v=null===(h=l.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===l.code)l.resolver=new ou(f,function gs(f,l){var h;const v=(0,j.m9)(f),U=l;return xe(l.customData.operationType,v,"argument-error"),xe(null===(h=U.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,v,"argument-error"),Ki._fromError(v,U)}(f,l));else if(v){const U=Uu(l),J=l;U&&(J.credential=U,J.tenantId=v.tenantId||void 0,J.email=v.email||void 0,J.phoneNumber=v.phoneNumber||void 0)}}(f,h),h}).then(h=>{const U=h.user;return{operationType:h.operationType,credential:su(h),additionalUserInfo:wr(h),user:bo.getOrCreate(U)}})}function Na(f,l){return ha.apply(this,arguments)}function ha(){return(ha=(0,u.Z)(function*(f,l){const h=yield l;return{verificationId:h.verificationId,confirm:v=>Xi(f,h.confirm(v))}})).apply(this,arguments)}class ou{constructor(l,h){this.resolver=h,this.auth=function Dc(f){return f.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return Xi(Rl(this.auth),this.resolver.resolveSignIn(l))}}class bo{constructor(l){this._delegate=l,this.multiFactor=function ms(f){const l=(0,j.m9)(f);return zr.has(l)||zr.set(l,Wn._fromUser(l)),zr.get(l)}(l)}static getOrCreate(l){return bo.USER_MAP.has(l)||bo.USER_MAP.set(l,new bo(l)),bo.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var h=this;return(0,u.Z)(function*(){return Xi(h.auth,gr(h._delegate,l))})()}linkWithPhoneNumber(l,h){var v=this;return(0,u.Z)(function*(){return Na(v.auth,function Ga(f,l,h){return Oo.apply(this,arguments)}(v._delegate,l,h))})()}linkWithPopup(l){var h=this;return(0,u.Z)(function*(){return Xi(h.auth,function Po(f,l,h){return ea.apply(this,arguments)}(h._delegate,l,Io))})()}linkWithRedirect(l){var h=this;return(0,u.Z)(function*(){return yield sl(Pt(h.auth)),function kr(f,l,h){return function qs(f,l,h){return xo.apply(this,arguments)}(f,l,h)}(h._delegate,l,Io)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var h=this;return(0,u.Z)(function*(){return Xi(h.auth,pn(h._delegate,l))})()}reauthenticateWithPhoneNumber(l,h){return Na(this.auth,function za(f,l,h){return Xo.apply(this,arguments)}(this._delegate,l,h))}reauthenticateWithPopup(l){return Xi(this.auth,function Za(f,l,h){return Ys.apply(this,arguments)}(this._delegate,l,Io))}reauthenticateWithRedirect(l){var h=this;return(0,u.Z)(function*(){return yield sl(Pt(h.auth)),function Sr(f,l,h){return function ur(f,l,h){return ss.apply(this,arguments)}(f,l,h)}(h._delegate,l,Io)})()}sendEmailVerification(l){return function p(f,l){return _.apply(this,arguments)}(this._delegate,l)}unlink(l){var h=this;return(0,u.Z)(function*(){return yield function ci(f,l){return Ms.apply(this,arguments)}(h._delegate,l),h})()}updateEmail(l){return function Dt(f,l){return gn((0,j.m9)(f),l,null)}(this._delegate,l)}updatePassword(l){return function rn(f,l){return gn((0,j.m9)(f),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function wa(f,l){return co.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function Ce(f,l){return Je.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,h){return function M(f,l,h){return $.apply(this,arguments)}(this._delegate,l,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bo.USER_MAP=new WeakMap;const xa=xe;let Pl=(()=>{class f{constructor(h,v){if(this.app=h,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=h.options;xa(U,"invalid-api-key",{appName:h.name}),xa(U,"invalid-api-key",{appName:h.name});const J="undefined"!=typeof window?Io:void 0;this._delegate=v.initialize({options:{persistence:Vu(U,h.name),popupRedirectResolver:J}}),this._delegate._updateErrorMap(Qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,v){!function dr(f,l,h){const v=Pt(f);xe(v._canInitEmulator,v,"emulator-config-failed"),xe(/^https?:\/\//.test(l),v,"invalid-emulator-scheme");const U=!!(null==h?void 0:h.disableWarnings),J=Yr(l),{host:$e,port:yt}=function hi(f){const l=Yr(f),h=/(\/\/)?([^?#/]+)/.exec(f.substr(l.length));if(!h)return{host:"",port:null};const v=h[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(v);if(U){const J=U[1];return{host:J,port:yr(v.substr(J.length+1))}}{const[J,$e]=v.split(":");return{host:J,port:yr($e)}}}(l);v.config.emulator={url:`${J}//${$e}${null===yt?"":`:${yt}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:$e,port:yt,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function ni(){function f(){const l=document.createElement("p"),h=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,h,v)}applyActionCode(h){return function Cs(f,l){return Ot.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return lr(this._delegate,h)}confirmPasswordReset(h,v){return function Fs(f,l,h){return Xr.apply(this,arguments)}(this._delegate,h,v)}createUserWithEmailAndPassword(h,v){var U=this;return(0,u.Z)(function*(){return Xi(U._delegate,function js(f,l,h){return us.apply(this,arguments)}(U._delegate,h,v))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function Ls(f,l){return H.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function Rs(f,l){const h=mi.parseLink(l);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}(0,h)}getRedirectResult(){var h=this;return(0,u.Z)(function*(){xa(il(),h._delegate,"operation-not-supported-in-this-environment");const v=yield function Co(f,l){return bs.apply(this,arguments)}(h._delegate,Io);return v?Xi(h._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function Oa(f,l){Pt(f)._logFramework(l)}(this._delegate,h)}onAuthStateChanged(h,v,U){const{next:J,error:$e,complete:yt}=au(h,v,U);return this._delegate.onAuthStateChanged(J,$e,yt)}onIdTokenChanged(h,v,U){const{next:J,error:$e,complete:yt}=au(h,v,U);return this._delegate.onIdTokenChanged(J,$e,yt)}sendSignInLinkToEmail(h,v){return function go(f,l,h){return mo.apply(this,arguments)}(this._delegate,h,v)}sendPasswordResetEmail(h,v){return function Ti(f,l,h){return _i.apply(this,arguments)}(this._delegate,h,v||void 0)}setPersistence(h){var v=this;return(0,u.Z)(function*(){let U;switch(function da(f,l){Yo(Object.values(Ji).includes(l),f,"invalid-persistence-type"),(0,j.b$)()?Yo(l!==Ji.SESSION,f,"unsupported-persistence-type"):(0,j.UG)()?Yo(l===Ji.NONE,f,"unsupported-persistence-type"):Ra()?Yo(l===Ji.NONE||l===Ji.LOCAL&&(0,j.hl)(),f,"unsupported-persistence-type"):Yo(l===Ji.NONE||ws(),f,"unsupported-persistence-type")}(v._delegate,h),h){case Ji.SESSION:U=Zr;break;case Ji.LOCAL:U=(yield Ze(Yi)._isAvailable())?Yi:pi;break;case Ji.NONE:U=we;break;default:return ke("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return Xi(this._delegate,function Rr(f){return wi.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return Xi(this._delegate,Gt(this._delegate,h))}signInWithCustomToken(h){return Xi(this._delegate,function w(f,l){return W.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,v){return Xi(this._delegate,function po(f,l,h){return Gt((0,j.m9)(f),Bi.credential(l,h))}(this._delegate,h,v))}signInWithEmailLink(h,v){return Xi(this._delegate,function Ps(f,l,h){return rs.apply(this,arguments)}(this._delegate,h,v))}signInWithPhoneNumber(h,v){return Na(this._delegate,function Cu(f,l,h){return Pi.apply(this,arguments)}(this._delegate,h,v))}signInWithPopup(h){var v=this;return(0,u.Z)(function*(){return xa(il(),v._delegate,"operation-not-supported-in-this-environment"),Xi(v._delegate,function Ro(f,l,h){return vs.apply(this,arguments)}(v._delegate,h,Io))})()}signInWithRedirect(h){var v=this;return(0,u.Z)(function*(){return xa(il(),v._delegate,"operation-not-supported-in-this-environment"),yield sl(v._delegate),function Dn(f,l,h){return function tr(f,l,h){return nr.apply(this,arguments)}(f,l,h)}(v._delegate,h,Io)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function ii(f,l){return so.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=Ji,f})();function au(f,l,h){let v=f;"function"!=typeof f&&({next:v,error:l,complete:h}=f);const U=v;return{next:$e=>U($e&&bo.getOrCreate($e)),error:l,complete:h}}function Vu(f,l){const h=function qo(f,l){const h=Ec();if(!h)return[];const v=rt(Bs,f,l);switch(h.getItem(v)){case Ji.NONE:return[we];case Ji.LOCAL:return[Yi,Zr];case Ji.SESSION:return[Zr];default:return[]}}(f,l);if("undefined"!=typeof self&&!h.includes(Yi)&&h.push(Yi),"undefined"!=typeof window)for(const v of[pi,Zr])h.includes(v)||h.push(v);return h.includes(we)||h.push(we),h}class Gs{constructor(){this.providerId="phone",this._delegate=new Is(Rl(B.Z.auth()))}static credential(l,h){return Is.credential(l,h)}verifyPhoneNumber(l,h){return this._delegate.verifyPhoneNumber(l,h)}unwrap(){return this._delegate}}Gs.PHONE_SIGN_IN_METHOD=Is.PHONE_SIGN_IN_METHOD,Gs.PROVIDER_ID=Is.PROVIDER_ID;const Bu=xe;class Ic{constructor(l,h,v=B.Z.app()){var U;Bu(null===(U=v.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new vu(l,h,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function wc(f){f.INTERNAL.registerComponent(new ue.wA("auth-compat",l=>{const h=l.getProvider("app-compat").getImmediate(),v=l.getProvider("auth");return new Pl(h,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Bi,FacebookAuthProvider:xi,GithubAuthProvider:ls,GoogleAuthProvider:as,OAuthProvider:ns,SAMLAuthProvider:Mi,PhoneAuthProvider:Gs,PhoneMultiFactorGenerator:Js,RecaptchaVerifier:Ic,TwitterAuthProvider:Fi,Auth:Pl,AuthCredential:Kn,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.2.12")}(B.Z)},1135:(Ie,re,D)=>{D.d(re,{X:()=>B});var u=D(7579);class B extends u.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const Q=super._subscribe(te);return!Q.closed&&te.next(this._value),Q}getValue(){const{hasError:te,thrownError:Q,_value:ce}=this;if(te)throw Q;return this._throwIfClosed(),ce}next(te){super.next(this._value=te)}}},8306:(Ie,re,D)=>{D.d(re,{y:()=>X});var u=D(930),B=D(727),j=D(8822),te=D(4671);var ue=D(2416),le=D(576),ee=D(2806);let X=(()=>{class Ye{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const Ne=new Ye;return Ne.source=this,Ne.operator=nt,Ne}subscribe(nt,Ne,Ve){const vt=function et(Ye){return Ye&&Ye instanceof u.Lv||function fe(Ye){return Ye&&(0,le.m)(Ye.next)&&(0,le.m)(Ye.error)&&(0,le.m)(Ye.complete)}(Ye)&&(0,B.Nn)(Ye)}(nt)?nt:new u.Hp(nt,Ne,Ve);return(0,ee.x)(()=>{const{operator:Tt,source:ke}=this;vt.add(Tt?Tt.call(vt,ke):ke?this._subscribe(vt):this._trySubscribe(vt))}),vt}_trySubscribe(nt){try{return this._subscribe(nt)}catch(Ne){nt.error(Ne)}}forEach(nt,Ne){return new(Ne=ie(Ne))((Ve,vt)=>{const Tt=new u.Hp({next:ke=>{try{nt(ke)}catch(F){vt(F),Tt.unsubscribe()}},error:vt,complete:Ve});this.subscribe(Tt)})}_subscribe(nt){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(nt)}[j.L](){return this}pipe(...nt){return function ce(Ye){return 0===Ye.length?te.y:1===Ye.length?Ye[0]:function(nt){return Ye.reduce((Ne,Ve)=>Ve(Ne),nt)}}(nt)(this)}toPromise(nt){return new(nt=ie(nt))((Ne,Ve)=>{let vt;this.subscribe(Tt=>vt=Tt,Tt=>Ve(Tt),()=>Ne(vt))})}}return Ye.create=Qe=>new Ye(Qe),Ye})();function ie(Ye){var Qe;return null!==(Qe=null!=Ye?Ye:ue.v.Promise)&&void 0!==Qe?Qe:Promise}},4707:(Ie,re,D)=>{D.d(re,{t:()=>j});var u=D(7579),B=D(6063);class j extends u.x{constructor(Q=1/0,ce=1/0,ue=B.l){super(),this._bufferSize=Q,this._windowTime=ce,this._timestampProvider=ue,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ce===1/0,this._bufferSize=Math.max(1,Q),this._windowTime=Math.max(1,ce)}next(Q){const{isStopped:ce,_buffer:ue,_infiniteTimeWindow:le,_timestampProvider:ee,_windowTime:X}=this;ce||(ue.push(Q),!le&&ue.push(ee.now()+X)),this._trimBuffer(),super.next(Q)}_subscribe(Q){this._throwIfClosed(),this._trimBuffer();const ce=this._innerSubscribe(Q),{_infiniteTimeWindow:ue,_buffer:le}=this,ee=le.slice();for(let X=0;X<ee.length&&!Q.closed;X+=ue?1:2)Q.next(ee[X]);return this._checkFinalizedStatuses(Q),ce}_trimBuffer(){const{_bufferSize:Q,_timestampProvider:ce,_buffer:ue,_infiniteTimeWindow:le}=this,ee=(le?1:2)*Q;if(Q<1/0&&ee<ue.length&&ue.splice(0,ue.length-ee),!le){const X=ce.now();let ie=0;for(let fe=1;fe<ue.length&&ue[fe]<=X;fe+=2)ie=fe;ie&&ue.splice(0,ie+1)}}}},7579:(Ie,re,D)=>{D.d(re,{x:()=>ue});var u=D(8306),B=D(727);const te=(0,D(3888).d)(ee=>function(){ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Q=D(8737),ce=D(2806);let ue=(()=>{class ee extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const fe=new le(this,this);return fe.operator=ie,fe}_throwIfClosed(){if(this.closed)throw new te}next(ie){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(ie)}})}error(ie){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:fe}=this;for(;fe.length;)fe.shift().error(ie)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:fe,isStopped:et,observers:Ye}=this;return fe||et?B.Lc:(this.currentObservers=null,Ye.push(ie),new B.w0(()=>{this.currentObservers=null,(0,Q.P)(Ye,ie)}))}_checkFinalizedStatuses(ie){const{hasError:fe,thrownError:et,isStopped:Ye}=this;fe?ie.error(et):Ye&&ie.complete()}asObservable(){const ie=new u.y;return ie.source=this,ie}}return ee.create=(X,ie)=>new le(X,ie),ee})();class le extends ue{constructor(X,ie){super(),this.destination=X,this.source=ie}next(X){var ie,fe;null===(fe=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===fe||fe.call(ie,X)}error(X){var ie,fe;null===(fe=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===fe||fe.call(ie,X)}complete(){var X,ie;null===(ie=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===ie||ie.call(X)}_subscribe(X){var ie,fe;return null!==(fe=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(X))&&void 0!==fe?fe:B.Lc}}},930:(Ie,re,D)=>{D.d(re,{Hp:()=>nt,Lv:()=>fe});var u=D(576),B=D(727),j=D(2416),te=D(7849),Q=D(5032);const ce=ee("C",void 0,void 0);function ee(ke,F,Ke){return{kind:ke,value:F,error:Ke}}var X=D(3410),ie=D(2806);class fe extends B.w0{constructor(F){super(),this.isStopped=!1,F?(this.destination=F,(0,B.Nn)(F)&&F.add(this)):this.destination=Tt}static create(F,Ke,ct){return new nt(F,Ke,ct)}next(F){this.isStopped?vt(function le(ke){return ee("N",ke,void 0)}(F),this):this._next(F)}error(F){this.isStopped?vt(function ue(ke){return ee("E",void 0,ke)}(F),this):(this.isStopped=!0,this._error(F))}complete(){this.isStopped?vt(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(F){this.destination.next(F)}_error(F){try{this.destination.error(F)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const et=Function.prototype.bind;function Ye(ke,F){return et.call(ke,F)}class Qe{constructor(F){this.partialObserver=F}next(F){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(F)}catch(ct){Ne(ct)}}error(F){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(F)}catch(ct){Ne(ct)}else Ne(F)}complete(){const{partialObserver:F}=this;if(F.complete)try{F.complete()}catch(Ke){Ne(Ke)}}}class nt extends fe{constructor(F,Ke,ct){let At;if(super(),(0,u.m)(F)||!F)At={next:null!=F?F:void 0,error:null!=Ke?Ke:void 0,complete:null!=ct?ct:void 0};else{let xe;this&&j.v.useDeprecatedNextContext?(xe=Object.create(F),xe.unsubscribe=()=>this.unsubscribe(),At={next:F.next&&Ye(F.next,xe),error:F.error&&Ye(F.error,xe),complete:F.complete&&Ye(F.complete,xe)}):At=F}this.destination=new Qe(At)}}function Ne(ke){j.v.useDeprecatedSynchronousErrorHandling?(0,ie.O)(ke):(0,te.h)(ke)}function vt(ke,F){const{onStoppedNotification:Ke}=j.v;Ke&&X.z.setTimeout(()=>Ke(ke,F))}const Tt={closed:!0,next:Q.Z,error:function Ve(ke){throw ke},complete:Q.Z}},727:(Ie,re,D)=>{D.d(re,{Lc:()=>ce,w0:()=>Q,Nn:()=>ue});var u=D(576);const j=(0,D(3888).d)(ee=>function(ie){ee(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((fe,et)=>`${et+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var te=D(8737);class Q{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Ye of ie)Ye.remove(this);else ie.remove(this);const{initialTeardown:fe}=this;if((0,u.m)(fe))try{fe()}catch(Ye){X=Ye instanceof j?Ye.errors:[Ye]}const{_finalizers:et}=this;if(et){this._finalizers=null;for(const Ye of et)try{le(Ye)}catch(Qe){X=null!=X?X:[],Qe instanceof j?X=[...X,...Qe.errors]:X.push(Qe)}}if(X)throw new j(X)}}add(X){var ie;if(X&&X!==this)if(this.closed)le(X);else{if(X instanceof Q){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(X)}}_hasParent(X){const{_parentage:ie}=this;return ie===X||Array.isArray(ie)&&ie.includes(X)}_addParent(X){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(X),ie):ie?[ie,X]:X}_removeParent(X){const{_parentage:ie}=this;ie===X?this._parentage=null:Array.isArray(ie)&&(0,te.P)(ie,X)}remove(X){const{_finalizers:ie}=this;ie&&(0,te.P)(ie,X),X instanceof Q&&X._removeParent(this)}}Q.EMPTY=(()=>{const ee=new Q;return ee.closed=!0,ee})();const ce=Q.EMPTY;function ue(ee){return ee instanceof Q||ee&&"closed"in ee&&(0,u.m)(ee.remove)&&(0,u.m)(ee.add)&&(0,u.m)(ee.unsubscribe)}function le(ee){(0,u.m)(ee)?ee():ee.unsubscribe()}},2416:(Ie,re,D)=>{D.d(re,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Ie,re,D)=>{D.d(re,{a:()=>X});var u=D(8306),B=D(4742),j=D(8996),te=D(4671),Q=D(3268),ce=D(3269),ue=D(1810),le=D(5403),ee=D(9672);function X(...et){const Ye=(0,ce.yG)(et),Qe=(0,ce.jO)(et),{args:nt,keys:Ne}=(0,B.D)(et);if(0===nt.length)return(0,j.D)([],Ye);const Ve=new u.y(function ie(et,Ye,Qe=te.y){return nt=>{fe(Ye,()=>{const{length:Ne}=et,Ve=new Array(Ne);let vt=Ne,Tt=Ne;for(let ke=0;ke<Ne;ke++)fe(Ye,()=>{const F=(0,j.D)(et[ke],Ye);let Ke=!1;F.subscribe((0,le.x)(nt,ct=>{Ve[ke]=ct,Ke||(Ke=!0,Tt--),Tt||nt.next(Qe(Ve.slice()))},()=>{--vt||nt.complete()}))},nt)},nt)}}(nt,Ye,Ne?vt=>(0,ue.n)(Ne,vt):te.y));return Qe?Ve.pipe((0,Q.Z)(Qe)):Ve}function fe(et,Ye,Qe){et?(0,ee.f)(Qe,et,Ye):Ye()}},7272:(Ie,re,D)=>{D.d(re,{z:()=>Q});var u=D(8189),j=D(3269),te=D(8996);function Q(...ce){return function B(){return(0,u.J)(1)}()((0,te.D)(ce,(0,j.yG)(ce)))}},9770:(Ie,re,D)=>{D.d(re,{P:()=>j});var u=D(8306),B=D(8421);function j(te){return new u.y(Q=>{(0,B.Xf)(te()).subscribe(Q)})}},515:(Ie,re,D)=>{D.d(re,{E:()=>B});const B=new(D(8306).y)(Q=>Q.complete())},4128:(Ie,re,D)=>{D.d(re,{D:()=>le});var u=D(8306),B=D(4742),j=D(8421),te=D(3269),Q=D(5403),ce=D(3268),ue=D(1810);function le(...ee){const X=(0,te.jO)(ee),{args:ie,keys:fe}=(0,B.D)(ee),et=new u.y(Ye=>{const{length:Qe}=ie;if(!Qe)return void Ye.complete();const nt=new Array(Qe);let Ne=Qe,Ve=Qe;for(let vt=0;vt<Qe;vt++){let Tt=!1;(0,j.Xf)(ie[vt]).subscribe((0,Q.x)(Ye,ke=>{Tt||(Tt=!0,Ve--),nt[vt]=ke},()=>Ne--,void 0,()=>{(!Ne||!Tt)&&(Ve||Ye.next(fe?(0,ue.n)(fe,nt):nt),Ye.complete())}))}});return X?et.pipe((0,ce.Z)(X)):et}},8996:(Ie,re,D)=>{D.d(re,{D:()=>F});var u=D(8421),B=D(5363),j=D(9468),ce=D(8306),le=D(2202),ee=D(576),X=D(9672);function fe(Ke,ct){if(!Ke)throw new Error("Iterable cannot be null");return new ce.y(At=>{(0,X.f)(At,ct,()=>{const xe=Ke[Symbol.asyncIterator]();(0,X.f)(At,ct,()=>{xe.next().then(ve=>{ve.done?At.complete():At.next(ve.value)})},0,!0)})})}var et=D(3670),Ye=D(8239),Qe=D(1144),nt=D(6495),Ne=D(2206),Ve=D(4532),vt=D(3260);function F(Ke,ct){return ct?function ke(Ke,ct){if(null!=Ke){if((0,et.c)(Ke))return function te(Ke,ct){return(0,u.Xf)(Ke).pipe((0,j.R)(ct),(0,B.Q)(ct))}(Ke,ct);if((0,Qe.z)(Ke))return function ue(Ke,ct){return new ce.y(At=>{let xe=0;return ct.schedule(function(){xe===Ke.length?At.complete():(At.next(Ke[xe++]),At.closed||this.schedule())})})}(Ke,ct);if((0,Ye.t)(Ke))return function Q(Ke,ct){return(0,u.Xf)(Ke).pipe((0,j.R)(ct),(0,B.Q)(ct))}(Ke,ct);if((0,Ne.D)(Ke))return fe(Ke,ct);if((0,nt.T)(Ke))return function ie(Ke,ct){return new ce.y(At=>{let xe;return(0,X.f)(At,ct,()=>{xe=Ke[le.h](),(0,X.f)(At,ct,()=>{let ve,ze;try{({value:ve,done:ze}=xe.next())}catch(Fe){return void At.error(Fe)}ze?At.complete():At.next(ve)},0,!0)}),()=>(0,ee.m)(null==xe?void 0:xe.return)&&xe.return()})}(Ke,ct);if((0,vt.L)(Ke))return function Tt(Ke,ct){return fe((0,vt.Q)(Ke),ct)}(Ke,ct)}throw(0,Ve.z)(Ke)}(Ke,ct):(0,u.Xf)(Ke)}},8421:(Ie,re,D)=>{D.d(re,{Xf:()=>et});var u=D(655),B=D(1144),j=D(8239),te=D(8306),Q=D(3670),ce=D(2206),ue=D(4532),le=D(6495),ee=D(3260),X=D(576),ie=D(7849),fe=D(8822);function et(ke){if(ke instanceof te.y)return ke;if(null!=ke){if((0,Q.c)(ke))return function Ye(ke){return new te.y(F=>{const Ke=ke[fe.L]();if((0,X.m)(Ke.subscribe))return Ke.subscribe(F);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,B.z)(ke))return function Qe(ke){return new te.y(F=>{for(let Ke=0;Ke<ke.length&&!F.closed;Ke++)F.next(ke[Ke]);F.complete()})}(ke);if((0,j.t)(ke))return function nt(ke){return new te.y(F=>{ke.then(Ke=>{F.closed||(F.next(Ke),F.complete())},Ke=>F.error(Ke)).then(null,ie.h)})}(ke);if((0,ce.D)(ke))return Ve(ke);if((0,le.T)(ke))return function Ne(ke){return new te.y(F=>{for(const Ke of ke)if(F.next(Ke),F.closed)return;F.complete()})}(ke);if((0,ee.L)(ke))return function vt(ke){return Ve((0,ee.Q)(ke))}(ke)}throw(0,ue.z)(ke)}function Ve(ke){return new te.y(F=>{(function Tt(ke,F){var Ke,ct,At,xe;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,u.KL)(ke);!(ct=yield Ke.next()).done;)if(F.next(ct.value),F.closed)return}catch(ve){At={error:ve}}finally{try{ct&&!ct.done&&(xe=Ke.return)&&(yield xe.call(Ke))}finally{if(At)throw At.error}}F.complete()})})(ke,F).catch(Ke=>F.error(Ke))})}},6451:(Ie,re,D)=>{D.d(re,{T:()=>ce});var u=D(8189),B=D(8421),j=D(515),te=D(3269),Q=D(8996);function ce(...ue){const le=(0,te.yG)(ue),ee=(0,te._6)(ue,1/0),X=ue;return X.length?1===X.length?(0,B.Xf)(X[0]):(0,u.J)(ee)((0,Q.D)(X,le)):j.E}},9646:(Ie,re,D)=>{D.d(re,{of:()=>j});var u=D(3269),B=D(8996);function j(...te){const Q=(0,u.yG)(te);return(0,B.D)(te,Q)}},2843:(Ie,re,D)=>{D.d(re,{_:()=>j});var u=D(8306),B=D(576);function j(te,Q){const ce=(0,B.m)(te)?te:()=>te,ue=le=>le.error(ce());return new u.y(Q?le=>Q.schedule(ue,0,le):ue)}},5403:(Ie,re,D)=>{D.d(re,{x:()=>B});var u=D(930);function B(te,Q,ce,ue,le){return new j(te,Q,ce,ue,le)}class j extends u.Lv{constructor(Q,ce,ue,le,ee,X){super(Q),this.onFinalize=ee,this.shouldUnsubscribe=X,this._next=ce?function(ie){try{ce(ie)}catch(fe){Q.error(fe)}}:super._next,this._error=le?function(ie){try{le(ie)}catch(fe){Q.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(ie){Q.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(Q=this.onFinalize)||void 0===Q||Q.call(this))}}}},262:(Ie,re,D)=>{D.d(re,{K:()=>te});var u=D(8421),B=D(5403),j=D(4482);function te(Q){return(0,j.e)((ce,ue)=>{let X,le=null,ee=!1;le=ce.subscribe((0,B.x)(ue,void 0,void 0,ie=>{X=(0,u.Xf)(Q(ie,te(Q)(ce))),le?(le.unsubscribe(),le=null,X.subscribe(ue)):ee=!0})),ee&&(le.unsubscribe(),le=null,X.subscribe(ue))})}},4351:(Ie,re,D)=>{D.d(re,{b:()=>j});var u=D(5577),B=D(576);function j(te,Q){return(0,B.m)(Q)?(0,u.z)(te,Q,1):(0,u.z)(te,1)}},8372:(Ie,re,D)=>{D.d(re,{b:()=>te});var u=D(4986),B=D(4482),j=D(5403);function te(Q,ce=u.z){return(0,B.e)((ue,le)=>{let ee=null,X=null,ie=null;const fe=()=>{if(ee){ee.unsubscribe(),ee=null;const Ye=X;X=null,le.next(Ye)}};function et(){const Ye=ie+Q,Qe=ce.now();if(Qe<Ye)return ee=this.schedule(void 0,Ye-Qe),void le.add(ee);fe()}ue.subscribe((0,j.x)(le,Ye=>{X=Ye,ie=ce.now(),ee||(ee=ce.schedule(et,Q),le.add(ee))},()=>{fe(),le.complete()},void 0,()=>{X=ee=null}))})}},6590:(Ie,re,D)=>{D.d(re,{d:()=>j});var u=D(4482),B=D(5403);function j(te){return(0,u.e)((Q,ce)=>{let ue=!1;Q.subscribe((0,B.x)(ce,le=>{ue=!0,ce.next(le)},()=>{ue||ce.next(te),ce.complete()}))})}},1884:(Ie,re,D)=>{D.d(re,{x:()=>te});var u=D(4671),B=D(4482),j=D(5403);function te(ce,ue=u.y){return ce=null!=ce?ce:Q,(0,B.e)((le,ee)=>{let X,ie=!0;le.subscribe((0,j.x)(ee,fe=>{const et=ue(fe);(ie||!ce(X,et))&&(ie=!1,X=et,ee.next(fe))}))})}function Q(ce,ue){return ce===ue}},9300:(Ie,re,D)=>{D.d(re,{h:()=>j});var u=D(4482),B=D(5403);function j(te,Q){return(0,u.e)((ce,ue)=>{let le=0;ce.subscribe((0,B.x)(ue,ee=>te.call(Q,ee,le++)&&ue.next(ee)))})}},8746:(Ie,re,D)=>{D.d(re,{x:()=>B});var u=D(4482);function B(j){return(0,u.e)((te,Q)=>{try{te.subscribe(Q)}finally{Q.add(j)}})}},590:(Ie,re,D)=>{D.d(re,{P:()=>ue});var u=D(6805),B=D(9300),j=D(5698),te=D(6590),Q=D(8068),ce=D(4671);function ue(le,ee){const X=arguments.length>=2;return ie=>ie.pipe(le?(0,B.h)((fe,et)=>le(fe,et,ie)):ce.y,(0,j.q)(1),X?(0,te.d)(ee):(0,Q.T)(()=>new u.K))}},4004:(Ie,re,D)=>{D.d(re,{U:()=>j});var u=D(4482),B=D(5403);function j(te,Q){return(0,u.e)((ce,ue)=>{let le=0;ce.subscribe((0,B.x)(ue,ee=>{ue.next(te.call(Q,ee,le++))}))})}},8189:(Ie,re,D)=>{D.d(re,{J:()=>j});var u=D(5577),B=D(4671);function j(te=1/0){return(0,u.z)(B.y,te)}},5577:(Ie,re,D)=>{D.d(re,{z:()=>le});var u=D(4004),B=D(8421),j=D(4482),te=D(9672),Q=D(5403),ue=D(576);function le(ee,X,ie=1/0){return(0,ue.m)(X)?le((fe,et)=>(0,u.U)((Ye,Qe)=>X(fe,Ye,et,Qe))((0,B.Xf)(ee(fe,et))),ie):("number"==typeof X&&(ie=X),(0,j.e)((fe,et)=>function ce(ee,X,ie,fe,et,Ye,Qe,nt){const Ne=[];let Ve=0,vt=0,Tt=!1;const ke=()=>{Tt&&!Ne.length&&!Ve&&X.complete()},F=ct=>Ve<fe?Ke(ct):Ne.push(ct),Ke=ct=>{Ye&&X.next(ct),Ve++;let At=!1;(0,B.Xf)(ie(ct,vt++)).subscribe((0,Q.x)(X,xe=>{null==et||et(xe),Ye?F(xe):X.next(xe)},()=>{At=!0},void 0,()=>{if(At)try{for(Ve--;Ne.length&&Ve<fe;){const xe=Ne.shift();Qe?(0,te.f)(X,Qe,()=>Ke(xe)):Ke(xe)}ke()}catch(xe){X.error(xe)}}))};return ee.subscribe((0,Q.x)(X,F,()=>{Tt=!0,ke()})),()=>{null==nt||nt()}}(fe,et,ee,ie)))}},5363:(Ie,re,D)=>{D.d(re,{Q:()=>te});var u=D(9672),B=D(4482),j=D(5403);function te(Q,ce=0){return(0,B.e)((ue,le)=>{ue.subscribe((0,j.x)(le,ee=>(0,u.f)(le,Q,()=>le.next(ee),ce),()=>(0,u.f)(le,Q,()=>le.complete(),ce),ee=>(0,u.f)(le,Q,()=>le.error(ee),ce)))})}},5026:(Ie,re,D)=>{D.d(re,{R:()=>te});var u=D(4482),B=D(5403);function j(Q,ce,ue,le,ee){return(X,ie)=>{let fe=ue,et=ce,Ye=0;X.subscribe((0,B.x)(ie,Qe=>{const nt=Ye++;et=fe?Q(et,Qe,nt):(fe=!0,Qe),le&&ie.next(et)},ee&&(()=>{fe&&ie.next(et),ie.complete()})))}}function te(Q,ce){return(0,u.e)(j(Q,ce,arguments.length>=2,!0))}},3099:(Ie,re,D)=>{D.d(re,{B:()=>ce});var u=D(8996),B=D(5698),j=D(7579),te=D(930),Q=D(4482);function ce(le={}){const{connector:ee=(()=>new j.x),resetOnError:X=!0,resetOnComplete:ie=!0,resetOnRefCountZero:fe=!0}=le;return et=>{let Ye=null,Qe=null,nt=null,Ne=0,Ve=!1,vt=!1;const Tt=()=>{null==Qe||Qe.unsubscribe(),Qe=null},ke=()=>{Tt(),Ye=nt=null,Ve=vt=!1},F=()=>{const Ke=Ye;ke(),null==Ke||Ke.unsubscribe()};return(0,Q.e)((Ke,ct)=>{Ne++,!vt&&!Ve&&Tt();const At=nt=null!=nt?nt:ee();ct.add(()=>{Ne--,0===Ne&&!vt&&!Ve&&(Qe=ue(F,fe))}),At.subscribe(ct),Ye||(Ye=new te.Hp({next:xe=>At.next(xe),error:xe=>{vt=!0,Tt(),Qe=ue(ke,X,xe),At.error(xe)},complete:()=>{Ve=!0,Tt(),Qe=ue(ke,ie),At.complete()}}),(0,u.D)(Ke).subscribe(Ye))})(et)}}function ue(le,ee,...X){return!0===ee?(le(),null):!1===ee?null:ee(...X).pipe((0,B.q)(1)).subscribe(()=>le())}},4782:(Ie,re,D)=>{D.d(re,{d:()=>j});var u=D(4707),B=D(3099);function j(te,Q,ce){let ue,le=!1;return te&&"object"==typeof te?({bufferSize:ue=1/0,windowTime:Q=1/0,refCount:le=!1,scheduler:ce}=te):ue=null!=te?te:1/0,(0,B.B)({connector:()=>new u.t(ue,Q,ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:le})}},5684:(Ie,re,D)=>{D.d(re,{T:()=>B});var u=D(9300);function B(j){return(0,u.h)((te,Q)=>j<=Q)}},8675:(Ie,re,D)=>{D.d(re,{O:()=>te});var u=D(7272),B=D(3269),j=D(4482);function te(...Q){const ce=(0,B.yG)(Q);return(0,j.e)((ue,le)=>{(ce?(0,u.z)(Q,ue,ce):(0,u.z)(Q,ue)).subscribe(le)})}},9468:(Ie,re,D)=>{D.d(re,{R:()=>B});var u=D(4482);function B(j,te=0){return(0,u.e)((Q,ce)=>{ce.add(j.schedule(()=>Q.subscribe(ce),te))})}},3900:(Ie,re,D)=>{D.d(re,{w:()=>te});var u=D(8421),B=D(4482),j=D(5403);function te(Q,ce){return(0,B.e)((ue,le)=>{let ee=null,X=0,ie=!1;const fe=()=>ie&&!ee&&le.complete();ue.subscribe((0,j.x)(le,et=>{null==ee||ee.unsubscribe();let Ye=0;const Qe=X++;(0,u.Xf)(Q(et,Qe)).subscribe(ee=(0,j.x)(le,nt=>le.next(ce?ce(et,nt,Qe,Ye++):nt),()=>{ee=null,fe()}))},()=>{ie=!0,fe()}))})}},5698:(Ie,re,D)=>{D.d(re,{q:()=>te});var u=D(515),B=D(4482),j=D(5403);function te(Q){return Q<=0?()=>u.E:(0,B.e)((ce,ue)=>{let le=0;ce.subscribe((0,j.x)(ue,ee=>{++le<=Q&&(ue.next(ee),Q<=le&&ue.complete())}))})}},2722:(Ie,re,D)=>{D.d(re,{R:()=>Q});var u=D(4482),B=D(5403),j=D(8421),te=D(5032);function Q(ce){return(0,u.e)((ue,le)=>{(0,j.Xf)(ce).subscribe((0,B.x)(le,()=>le.complete(),te.Z)),!le.closed&&ue.subscribe(le)})}},8505:(Ie,re,D)=>{D.d(re,{b:()=>Q});var u=D(576),B=D(4482),j=D(5403),te=D(4671);function Q(ce,ue,le){const ee=(0,u.m)(ce)||ue||le?{next:ce,error:ue,complete:le}:ce;return ee?(0,B.e)((X,ie)=>{var fe;null===(fe=ee.subscribe)||void 0===fe||fe.call(ee);let et=!0;X.subscribe((0,j.x)(ie,Ye=>{var Qe;null===(Qe=ee.next)||void 0===Qe||Qe.call(ee,Ye),ie.next(Ye)},()=>{var Ye;et=!1,null===(Ye=ee.complete)||void 0===Ye||Ye.call(ee),ie.complete()},Ye=>{var Qe;et=!1,null===(Qe=ee.error)||void 0===Qe||Qe.call(ee,Ye),ie.error(Ye)},()=>{var Ye,Qe;et&&(null===(Ye=ee.unsubscribe)||void 0===Ye||Ye.call(ee)),null===(Qe=ee.finalize)||void 0===Qe||Qe.call(ee)}))}):te.y}},8068:(Ie,re,D)=>{D.d(re,{T:()=>te});var u=D(6805),B=D(4482),j=D(5403);function te(ce=Q){return(0,B.e)((ue,le)=>{let ee=!1;ue.subscribe((0,j.x)(le,X=>{ee=!0,le.next(X)},()=>ee?le.complete():le.error(ce())))})}function Q(){return new u.K}},7414:(Ie,re,D)=>{D.d(re,{V:()=>ee});var u=D(4986),B=D(1165),j=D(4482),te=D(8421),Q=D(3888),ce=D(5403),ue=D(9672);const le=(0,Q.d)(ie=>function(et=null){ie(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=et});function ee(ie,fe){const{first:et,each:Ye,with:Qe=X,scheduler:nt=(null!=fe?fe:u.z),meta:Ne=null}=(0,B.q)(ie)?{first:ie}:"number"==typeof ie?{each:ie}:ie;if(null==et&&null==Ye)throw new TypeError("No timeout provided.");return(0,j.e)((Ve,vt)=>{let Tt,ke,F=null,Ke=0;const ct=At=>{ke=(0,ue.f)(vt,nt,()=>{try{Tt.unsubscribe(),(0,te.Xf)(Qe({meta:Ne,lastValue:F,seen:Ke})).subscribe(vt)}catch(xe){vt.error(xe)}},At)};Tt=Ve.subscribe((0,ce.x)(vt,At=>{null==ke||ke.unsubscribe(),Ke++,vt.next(F=At),Ye>0&&ct(Ye)},void 0,void 0,()=>{(null==ke?void 0:ke.closed)||null==ke||ke.unsubscribe(),F=null})),!Ke&&ct(null!=et?"number"==typeof et?et:+et-nt.now():Ye)})}function X(ie){throw new le(ie)}},1365:(Ie,re,D)=>{D.d(re,{M:()=>ue});var u=D(4482),B=D(5403),j=D(8421),te=D(4671),Q=D(5032),ce=D(3269);function ue(...le){const ee=(0,ce.jO)(le);return(0,u.e)((X,ie)=>{const fe=le.length,et=new Array(fe);let Ye=le.map(()=>!1),Qe=!1;for(let nt=0;nt<fe;nt++)(0,j.Xf)(le[nt]).subscribe((0,B.x)(ie,Ne=>{et[nt]=Ne,!Qe&&!Ye[nt]&&(Ye[nt]=!0,(Qe=Ye.every(te.y))&&(Ye=null))},Q.Z));X.subscribe((0,B.x)(ie,nt=>{if(Qe){const Ne=[nt,...et];ie.next(ee?ee(...Ne):Ne)}}))})}},4408:(Ie,re,D)=>{D.d(re,{o:()=>Q});var u=D(727);class B extends u.w0{constructor(ue,le){super()}schedule(ue,le=0){return this}}const j={setInterval(ce,ue,...le){const{delegate:ee}=j;return(null==ee?void 0:ee.setInterval)?ee.setInterval(ce,ue,...le):setInterval(ce,ue,...le)},clearInterval(ce){const{delegate:ue}=j;return((null==ue?void 0:ue.clearInterval)||clearInterval)(ce)},delegate:void 0};var te=D(8737);class Q extends B{constructor(ue,le){super(ue,le),this.scheduler=ue,this.work=le,this.pending=!1}schedule(ue,le=0){if(this.closed)return this;this.state=ue;const ee=this.id,X=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(X,ee,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(X,this.id,le),this}requestAsyncId(ue,le,ee=0){return j.setInterval(ue.flush.bind(ue,this),ee)}recycleAsyncId(ue,le,ee=0){if(null!=ee&&this.delay===ee&&!1===this.pending)return le;j.clearInterval(le)}execute(ue,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ee=this._execute(ue,le);if(ee)return ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,le){let X,ee=!1;try{this.work(ue)}catch(ie){ee=!0,X=ie||new Error("Scheduled action threw falsy error")}if(ee)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:ue,scheduler:le}=this,{actions:ee}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(ee,this),null!=ue&&(this.id=this.recycleAsyncId(le,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ie,re,D)=>{D.d(re,{v:()=>j});var u=D(6063);class B{constructor(Q,ce=B.now){this.schedulerActionCtor=Q,this.now=ce}schedule(Q,ce=0,ue){return new this.schedulerActionCtor(this,Q).schedule(ue,ce)}}B.now=u.l.now;class j extends B{constructor(Q,ce=B.now){super(Q,ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Q){const{actions:ce}=this;if(this._active)return void ce.push(Q);let ue;this._active=!0;do{if(ue=Q.execute(Q.state,Q.delay))break}while(Q=ce.shift());if(this._active=!1,ue){for(;Q=ce.shift();)Q.unsubscribe();throw ue}}}},4986:(Ie,re,D)=>{D.d(re,{z:()=>j,P:()=>te});var u=D(4408);const j=new(D(7565).v)(u.o),te=j},6063:(Ie,re,D)=>{D.d(re,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},233:(Ie,re,D)=>{D.d(re,{N:()=>Q});var u=D(4408),j=D(7565);const Q=new class te extends j.v{}(class B extends u.o{constructor(le,ee){super(le,ee),this.scheduler=le,this.work=ee}schedule(le,ee=0){return ee>0?super.schedule(le,ee):(this.delay=ee,this.state=le,this.scheduler.flush(this),this)}execute(le,ee){return ee>0||this.closed?super.execute(le,ee):this._execute(le,ee)}requestAsyncId(le,ee,X=0){return null!=X&&X>0||null==X&&this.delay>0?super.requestAsyncId(le,ee,X):le.flush(this)}})},3410:(Ie,re,D)=>{D.d(re,{z:()=>u});const u={setTimeout(B,j,...te){const{delegate:Q}=u;return(null==Q?void 0:Q.setTimeout)?Q.setTimeout(B,j,...te):setTimeout(B,j,...te)},clearTimeout(B){const{delegate:j}=u;return((null==j?void 0:j.clearTimeout)||clearTimeout)(B)},delegate:void 0}},2202:(Ie,re,D)=>{D.d(re,{h:()=>B});const B=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ie,re,D)=>{D.d(re,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ie,re,D)=>{D.d(re,{K:()=>B});const B=(0,D(3888).d)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Ie,re,D)=>{D.d(re,{jO:()=>te,yG:()=>Q,_6:()=>ce});var u=D(576),B=D(3532);function j(ue){return ue[ue.length-1]}function te(ue){return(0,u.m)(j(ue))?ue.pop():void 0}function Q(ue){return(0,B.K)(j(ue))?ue.pop():void 0}function ce(ue,le){return"number"==typeof j(ue)?ue.pop():le}},4742:(Ie,re,D)=>{D.d(re,{D:()=>Q});const{isArray:u}=Array,{getPrototypeOf:B,prototype:j,keys:te}=Object;function Q(ue){if(1===ue.length){const le=ue[0];if(u(le))return{args:le,keys:null};if(function ce(ue){return ue&&"object"==typeof ue&&B(ue)===j}(le)){const ee=te(le);return{args:ee.map(X=>le[X]),keys:ee}}}return{args:ue,keys:null}}},8737:(Ie,re,D)=>{function u(B,j){if(B){const te=B.indexOf(j);0<=te&&B.splice(te,1)}}D.d(re,{P:()=>u})},3888:(Ie,re,D)=>{function u(B){const te=B(Q=>{Error.call(Q),Q.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}D.d(re,{d:()=>u})},1810:(Ie,re,D)=>{function u(B,j){return B.reduce((te,Q,ce)=>(te[Q]=j[ce],te),{})}D.d(re,{n:()=>u})},2806:(Ie,re,D)=>{D.d(re,{x:()=>j,O:()=>te});var u=D(2416);let B=null;function j(Q){if(u.v.useDeprecatedSynchronousErrorHandling){const ce=!B;if(ce&&(B={errorThrown:!1,error:null}),Q(),ce){const{errorThrown:ue,error:le}=B;if(B=null,ue)throw le}}else Q()}function te(Q){u.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=Q)}},9672:(Ie,re,D)=>{function u(B,j,te,Q=0,ce=!1){const ue=j.schedule(function(){te(),ce?B.add(this.schedule(null,Q)):this.unsubscribe()},Q);if(B.add(ue),!ce)return ue}D.d(re,{f:()=>u})},4671:(Ie,re,D)=>{function u(B){return B}D.d(re,{y:()=>u})},1144:(Ie,re,D)=>{D.d(re,{z:()=>u});const u=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(Ie,re,D)=>{D.d(re,{D:()=>B});var u=D(576);function B(j){return Symbol.asyncIterator&&(0,u.m)(null==j?void 0:j[Symbol.asyncIterator])}},1165:(Ie,re,D)=>{function u(B){return B instanceof Date&&!isNaN(B)}D.d(re,{q:()=>u})},576:(Ie,re,D)=>{function u(B){return"function"==typeof B}D.d(re,{m:()=>u})},3670:(Ie,re,D)=>{D.d(re,{c:()=>j});var u=D(8822),B=D(576);function j(te){return(0,B.m)(te[u.L])}},6495:(Ie,re,D)=>{D.d(re,{T:()=>j});var u=D(2202),B=D(576);function j(te){return(0,B.m)(null==te?void 0:te[u.h])}},8239:(Ie,re,D)=>{D.d(re,{t:()=>B});var u=D(576);function B(j){return(0,u.m)(null==j?void 0:j.then)}},3260:(Ie,re,D)=>{D.d(re,{Q:()=>j,L:()=>te});var u=D(655),B=D(576);function j(Q){return(0,u.FC)(this,arguments,function*(){const ue=Q.getReader();try{for(;;){const{value:le,done:ee}=yield(0,u.qq)(ue.read());if(ee)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(le)}}finally{ue.releaseLock()}})}function te(Q){return(0,B.m)(null==Q?void 0:Q.getReader)}},3532:(Ie,re,D)=>{D.d(re,{K:()=>B});var u=D(576);function B(j){return j&&(0,u.m)(j.schedule)}},4482:(Ie,re,D)=>{D.d(re,{A:()=>B,e:()=>j});var u=D(576);function B(te){return(0,u.m)(null==te?void 0:te.lift)}function j(te){return Q=>{if(B(Q))return Q.lift(function(ce){try{return te(ce,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ie,re,D)=>{D.d(re,{Z:()=>te});var u=D(4004);const{isArray:B}=Array;function te(Q){return(0,u.U)(ce=>function j(Q,ce){return B(ce)?Q(...ce):Q(ce)}(Q,ce))}},5032:(Ie,re,D)=>{function u(){}D.d(re,{Z:()=>u})},7849:(Ie,re,D)=>{D.d(re,{h:()=>j});var u=D(2416),B=D(3410);function j(te){B.z.setTimeout(()=>{const{onUnhandledError:Q}=u.v;if(!Q)throw te;Q(te)})}},4532:(Ie,re,D)=>{function u(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(re,{z:()=>u})},655:(Ie,re,D)=>{function te(ve,ze){var Fe={};for(var Ze in ve)Object.prototype.hasOwnProperty.call(ve,Ze)&&ze.indexOf(Ze)<0&&(Fe[Ze]=ve[Ze]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(Ze=Object.getOwnPropertySymbols(ve);it<Ze.length;it++)ze.indexOf(Ze[it])<0&&Object.prototype.propertyIsEnumerable.call(ve,Ze[it])&&(Fe[Ze[it]]=ve[Ze[it]])}return Fe}function le(ve,ze,Fe,Ze){return new(Fe||(Fe=Promise))(function(He,$t){function Mn(Bt){try{Ut(Ze.next(Bt))}catch(Pn){$t(Pn)}}function Qn(Bt){try{Ut(Ze.throw(Bt))}catch(Pn){$t(Pn)}}function Ut(Bt){Bt.done?He(Bt.value):function it(He){return He instanceof Fe?He:new Fe(function($t){$t(He)})}(Bt.value).then(Mn,Qn)}Ut((Ze=Ze.apply(ve,ze||[])).next())})}function Ne(ve){return this instanceof Ne?(this.v=ve,this):new Ne(ve)}function Ve(ve,ze,Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,Ze=Fe.apply(ve,ze||[]),He=[];return it={},$t("next"),$t("throw"),$t("return"),it[Symbol.asyncIterator]=function(){return this},it;function $t(In){Ze[In]&&(it[In]=function(gt){return new Promise(function(ht,Ue){He.push([In,gt,ht,Ue])>1||Mn(In,gt)})})}function Mn(In,gt){try{!function Qn(In){In.value instanceof Ne?Promise.resolve(In.value.v).then(Ut,Bt):Pn(He[0][2],In)}(Ze[In](gt))}catch(ht){Pn(He[0][3],ht)}}function Ut(In){Mn("next",In)}function Bt(In){Mn("throw",In)}function Pn(In,gt){In(gt),He.shift(),He.length&&Mn(He[0][0],He[0][1])}}function Tt(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,ze=ve[Symbol.asyncIterator];return ze?ze.call(ve):(ve=function fe(ve){var ze="function"==typeof Symbol&&Symbol.iterator,Fe=ze&&ve[ze],Ze=0;if(Fe)return Fe.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&Ze>=ve.length&&(ve=void 0),{value:ve&&ve[Ze++],done:!ve}}};throw new TypeError(ze?"Object is not iterable.":"Symbol.iterator is not defined.")}(ve),Fe={},Ze("next"),Ze("throw"),Ze("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe);function Ze(He){Fe[He]=ve[He]&&function($t){return new Promise(function(Mn,Qn){!function it(He,$t,Mn,Qn){Promise.resolve(Qn).then(function(Ut){He({value:Ut,done:Mn})},$t)}(Mn,Qn,($t=ve[He]($t)).done,$t.value)})}}}D.d(re,{_T:()=>te,mG:()=>le,qq:()=>Ne,FC:()=>Ve,KL:()=>Tt})},1777:(Ie,re,D)=>{D.d(re,{l3:()=>j,_j:()=>u,LC:()=>B,ZN:()=>Ve,jt:()=>Q,pV:()=>et,ru:()=>ce,IO:()=>Qe,vP:()=>ue,SB:()=>ee,oB:()=>le,eR:()=>ie,X$:()=>te,ZE:()=>vt,k1:()=>Tt});class u{}class B{}const j="*";function te(ke,F){return{type:7,name:ke,definitions:F,options:{}}}function Q(ke,F=null){return{type:4,styles:F,timings:ke}}function ce(ke,F=null){return{type:3,steps:ke,options:F}}function ue(ke,F=null){return{type:2,steps:ke,options:F}}function le(ke){return{type:6,styles:ke,offset:null}}function ee(ke,F,Ke){return{type:0,name:ke,styles:F,options:Ke}}function ie(ke,F,Ke=null){return{type:1,expr:ke,animation:F,options:Ke}}function et(ke=null){return{type:9,options:ke}}function Qe(ke,F,Ke=null){return{type:11,selector:ke,animation:F,options:Ke}}function Ne(ke){Promise.resolve(null).then(ke)}class Ve{constructor(F=0,Ke=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=F+Ke}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(F=>F()),this._onDoneFns=[])}onStart(F){this._onStartFns.push(F)}onDone(F){this._onDoneFns.push(F)}onDestroy(F){this._onDestroyFns.push(F)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ne(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(F=>F()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(F=>F()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(F){this._position=this.totalTime?F*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(F){const Ke="start"==F?this._onStartFns:this._onDoneFns;Ke.forEach(ct=>ct()),Ke.length=0}}class vt{constructor(F){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=F;let Ke=0,ct=0,At=0;const xe=this.players.length;0==xe?Ne(()=>this._onFinish()):this.players.forEach(ve=>{ve.onDone(()=>{++Ke==xe&&this._onFinish()}),ve.onDestroy(()=>{++ct==xe&&this._onDestroy()}),ve.onStart(()=>{++At==xe&&this._onStart()})}),this.totalTime=this.players.reduce((ve,ze)=>Math.max(ve,ze.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(F=>F()),this._onDoneFns=[])}init(){this.players.forEach(F=>F.init())}onStart(F){this._onStartFns.push(F)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(F=>F()),this._onStartFns=[])}onDone(F){this._onDoneFns.push(F)}onDestroy(F){this._onDestroyFns.push(F)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(F=>F.play())}pause(){this.players.forEach(F=>F.pause())}restart(){this.players.forEach(F=>F.restart())}finish(){this._onFinish(),this.players.forEach(F=>F.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(F=>F.destroy()),this._onDestroyFns.forEach(F=>F()),this._onDestroyFns=[])}reset(){this.players.forEach(F=>F.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(F){const Ke=F*this.totalTime;this.players.forEach(ct=>{const At=ct.totalTime?Math.min(1,Ke/ct.totalTime):1;ct.setPosition(At)})}getPosition(){const F=this.players.reduce((Ke,ct)=>null===Ke||ct.totalTime>Ke.totalTime?ct:Ke,null);return null!=F?F.getPosition():0}beforeDestroy(){this.players.forEach(F=>{F.beforeDestroy&&F.beforeDestroy()})}triggerCallback(F){const Ke="start"==F?this._onStartFns:this._onDoneFns;Ke.forEach(ct=>ct()),Ke.length=0}}const Tt="!"},9808:(Ie,re,D)=>{D.d(re,{mr:()=>vt,Ov:()=>Be,ez:()=>ji,K0:()=>ue,Do:()=>ke,V_:()=>X,Ye:()=>F,S$:()=>Ne,mk:()=>ri,sg:()=>Ge,O5:()=>Vt,RF:()=>Xn,n9:()=>jn,ED:()=>qr,b0:()=>Tt,lw:()=>le,EM:()=>Di,JF:()=>br,NF:()=>bn,PM:()=>ui,w_:()=>ce,bD:()=>ki,q:()=>j,Mx:()=>Ei,HT:()=>Q});var u=D(5e3);let B=null;function j(){return B}function Q(R){B||(B=R)}class ce{}const ue=new u.OlP("DocumentToken");let le=(()=>{class R{historyGo(O){throw new Error("Not implemented")}}return R.\u0275fac=function(O){return new(O||R)},R.\u0275prov=u.Yz7({token:R,factory:function(){return function ee(){return(0,u.LFG)(ie)}()},providedIn:"platform"}),R})();const X=new u.OlP("Location Initialized");let ie=(()=>{class R extends le{constructor(O){super(),this._doc=O,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(O){const q=j().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",O,!1),()=>q.removeEventListener("popstate",O)}onHashChange(O){const q=j().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",O,!1),()=>q.removeEventListener("hashchange",O)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(O){this.location.pathname=O}pushState(O,q,Te){fe()?this._history.pushState(O,q,Te):this.location.hash=Te}replaceState(O,q,Te){fe()?this._history.replaceState(O,q,Te):this.location.hash=Te}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return R.\u0275fac=function(O){return new(O||R)(u.LFG(ue))},R.\u0275prov=u.Yz7({token:R,factory:function(){return function et(){return new ie((0,u.LFG)(ue))}()},providedIn:"platform"}),R})();function fe(){return!!window.history.pushState}function Ye(R,z){if(0==R.length)return z;if(0==z.length)return R;let O=0;return R.endsWith("/")&&O++,z.startsWith("/")&&O++,2==O?R+z.substring(1):1==O?R+z:R+"/"+z}function Qe(R){const z=R.match(/#|\?|$/),O=z&&z.index||R.length;return R.slice(0,O-("/"===R[O-1]?1:0))+R.slice(O)}function nt(R){return R&&"?"!==R[0]?"?"+R:R}let Ne=(()=>{class R{historyGo(O){throw new Error("Not implemented")}}return R.\u0275fac=function(O){return new(O||R)},R.\u0275prov=u.Yz7({token:R,factory:function(){return function Ve(R){const z=(0,u.LFG)(ue).location;return new Tt((0,u.LFG)(le),z&&z.origin||"")}()},providedIn:"root"}),R})();const vt=new u.OlP("appBaseHref");let Tt=(()=>{class R extends Ne{constructor(O,q){if(super(),this._platformLocation=O,this._removeListenerFns=[],null==q&&(q=this._platformLocation.getBaseHrefFromDOM()),null==q)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=q}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return Ye(this._baseHref,O)}path(O=!1){const q=this._platformLocation.pathname+nt(this._platformLocation.search),Te=this._platformLocation.hash;return Te&&O?`${q}${Te}`:q}pushState(O,q,Te,ot){const Ct=this.prepareExternalUrl(Te+nt(ot));this._platformLocation.pushState(O,q,Ct)}replaceState(O,q,Te,ot){const Ct=this.prepareExternalUrl(Te+nt(ot));this._platformLocation.replaceState(O,q,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(O=0){var q,Te;null===(Te=(q=this._platformLocation).historyGo)||void 0===Te||Te.call(q,O)}}return R.\u0275fac=function(O){return new(O||R)(u.LFG(le),u.LFG(vt,8))},R.\u0275prov=u.Yz7({token:R,factory:R.\u0275fac}),R})(),ke=(()=>{class R extends Ne{constructor(O,q){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(O){const q=Ye(this._baseHref,O);return q.length>0?"#"+q:q}pushState(O,q,Te,ot){let Ct=this.prepareExternalUrl(Te+nt(ot));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.pushState(O,q,Ct)}replaceState(O,q,Te,ot){let Ct=this.prepareExternalUrl(Te+nt(ot));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.replaceState(O,q,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(O=0){var q,Te;null===(Te=(q=this._platformLocation).historyGo)||void 0===Te||Te.call(q,O)}}return R.\u0275fac=function(O){return new(O||R)(u.LFG(le),u.LFG(vt,8))},R.\u0275prov=u.Yz7({token:R,factory:R.\u0275fac}),R})(),F=(()=>{class R{constructor(O,q){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=O;const Te=this._platformStrategy.getBaseHref();this._platformLocation=q,this._baseHref=Qe(At(Te)),this._platformStrategy.onPopState(ot=>{this._subject.emit({url:this.path(!0),pop:!0,state:ot.state,type:ot.type})})}path(O=!1){return this.normalize(this._platformStrategy.path(O))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(O,q=""){return this.path()==this.normalize(O+nt(q))}normalize(O){return R.stripTrailingSlash(function ct(R,z){return R&&z.startsWith(R)?z.substring(R.length):z}(this._baseHref,At(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._platformStrategy.prepareExternalUrl(O)}go(O,q="",Te=null){this._platformStrategy.pushState(Te,"",O,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+nt(q)),Te)}replaceState(O,q="",Te=null){this._platformStrategy.replaceState(Te,"",O,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+nt(q)),Te)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(O=0){var q,Te;null===(Te=(q=this._platformStrategy).historyGo)||void 0===Te||Te.call(q,O)}onUrlChange(O){this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)}))}_notifyUrlChangeListeners(O="",q){this._urlChangeListeners.forEach(Te=>Te(O,q))}subscribe(O,q,Te){return this._subject.subscribe({next:O,error:q,complete:Te})}}return R.normalizeQueryParams=nt,R.joinWithSlash=Ye,R.stripTrailingSlash=Qe,R.\u0275fac=function(O){return new(O||R)(u.LFG(Ne),u.LFG(le))},R.\u0275prov=u.Yz7({token:R,factory:function(){return function Ke(){return new F((0,u.LFG)(Ne),(0,u.LFG)(le))}()},providedIn:"root"}),R})();function At(R){return R.replace(/\/index.html$/,"")}function Ei(R,z){z=encodeURIComponent(z);for(const O of R.split(";")){const q=O.indexOf("="),[Te,ot]=-1==q?[O,""]:[O.slice(0,q),O.slice(q+1)];if(Te.trim()===z)return decodeURIComponent(ot)}return null}let ri=(()=>{class R{constructor(O,q,Te,ot){this._iterableDiffers=O,this._keyValueDiffers=q,this._ngEl=Te,this._renderer=ot,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(O){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof O?O.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(O){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof O?O.split(/\s+/):O,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const O=this._iterableDiffer.diff(this._rawClass);O&&this._applyIterableChanges(O)}else if(this._keyValueDiffer){const O=this._keyValueDiffer.diff(this._rawClass);O&&this._applyKeyValueChanges(O)}}_applyKeyValueChanges(O){O.forEachAddedItem(q=>this._toggleClass(q.key,q.currentValue)),O.forEachChangedItem(q=>this._toggleClass(q.key,q.currentValue)),O.forEachRemovedItem(q=>{q.previousValue&&this._toggleClass(q.key,!1)})}_applyIterableChanges(O){O.forEachAddedItem(q=>{if("string"!=typeof q.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(q.item)}`);this._toggleClass(q.item,!0)}),O.forEachRemovedItem(q=>this._toggleClass(q.item,!1))}_applyClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(q=>this._toggleClass(q,!0)):Object.keys(O).forEach(q=>this._toggleClass(q,!!O[q])))}_removeClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(q=>this._toggleClass(q,!1)):Object.keys(O).forEach(q=>this._toggleClass(q,!1)))}_toggleClass(O,q){(O=O.trim())&&O.split(/\s+/g).forEach(Te=>{q?this._renderer.addClass(this._ngEl.nativeElement,Te):this._renderer.removeClass(this._ngEl.nativeElement,Te)})}}return R.\u0275fac=function(O){return new(O||R)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},R.\u0275dir=u.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),R})();class pt{constructor(z,O,q,Te){this.$implicit=z,this.ngForOf=O,this.index=q,this.count=Te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ge=(()=>{class R{constructor(O,q,Te){this._viewContainer=O,this._template=q,this._differs=Te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const q=this._viewContainer;O.forEachOperation((Te,ot,Ct)=>{if(null==Te.previousIndex)q.createEmbeddedView(this._template,new pt(Te.item,this._ngForOf,-1,-1),null===Ct?void 0:Ct);else if(null==Ct)q.remove(null===ot?void 0:ot);else if(null!==ot){const Gt=q.get(ot);q.move(Gt,Ct),tt(Gt,Te)}});for(let Te=0,ot=q.length;Te<ot;Te++){const Gt=q.get(Te).context;Gt.index=Te,Gt.count=ot,Gt.ngForOf=this._ngForOf}O.forEachIdentityChange(Te=>{tt(q.get(Te.currentIndex),Te)})}static ngTemplateContextGuard(O,q){return!0}}return R.\u0275fac=function(O){return new(O||R)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},R.\u0275dir=u.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();function tt(R,z){R.context.$implicit=z.item}let Vt=(()=>{class R{constructor(O,q){this._viewContainer=O,this._context=new cn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){vr("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){vr("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,q){return!0}}return R.\u0275fac=function(O){return new(O||R)(u.Y36(u.s_b),u.Y36(u.Rgc))},R.\u0275dir=u.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class cn{constructor(){this.$implicit=null,this.ngIf=null}}function vr(R,z){if(z&&!z.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,u.AaK)(z)}'.`)}class Ir{constructor(z,O){this._viewContainerRef=z,this._templateRef=O,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(z){z&&!this._created?this.create():!z&&this._created&&this.destroy()}}let Xn=(()=>{class R{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(O){this._ngSwitch=O,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(O){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(O)}_matchCase(O){const q=O==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),q}_updateDefaultCases(O){if(this._defaultViews&&O!==this._defaultUsed){this._defaultUsed=O;for(let q=0;q<this._defaultViews.length;q++)this._defaultViews[q].enforceState(O)}}}return R.\u0275fac=function(O){return new(O||R)},R.\u0275dir=u.lG2({type:R,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),R})(),jn=(()=>{class R{constructor(O,q,Te){this.ngSwitch=Te,Te._addCase(),this._view=new Ir(O,q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return R.\u0275fac=function(O){return new(O||R)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Xn,9))},R.\u0275dir=u.lG2({type:R,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),R})(),qr=(()=>{class R{constructor(O,q,Te){Te._addDefault(new Ir(O,q))}}return R.\u0275fac=function(O){return new(O||R)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Xn,9))},R.\u0275dir=u.lG2({type:R,selectors:[["","ngSwitchDefault",""]]}),R})();class hr{createSubscription(z,O){return z.subscribe({next:O,error:q=>{throw q}})}dispose(z){z.unsubscribe()}onDestroy(z){z.unsubscribe()}}class ar{createSubscription(z,O){return z.then(O,q=>{throw q})}dispose(z){}onDestroy(z){}}const me=new ar,Me=new hr;let Be=(()=>{class R{constructor(O){this._ref=O,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(O){return this._obj?O!==this._obj?(this._dispose(),this.transform(O)):this._latestValue:(O&&this._subscribe(O),this._latestValue)}_subscribe(O){this._obj=O,this._strategy=this._selectStrategy(O),this._subscription=this._strategy.createSubscription(O,q=>this._updateLatestValue(O,q))}_selectStrategy(O){if((0,u.QGY)(O))return me;if((0,u.F4k)(O))return Me;throw function Br(R,z){return new u.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(O,q){O===this._obj&&(this._latestValue=q,this._ref.markForCheck())}}return R.\u0275fac=function(O){return new(O||R)(u.Y36(u.sBO,16))},R.\u0275pipe=u.Yjl({name:"async",type:R,pure:!1}),R})(),ji=(()=>{class R{}return R.\u0275fac=function(O){return new(O||R)},R.\u0275mod=u.oAB({type:R}),R.\u0275inj=u.cJS({}),R})();const ki="browser";function bn(R){return R===ki}function ui(R){return"server"===R}let Di=(()=>{class R{}return R.\u0275prov=(0,u.Yz7)({token:R,providedIn:"root",factory:()=>new Qr((0,u.LFG)(ue),window)}),R})();class Qr{constructor(z,O){this.document=z,this.window=O,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const O=function ci(R,z){const O=R.getElementById(z)||R.getElementsByName(z)[0];if(O)return O;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const q=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Te=q.currentNode;for(;Te;){const ot=Te.shadowRoot;if(ot){const Ct=ot.getElementById(z)||ot.querySelector(`[name="${z}"]`);if(Ct)return Ct}Te=q.nextNode()}}return null}(this.document,z);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=z)}}scrollToElement(z){const O=z.getBoundingClientRect(),q=O.left+this.window.pageXOffset,Te=O.top+this.window.pageYOffset,ot=this.offset();this.window.scrollTo(q-ot[0],Te-ot[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=Li(this.window.history)||Li(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch(z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(z){return!1}}}function Li(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class br{}},520:(Ie,re,D)=>{D.d(re,{eN:()=>He,JF:()=>rr,UA:()=>Ze});var u=D(9808),B=D(5e3),j=D(9646),te=D(8306),Q=D(4351),ce=D(9300),ue=D(4004);class le{}class ee{}class X{constructor(be){this.normalizedNames=new Map,this.lazyUpdate=null,be?this.lazyInit="string"==typeof be?()=>{this.headers=new Map,be.split("\n").forEach(Pe=>{const It=Pe.indexOf(":");if(It>0){const at=Pe.slice(0,It),bt=at.toLowerCase(),Ht=Pe.slice(It+1).trim();this.maybeSetNormalizedName(at,bt),this.headers.has(bt)?this.headers.get(bt).push(Ht):this.headers.set(bt,[Ht])}})}:()=>{this.headers=new Map,Object.keys(be).forEach(Pe=>{let It=be[Pe];const at=Pe.toLowerCase();"string"==typeof It&&(It=[It]),It.length>0&&(this.headers.set(at,It),this.maybeSetNormalizedName(Pe,at))})}:this.headers=new Map}has(be){return this.init(),this.headers.has(be.toLowerCase())}get(be){this.init();const Pe=this.headers.get(be.toLowerCase());return Pe&&Pe.length>0?Pe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(be){return this.init(),this.headers.get(be.toLowerCase())||null}append(be,Pe){return this.clone({name:be,value:Pe,op:"a"})}set(be,Pe){return this.clone({name:be,value:Pe,op:"s"})}delete(be,Pe){return this.clone({name:be,value:Pe,op:"d"})}maybeSetNormalizedName(be,Pe){this.normalizedNames.has(Pe)||this.normalizedNames.set(Pe,be)}init(){this.lazyInit&&(this.lazyInit instanceof X?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(be=>this.applyUpdate(be)),this.lazyUpdate=null))}copyFrom(be){be.init(),Array.from(be.headers.keys()).forEach(Pe=>{this.headers.set(Pe,be.headers.get(Pe)),this.normalizedNames.set(Pe,be.normalizedNames.get(Pe))})}clone(be){const Pe=new X;return Pe.lazyInit=this.lazyInit&&this.lazyInit instanceof X?this.lazyInit:this,Pe.lazyUpdate=(this.lazyUpdate||[]).concat([be]),Pe}applyUpdate(be){const Pe=be.name.toLowerCase();switch(be.op){case"a":case"s":let It=be.value;if("string"==typeof It&&(It=[It]),0===It.length)return;this.maybeSetNormalizedName(be.name,Pe);const at=("a"===be.op?this.headers.get(Pe):void 0)||[];at.push(...It),this.headers.set(Pe,at);break;case"d":const bt=be.value;if(bt){let Ht=this.headers.get(Pe);if(!Ht)return;Ht=Ht.filter(xn=>-1===bt.indexOf(xn)),0===Ht.length?(this.headers.delete(Pe),this.normalizedNames.delete(Pe)):this.headers.set(Pe,Ht)}else this.headers.delete(Pe),this.normalizedNames.delete(Pe)}}forEach(be){this.init(),Array.from(this.normalizedNames.keys()).forEach(Pe=>be(this.normalizedNames.get(Pe),this.headers.get(Pe)))}}class ie{encodeKey(be){return Qe(be)}encodeValue(be){return Qe(be)}decodeKey(be){return decodeURIComponent(be)}decodeValue(be){return decodeURIComponent(be)}}const et=/%(\d[a-f0-9])/gi,Ye={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Qe(dt){return encodeURIComponent(dt).replace(et,(be,Pe)=>{var It;return null!==(It=Ye[Pe])&&void 0!==It?It:be})}function nt(dt){return`${dt}`}class Ne{constructor(be={}){if(this.updates=null,this.cloneFrom=null,this.encoder=be.encoder||new ie,be.fromString){if(be.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function fe(dt,be){const Pe=new Map;return dt.length>0&&dt.replace(/^\?/,"").split("&").forEach(at=>{const bt=at.indexOf("="),[Ht,xn]=-1==bt?[be.decodeKey(at),""]:[be.decodeKey(at.slice(0,bt)),be.decodeValue(at.slice(bt+1))],en=Pe.get(Ht)||[];en.push(xn),Pe.set(Ht,en)}),Pe}(be.fromString,this.encoder)}else be.fromObject?(this.map=new Map,Object.keys(be.fromObject).forEach(Pe=>{const It=be.fromObject[Pe];this.map.set(Pe,Array.isArray(It)?It:[It])})):this.map=null}has(be){return this.init(),this.map.has(be)}get(be){this.init();const Pe=this.map.get(be);return Pe?Pe[0]:null}getAll(be){return this.init(),this.map.get(be)||null}keys(){return this.init(),Array.from(this.map.keys())}append(be,Pe){return this.clone({param:be,value:Pe,op:"a"})}appendAll(be){const Pe=[];return Object.keys(be).forEach(It=>{const at=be[It];Array.isArray(at)?at.forEach(bt=>{Pe.push({param:It,value:bt,op:"a"})}):Pe.push({param:It,value:at,op:"a"})}),this.clone(Pe)}set(be,Pe){return this.clone({param:be,value:Pe,op:"s"})}delete(be,Pe){return this.clone({param:be,value:Pe,op:"d"})}toString(){return this.init(),this.keys().map(be=>{const Pe=this.encoder.encodeKey(be);return this.map.get(be).map(It=>Pe+"="+this.encoder.encodeValue(It)).join("&")}).filter(be=>""!==be).join("&")}clone(be){const Pe=new Ne({encoder:this.encoder});return Pe.cloneFrom=this.cloneFrom||this,Pe.updates=(this.updates||[]).concat(be),Pe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(be=>this.map.set(be,this.cloneFrom.map.get(be))),this.updates.forEach(be=>{switch(be.op){case"a":case"s":const Pe=("a"===be.op?this.map.get(be.param):void 0)||[];Pe.push(nt(be.value)),this.map.set(be.param,Pe);break;case"d":if(void 0===be.value){this.map.delete(be.param);break}{let It=this.map.get(be.param)||[];const at=It.indexOf(nt(be.value));-1!==at&&It.splice(at,1),It.length>0?this.map.set(be.param,It):this.map.delete(be.param)}}}),this.cloneFrom=this.updates=null)}}class vt{constructor(){this.map=new Map}set(be,Pe){return this.map.set(be,Pe),this}get(be){return this.map.has(be)||this.map.set(be,be.defaultValue()),this.map.get(be)}delete(be){return this.map.delete(be),this}has(be){return this.map.has(be)}keys(){return this.map.keys()}}function ke(dt){return"undefined"!=typeof ArrayBuffer&&dt instanceof ArrayBuffer}function F(dt){return"undefined"!=typeof Blob&&dt instanceof Blob}function Ke(dt){return"undefined"!=typeof FormData&&dt instanceof FormData}class At{constructor(be,Pe,It,at){let bt;if(this.url=Pe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=be.toUpperCase(),function Tt(dt){switch(dt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||at?(this.body=void 0!==It?It:null,bt=at):bt=It,bt&&(this.reportProgress=!!bt.reportProgress,this.withCredentials=!!bt.withCredentials,bt.responseType&&(this.responseType=bt.responseType),bt.headers&&(this.headers=bt.headers),bt.context&&(this.context=bt.context),bt.params&&(this.params=bt.params)),this.headers||(this.headers=new X),this.context||(this.context=new vt),this.params){const Ht=this.params.toString();if(0===Ht.length)this.urlWithParams=Pe;else{const xn=Pe.indexOf("?");this.urlWithParams=Pe+(-1===xn?"?":xn<Pe.length-1?"&":"")+Ht}}else this.params=new Ne,this.urlWithParams=Pe}serializeBody(){return null===this.body?null:ke(this.body)||F(this.body)||Ke(this.body)||function ct(dt){return"undefined"!=typeof URLSearchParams&&dt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ne?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ke(this.body)?null:F(this.body)?this.body.type||null:ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ne?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(be={}){var Pe;const It=be.method||this.method,at=be.url||this.url,bt=be.responseType||this.responseType,Ht=void 0!==be.body?be.body:this.body,xn=void 0!==be.withCredentials?be.withCredentials:this.withCredentials,en=void 0!==be.reportProgress?be.reportProgress:this.reportProgress;let un=be.headers||this.headers,Dr=be.params||this.params;const cr=null!==(Pe=be.context)&&void 0!==Pe?Pe:this.context;return void 0!==be.setHeaders&&(un=Object.keys(be.setHeaders).reduce((Jn,Rt)=>Jn.set(Rt,be.setHeaders[Rt]),un)),be.setParams&&(Dr=Object.keys(be.setParams).reduce((Jn,Rt)=>Jn.set(Rt,be.setParams[Rt]),Dr)),new At(It,at,Ht,{params:Dr,headers:un,context:cr,reportProgress:en,responseType:bt,withCredentials:xn})}}var xe=(()=>((xe=xe||{})[xe.Sent=0]="Sent",xe[xe.UploadProgress=1]="UploadProgress",xe[xe.ResponseHeader=2]="ResponseHeader",xe[xe.DownloadProgress=3]="DownloadProgress",xe[xe.Response=4]="Response",xe[xe.User=5]="User",xe))();class ve{constructor(be,Pe=200,It="OK"){this.headers=be.headers||new X,this.status=void 0!==be.status?be.status:Pe,this.statusText=be.statusText||It,this.url=be.url||null,this.ok=this.status>=200&&this.status<300}}class ze extends ve{constructor(be={}){super(be),this.type=xe.ResponseHeader}clone(be={}){return new ze({headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class Fe extends ve{constructor(be={}){super(be),this.type=xe.Response,this.body=void 0!==be.body?be.body:null}clone(be={}){return new Fe({body:void 0!==be.body?be.body:this.body,headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class Ze extends ve{constructor(be){super(be,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${be.url||"(unknown url)"}`:`Http failure response for ${be.url||"(unknown url)"}: ${be.status} ${be.statusText}`,this.error=be.error||null}}function it(dt,be){return{body:be,headers:dt.headers,context:dt.context,observe:dt.observe,params:dt.params,reportProgress:dt.reportProgress,responseType:dt.responseType,withCredentials:dt.withCredentials}}let He=(()=>{class dt{constructor(Pe){this.handler=Pe}request(Pe,It,at={}){let bt;if(Pe instanceof At)bt=Pe;else{let en,un;en=at.headers instanceof X?at.headers:new X(at.headers),at.params&&(un=at.params instanceof Ne?at.params:new Ne({fromObject:at.params})),bt=new At(Pe,It,void 0!==at.body?at.body:null,{headers:en,context:at.context,params:un,reportProgress:at.reportProgress,responseType:at.responseType||"json",withCredentials:at.withCredentials})}const Ht=(0,j.of)(bt).pipe((0,Q.b)(en=>this.handler.handle(en)));if(Pe instanceof At||"events"===at.observe)return Ht;const xn=Ht.pipe((0,ce.h)(en=>en instanceof Fe));switch(at.observe||"body"){case"body":switch(bt.responseType){case"arraybuffer":return xn.pipe((0,ue.U)(en=>{if(null!==en.body&&!(en.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return en.body}));case"blob":return xn.pipe((0,ue.U)(en=>{if(null!==en.body&&!(en.body instanceof Blob))throw new Error("Response is not a Blob.");return en.body}));case"text":return xn.pipe((0,ue.U)(en=>{if(null!==en.body&&"string"!=typeof en.body)throw new Error("Response is not a string.");return en.body}));default:return xn.pipe((0,ue.U)(en=>en.body))}case"response":return xn;default:throw new Error(`Unreachable: unhandled observe type ${at.observe}}`)}}delete(Pe,It={}){return this.request("DELETE",Pe,It)}get(Pe,It={}){return this.request("GET",Pe,It)}head(Pe,It={}){return this.request("HEAD",Pe,It)}jsonp(Pe,It){return this.request("JSONP",Pe,{params:(new Ne).append(It,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Pe,It={}){return this.request("OPTIONS",Pe,It)}patch(Pe,It,at={}){return this.request("PATCH",Pe,it(at,It))}post(Pe,It,at={}){return this.request("POST",Pe,it(at,It))}put(Pe,It,at={}){return this.request("PUT",Pe,it(at,It))}}return dt.\u0275fac=function(Pe){return new(Pe||dt)(B.LFG(le))},dt.\u0275prov=B.Yz7({token:dt,factory:dt.\u0275fac}),dt})();class $t{constructor(be,Pe){this.next=be,this.interceptor=Pe}handle(be){return this.interceptor.intercept(be,this.next)}}const Mn=new B.OlP("HTTP_INTERCEPTORS");let Qn=(()=>{class dt{intercept(Pe,It){return It.handle(Pe)}}return dt.\u0275fac=function(Pe){return new(Pe||dt)},dt.\u0275prov=B.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const Et=/^\)\]\}',?\n/;let Nn=(()=>{class dt{constructor(Pe){this.xhrFactory=Pe}handle(Pe){if("JSONP"===Pe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new te.y(It=>{const at=this.xhrFactory.build();if(at.open(Pe.method,Pe.urlWithParams),Pe.withCredentials&&(at.withCredentials=!0),Pe.headers.forEach((Rt,kn)=>at.setRequestHeader(Rt,kn.join(","))),Pe.headers.has("Accept")||at.setRequestHeader("Accept","application/json, text/plain, */*"),!Pe.headers.has("Content-Type")){const Rt=Pe.detectContentTypeHeader();null!==Rt&&at.setRequestHeader("Content-Type",Rt)}if(Pe.responseType){const Rt=Pe.responseType.toLowerCase();at.responseType="json"!==Rt?Rt:"text"}const bt=Pe.serializeBody();let Ht=null;const xn=()=>{if(null!==Ht)return Ht;const Rt=at.statusText||"OK",kn=new X(at.getAllResponseHeaders()),yn=function ln(dt){return"responseURL"in dt&&dt.responseURL?dt.responseURL:/^X-Request-URL:/m.test(dt.getAllResponseHeaders())?dt.getResponseHeader("X-Request-URL"):null}(at)||Pe.url;return Ht=new ze({headers:kn,status:at.status,statusText:Rt,url:yn}),Ht},en=()=>{let{headers:Rt,status:kn,statusText:yn,url:Wt}=xn(),ft=null;204!==kn&&(ft=void 0===at.response?at.responseText:at.response),0===kn&&(kn=ft?200:0);let Zt=kn>=200&&kn<300;if("json"===Pe.responseType&&"string"==typeof ft){const on=ft;ft=ft.replace(Et,"");try{ft=""!==ft?JSON.parse(ft):null}catch(mn){ft=on,Zt&&(Zt=!1,ft={error:mn,text:ft})}}Zt?(It.next(new Fe({body:ft,headers:Rt,status:kn,statusText:yn,url:Wt||void 0})),It.complete()):It.error(new Ze({error:ft,headers:Rt,status:kn,statusText:yn,url:Wt||void 0}))},un=Rt=>{const{url:kn}=xn(),yn=new Ze({error:Rt,status:at.status||0,statusText:at.statusText||"Unknown Error",url:kn||void 0});It.error(yn)};let Dr=!1;const cr=Rt=>{Dr||(It.next(xn()),Dr=!0);let kn={type:xe.DownloadProgress,loaded:Rt.loaded};Rt.lengthComputable&&(kn.total=Rt.total),"text"===Pe.responseType&&!!at.responseText&&(kn.partialText=at.responseText),It.next(kn)},Jn=Rt=>{let kn={type:xe.UploadProgress,loaded:Rt.loaded};Rt.lengthComputable&&(kn.total=Rt.total),It.next(kn)};return at.addEventListener("load",en),at.addEventListener("error",un),at.addEventListener("timeout",un),at.addEventListener("abort",un),Pe.reportProgress&&(at.addEventListener("progress",cr),null!==bt&&at.upload&&at.upload.addEventListener("progress",Jn)),at.send(bt),It.next({type:xe.Sent}),()=>{at.removeEventListener("error",un),at.removeEventListener("abort",un),at.removeEventListener("load",en),at.removeEventListener("timeout",un),Pe.reportProgress&&(at.removeEventListener("progress",cr),null!==bt&&at.upload&&at.upload.removeEventListener("progress",Jn)),at.readyState!==at.DONE&&at.abort()}})}}return dt.\u0275fac=function(Pe){return new(Pe||dt)(B.LFG(u.JF))},dt.\u0275prov=B.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const zn=new B.OlP("XSRF_COOKIE_NAME"),_n=new B.OlP("XSRF_HEADER_NAME");class fn{}let Hn=(()=>{class dt{constructor(Pe,It,at){this.doc=Pe,this.platform=It,this.cookieName=at,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Pe=this.doc.cookie||"";return Pe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,u.Mx)(Pe,this.cookieName),this.lastCookieString=Pe),this.lastToken}}return dt.\u0275fac=function(Pe){return new(Pe||dt)(B.LFG(u.K0),B.LFG(B.Lbi),B.LFG(zn))},dt.\u0275prov=B.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),$n=(()=>{class dt{constructor(Pe,It){this.tokenService=Pe,this.headerName=It}intercept(Pe,It){const at=Pe.url.toLowerCase();if("GET"===Pe.method||"HEAD"===Pe.method||at.startsWith("http://")||at.startsWith("https://"))return It.handle(Pe);const bt=this.tokenService.getToken();return null!==bt&&!Pe.headers.has(this.headerName)&&(Pe=Pe.clone({headers:Pe.headers.set(this.headerName,bt)})),It.handle(Pe)}}return dt.\u0275fac=function(Pe){return new(Pe||dt)(B.LFG(fn),B.LFG(_n))},dt.\u0275prov=B.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),sr=(()=>{class dt{constructor(Pe,It){this.backend=Pe,this.injector=It,this.chain=null}handle(Pe){if(null===this.chain){const It=this.injector.get(Mn,[]);this.chain=It.reduceRight((at,bt)=>new $t(at,bt),this.backend)}return this.chain.handle(Pe)}}return dt.\u0275fac=function(Pe){return new(Pe||dt)(B.LFG(ee),B.LFG(B.zs3))},dt.\u0275prov=B.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),Rn=(()=>{class dt{static disable(){return{ngModule:dt,providers:[{provide:$n,useClass:Qn}]}}static withOptions(Pe={}){return{ngModule:dt,providers:[Pe.cookieName?{provide:zn,useValue:Pe.cookieName}:[],Pe.headerName?{provide:_n,useValue:Pe.headerName}:[]]}}}return dt.\u0275fac=function(Pe){return new(Pe||dt)},dt.\u0275mod=B.oAB({type:dt}),dt.\u0275inj=B.cJS({providers:[$n,{provide:Mn,useExisting:$n,multi:!0},{provide:fn,useClass:Hn},{provide:zn,useValue:"XSRF-TOKEN"},{provide:_n,useValue:"X-XSRF-TOKEN"}]}),dt})(),rr=(()=>{class dt{}return dt.\u0275fac=function(Pe){return new(Pe||dt)},dt.\u0275mod=B.oAB({type:dt}),dt.\u0275inj=B.cJS({providers:[He,{provide:le,useClass:sr},Nn,{provide:ee,useExisting:Nn}],imports:[[Rn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),dt})()},5e3:(Ie,re,D)=>{D.d(re,{deG:()=>pl,tb:()=>k_,AFp:()=>R_,ip1:()=>O_,CZH:()=>Mf,hGG:()=>hD,z2F:()=>Ff,sBO:()=>qC,Sil:()=>OC,_Vd:()=>jd,EJc:()=>SC,SBq:()=>Yc,qLn:()=>Xi,vpe:()=>Ba,tBr:()=>Wo,XFs:()=>qt,OlP:()=>Ii,zs3:()=>ga,ZZ4:()=>Hf,aQg:()=>$f,soG:()=>Rf,YKP:()=>Hm,h0i:()=>lc,PXZ:()=>HC,R0b:()=>va,FiY:()=>na,Lbi:()=>x_,g9A:()=>N_,n_E:()=>$d,Qsj:()=>w0,FYo:()=>Lm,JOm:()=>yt,q3G:()=>Si,tp0:()=>Do,Rgc:()=>Xc,dDg:()=>V_,q4F:()=>Vm,GfV:()=>Um,s_b:()=>Gd,ifc:()=>at,eFA:()=>H_,G48:()=>YC,Gpc:()=>ie,f3M:()=>xo,X6Q:()=>ZC,_c5:()=>dD,VLi:()=>VC,c2e:()=>F_,zSh:()=>Rh,wAp:()=>ir,vHH:()=>Qe,EiD:()=>eo,mCW:()=>ua,qzn:()=>Zo,JVY:()=>Qa,pB0:()=>Ru,eBb:()=>Js,L6k:()=>Kl,LAX:()=>Zl,cg1:()=>af,kL8:()=>am,yhl:()=>aa,dqk:()=>un,sIi:()=>jc,CqO:()=>pg,QGY:()=>Zh,F4k:()=>fg,RDi:()=>Li,AaK:()=>le,z3N:()=>Qs,qOj:()=>Fh,TTD:()=>xi,_Bn:()=>xm,xp6:()=>Ed,uIk:()=>Vh,Tol:()=>Fg,Gre:()=>Qg,ekj:()=>ef,Suo:()=>l_,Xpm:()=>Kt,lG2:()=>ye,Yz7:()=>ht,cJS:()=>We,oAB:()=>je,Yjl:()=>se,Y36:()=>$c,_UZ:()=>zh,GkF:()=>Kh,BQk:()=>Nd,ynx:()=>Pd,qZA:()=>Rd,TgZ:()=>Od,EpF:()=>hg,n5z:()=>ja,Ikx:()=>sf,LFG:()=>kr,$8M:()=>Ia,$Z:()=>dg,NdJ:()=>Yh,CRH:()=>u_,kcU:()=>Ds,O4$:()=>Ri,oxw:()=>_g,ALo:()=>Xm,lcZ:()=>e_,Hsn:()=>vg,F$t:()=>yg,Q6J:()=>Wh,DdM:()=>zm,VKq:()=>Km,iGM:()=>o_,MAs:()=>eg,CHM:()=>Os,oJD:()=>tu,LSH:()=>nu,Udp:()=>Xh,WFA:()=>qh,d8E:()=>of,YNc:()=>Xp,W1O:()=>f_,_uU:()=>$g,Oqu:()=>nf,hij:()=>kd,AsE:()=>rf,Gf:()=>a_});var u=D(7579),B=D(727),j=D(8306),te=D(6451),Q=D(3099);function ce(e){for(let t in e)if(e[t]===ce)return t;throw Error("Could not find renamed property on target object.")}function ue(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function le(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(le).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ee(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const X=ce({__forward_ref__:ce});function ie(e){return e.__forward_ref__=ie,e.toString=function(){return le(this())},e}function fe(e){return et(e)?e():e}function et(e){return"function"==typeof e&&e.hasOwnProperty(X)&&e.__forward_ref__===ie}class Qe extends Error{constructor(t,n){super(function nt(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Ne(e){return"string"==typeof e?e:null==e?"":String(e)}function Ve(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ne(e)}function F(e,t){const n=t?` in ${t}`:"";throw new Qe(-201,`No provider for ${Ve(e)} found${n}`)}function Ut(e,t){null==e&&function Bt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function ht(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function We(e){return{providers:e.providers||[],imports:e.imports||[]}}function Et(e){return ln(e,fn)||ln(e,$n)}function ln(e,t){return e.hasOwnProperty(t)?e[t]:null}function _n(e){return e&&(e.hasOwnProperty(Hn)||e.hasOwnProperty(sr))?e[Hn]:null}const fn=ce({\u0275prov:ce}),Hn=ce({\u0275inj:ce}),$n=ce({ngInjectableDef:ce}),sr=ce({ngInjectorDef:ce});var qt=(()=>((qt=qt||{})[qt.Default=0]="Default",qt[qt.Host=1]="Host",qt[qt.Self=2]="Self",qt[qt.SkipSelf=4]="SkipSelf",qt[qt.Optional=8]="Optional",qt))();let sn;function rr(e){const t=sn;return sn=e,t}function Mr(e,t,n){const r=Et(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&qt.Optional?null:void 0!==t?t:void F(le(e),"Injector")}function dt(e){return{toString:e}.toString()}var be=(()=>((be=be||{})[be.OnPush=0]="OnPush",be[be.Default=1]="Default",be))(),at=(()=>{return(e=at||(at={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",at;var e})();const bt="undefined"!=typeof globalThis&&globalThis,Ht="undefined"!=typeof window&&window,xn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,un=bt||"undefined"!=typeof global&&global||Ht||xn,Jn={},Rt=[],kn=ce({\u0275cmp:ce}),yn=ce({\u0275dir:ce}),Wt=ce({\u0275pipe:ce}),ft=ce({\u0275mod:ce}),Zt=ce({\u0275fac:ce}),on=ce({__NG_ELEMENT_ID__:ce});let mn=0;function Kt(e){return dt(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===be.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Rt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||at.Emulated,id:"c",styles:e.styles||Rt,_:null,setInput:null,schemas:e.schemas||null,tView:null},a=e.directives,d=e.features,g=e.pipes;return r.id+=mn++,r.inputs=Re(e.inputs,n),r.outputs=Re(e.outputs),d&&d.forEach(C=>C(r)),r.directiveDefs=a?()=>("function"==typeof a?a():a).map(de):null,r.pipeDefs=g?()=>("function"==typeof g?g():g).map(we):null,r})}function de(e){return Se(e)||function mt(e){return e[yn]||null}(e)}function we(e){return function Ft(e){return e[Wt]||null}(e)}const rt={};function je(e){return dt(()=>{const t={type:e.type,bootstrap:e.bootstrap||Rt,declarations:e.declarations||Rt,imports:e.imports||Rt,exports:e.exports||Rt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(rt[e.id]=e.type),t})}function Re(e,t){if(null==e)return Jn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let a=e[r],d=a;Array.isArray(a)&&(d=a[1],a=a[0]),n[a]=r,t&&(t[a]=d)}return n}const ye=Kt;function se(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Se(e){return e[kn]||null}function tn(e,t){const n=e[ft]||null;if(!n&&!0===t)throw new Error(`Type ${le(e)} does not have '\u0275mod' property.`);return n}function Xn(e){return Array.isArray(e)&&"object"==typeof e[1]}function jn(e){return Array.isArray(e)&&!0===e[1]}function qr(e){return 0!=(8&e.flags)}function Ci(e){return 2==(2&e.flags)}function bi(e){return 1==(1&e.flags)}function Wr(e){return null!==e.template}function Ss(e){return 0!=(512&e[2])}function li(e,t){return e.hasOwnProperty(Zt)?e[Zt]:null}class ns{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function xi(){return as}function as(e){return e.type.prototype.ngOnChanges&&(e.setInput=zs),ls}function ls(){const e=ki(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Jn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function zs(e,t,n,r){const a=ki(e)||function Mi(e,t){return e[ji]=t}(e,{previous:Jn,current:null}),d=a.current||(a.current={}),g=a.previous,C=this.declaredInputs[n],b=g[C];d[C]=new ns(b&&b.currentValue,t,g===Jn),e[r]=t}xi.ngInherit=!0;const ji="__ngSimpleChanges__";function ki(e){return e[ji]||null}let Qr;function Li(e){Qr=e}function ci(){return void 0!==Qr?Qr:"undefined"!=typeof document?document:void 0}function br(e){return!!e.listen}const R={createRenderer:(e,t)=>ci()};function O(e){for(;Array.isArray(e);)e=e[0];return e}function ot(e,t){return O(t[e])}function Ct(e,t){return O(t[e.index])}function Pr(e,t){return e.data[t]}function gr(e,t){return e[t]}function er(e,t){const n=t[e];return Xn(n)?n:n[0]}function pn(e){return 4==(4&e[2])}function Jr(e){return 128==(128&e[2])}function S(e,t){return null==t?null:e[t]}function w(e){e[18]=0}function W(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Le={lFrame:Cn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fs(){return Le.bindingsEnabled}function Ot(){return Le.lFrame.lView}function lr(){return Le.lFrame.tView}function Os(e){return Le.lFrame.contextLView=e,e[8]}function ii(){let e=so();for(;null!==e&&64===e.type;)e=e.parent;return e}function so(){return Le.lFrame.currentTNode}function us(e,t){const n=Le.lFrame;n.currentTNode=e,n.isParent=t}function po(){return Le.lFrame.isParent}function go(){Le.lFrame.isParent=!1}function Ps(){return Le.isInCheckNoChangesMode}function rs(e){Le.isInCheckNoChangesMode=e}function $i(){const e=Le.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function H(){return Le.lFrame.bindingIndex++}function p(e){const t=Le.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function $(e,t){const n=Le.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ee(t)}function Ee(e){Le.lFrame.currentDirectiveIndex=e}function Ce(e){const t=Le.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Je(){return Le.lFrame.currentQueryIndex}function Dt(e){Le.lFrame.currentQueryIndex=e}function rn(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function gn(e,t,n){if(n&qt.SkipSelf){let a=t,d=e;for(;!(a=a.parent,null!==a||n&qt.Host||(a=rn(d),null===a||(d=d[15],10&a.type))););if(null===a)return!1;t=a,e=d}const r=Le.lFrame=fr();return r.currentTNode=t,r.lView=e,!0}function On(e){const t=fr(),n=e[1];Le.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function fr(){const e=Le.lFrame,t=null===e?null:e.child;return null===t?Cn(e):t}function Cn(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ln(){const e=Le.lFrame;return Le.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Tr=Ln;function Gr(){const e=Ln();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wr(){return Le.lFrame.selectedIndex}function cs(e){Le.lFrame.selectedIndex=e}function Lr(){const e=Le.lFrame;return Pr(e.tView,e.selectedIndex)}function Ri(){Le.lFrame.currentNamespace="svg"}function Ds(){!function zi(){Le.lFrame.currentNamespace=null}()}function ei(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const d=e.data[n].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:C,ngAfterViewInit:b,ngAfterViewChecked:V,ngOnDestroy:G}=d;g&&(e.contentHooks||(e.contentHooks=[])).push(-n,g),C&&((e.contentHooks||(e.contentHooks=[])).push(n,C),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,C)),b&&(e.viewHooks||(e.viewHooks=[])).push(-n,b),V&&((e.viewHooks||(e.viewHooks=[])).push(n,V),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,V)),null!=G&&(e.destroyHooks||(e.destroyHooks=[])).push(n,G)}}function Ki(e,t,n){Sn(e,t,3,n)}function gs(e,t,n,r){(3&e[2])===n&&Sn(e,t,n,r)}function zt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Sn(e,t,n,r){const d=null!=r?r:-1,g=t.length-1;let C=0;for(let b=void 0!==r?65535&e[18]:0;b<g;b++)if("number"==typeof t[b+1]){if(C=t[b],null!=r&&C>=r)break}else t[b]<0&&(e[18]+=65536),(C<d||-1==d)&&(Vn(e,n,t,b),e[18]=(4294901760&e[18])+b+2),b++}function Vn(e,t,n,r){const a=n[r]<0,d=n[r+1],C=e[a?-n[r]:n[r]];if(a){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{d.call(C)}finally{}}}else try{d.call(C)}finally{}}class zr{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Er(e,t,n){const r=br(e);let a=0;for(;a<n.length;){const d=n[a];if("number"==typeof d){if(0!==d)break;a++;const g=n[a++],C=n[a++],b=n[a++];r?e.setAttribute(t,C,b,g):t.setAttributeNS(g,C,b)}else{const g=d,C=n[++a];Ns(g)?r&&e.setProperty(t,g,C):r?e.setAttribute(t,g,C):t.setAttribute(g,C),a++}}return a}function Zr(e){return 3===e||4===e||6===e}function Ns(e){return 64===e.charCodeAt(0)}function ao(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?n=a:0===n||lo(e,n,a,null,-1===n||2===n?t[++r]:null)}}return e}function lo(e,t,n,r,a){let d=0,g=e.length;if(-1===t)g=-1;else for(;d<e.length;){const C=e[d++];if("number"==typeof C){if(C===t){g=-1;break}if(C>t){g=d-1;break}}}for(;d<e.length;){const C=e[d];if("number"==typeof C)break;if(C===n){if(null===r)return void(null!==a&&(e[d+1]=a));if(r===e[d+1])return void(e[d+2]=a)}d++,null!==r&&d++,null!==a&&d++}-1!==g&&(e.splice(g,0,t),d=g+1),e.splice(d++,0,n),null!==r&&e.splice(d++,0,r),null!==a&&e.splice(d++,0,a)}function _o(e){return-1!==e}function xr(e){return 32767&e}function Ui(e,t){let n=function Ca(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let yo=!0;function Ts(e){const t=yo;return yo=e,t}let P=0;function Z(e,t){const n=Ae(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,he(r.data,e),he(t,null),he(r.blueprint,null));const a=_t(e,t),d=e.injectorIndex;if(_o(a)){const g=xr(a),C=Ui(a,t),b=C[1].data;for(let V=0;V<8;V++)t[d+V]=C[g+V]|b[g+V]}return t[d+8]=a,d}function he(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ae(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function _t(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,a=t;for(;null!==a;){const d=a[1],g=d.type;if(r=2===g?d.declTNode:1===g?a[6]:null,null===r)return-1;if(n++,a=a[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function dn(e,t,n){!function L(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(on)&&(r=n[on]),null==r&&(r=n[on]=P++);const a=255&r;t.data[e+(a>>5)]|=1<<a}(e,t,n)}function vn(e,t,n){if(n&qt.Optional)return e;F(t,"NodeInjector")}function Ur(e,t,n,r){if(n&qt.Optional&&void 0===r&&(r=null),0==(n&(qt.Self|qt.Host))){const a=e[9],d=rr(void 0);try{return a?a.get(t,r,n&qt.Optional):Mr(t,r,n&qt.Optional)}finally{rr(d)}}return vn(r,t,n)}function Ar(e,t,n,r=qt.Default,a){if(null!==e){const d=function Ta(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(on)?e[on]:void 0;return"number"==typeof t?t>=0?255&t:$s:t}(n);if("function"==typeof d){if(!gn(t,e,r))return r&qt.Host?vn(a,n,r):Ur(t,n,r,a);try{const g=d(r);if(null!=g||r&qt.Optional)return g;F(n)}finally{Tr()}}else if("number"==typeof d){let g=null,C=Ae(e,t),b=-1,V=r&qt.Host?t[16][6]:null;for((-1===C||r&qt.SkipSelf)&&(b=-1===C?_t(e,t):t[C+8],-1!==b&&fl(r,!1)?(g=t[1],C=xr(b),t=Ui(b,t)):C=-1);-1!==C;){const G=t[1];if(wo(d,C,G.data)){const ae=Da(C,t,n,g,r,V);if(ae!==Zi)return ae}b=t[C+8],-1!==b&&fl(r,t[1].data[C+8]===V)&&wo(d,C,t)?(g=G,C=xr(b),t=Ui(b,t)):C=-1}}}return Ur(t,n,r,a)}const Zi={};function $s(){return new Us(ii(),Ot())}function Da(e,t,n,r,a,d){const g=t[1],C=g.data[e+8],G=uo(C,g,n,null==r?Ci(C)&&yo:r!=g&&0!=(3&C.type),a&qt.Host&&d===C);return null!==G?Yi(t,g,G,C):Zi}function uo(e,t,n,r,a){const d=e.providerIndexes,g=t.data,C=1048575&d,b=e.directiveStart,G=d>>20,Oe=a?C+G:e.directiveEnd;for(let Xe=r?C:C+G;Xe<Oe;Xe++){const St=g[Xe];if(Xe<b&&n===St||Xe>=b&&St.type===n)return Xe}if(a){const Xe=g[b];if(Xe&&Wr(Xe)&&Xe.type===n)return b}return null}function Yi(e,t,n,r){let a=e[n];const d=t.data;if(function ms(e){return e instanceof zr}(a)){const g=a;g.resolving&&function vt(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${e}${n}`)}(Ve(d[n]));const C=Ts(g.canSeeViewProviders);g.resolving=!0;const b=g.injectImpl?rr(g.injectImpl):null;gn(e,r,qt.Default);try{a=e[n]=g.factory(void 0,d,e,r),t.firstCreatePass&&n>=r.directiveStart&&function is(e,t,n){const{ngOnChanges:r,ngOnInit:a,ngDoCheck:d}=t.type.prototype;if(r){const g=as(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,g),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,g)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),d&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,d),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,d))}(n,d[n],t)}finally{null!==b&&rr(b),Ts(C),g.resolving=!1,Tr()}}return a}function wo(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function fl(e,t){return!(e&qt.Self||e&qt.Host&&t)}class Us{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ar(this._tNode,this._lView,t,r,n)}}function ja(e){return dt(()=>{const t=e.prototype.constructor,n=t[Zt]||Ao(t),r=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==r;){const d=a[Zt]||Ao(a);if(d&&d!==n)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function Ao(e){return et(e)?()=>{const t=Ao(fe(e));return t&&t()}:li(e)}function Ia(e){return function mr(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let a=0;for(;a<r;){const d=n[a];if(Zr(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<r&&"string"==typeof n[a];)a++;else{if(d===t)return n[a+1];a+=2}}}return null}(ii(),e)}const So="__parameters__";function $o(e,t,n){return dt(()=>{const r=function Ha(e){return function(...n){if(e){const r=e(...n);for(const a in r)this[a]=r[a]}}}(t);function a(...d){if(this instanceof a)return r.apply(this,d),this;const g=new a(...d);return C.annotation=g,C;function C(b,V,G){const ae=b.hasOwnProperty(So)?b[So]:Object.defineProperty(b,So,{value:[]})[So];for(;ae.length<=G;)ae.push(null);return(ae[G]=ae[G]||[]).push(g),b}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}class Ii{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ht({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const pl=new Ii("AnalyzeForEntryComponents");function qi(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),qi(r,t)):t!==e&&t.push(r)}return t}function _s(e,t){e.forEach(n=>Array.isArray(n)?_s(n,t):t(n))}function wa(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function co(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Is(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function ys(e,t,n){let r=Ro(e,t);return r>=0?e[1|r]=n:(r=~r,function Du(e,t,n,r){let a=e.length;if(a==t)e.push(n,r);else if(1===a)e.push(r,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Ka(e,t){const n=Ro(e,t);if(n>=0)return e[1|n]}function Ro(e,t){return function Za(e,t,n){let r=0,a=e.length>>n;for(;a!==r;){const d=r+(a-r>>1),g=e[d<<n];if(t===g)return d<<n;g>t?a=d:r=d+1}return~(a<<n)}(e,t,1)}const K={},pe="__NG_DI_FLAG__",qe="ngTempTokenPath",jt=/\n/gm,tr="__source",nr=ce({provide:String,useValue:ce});let Sr;function ur(e){const t=Sr;return Sr=e,t}function ss(e,t=qt.Default){if(void 0===Sr)throw new Qe(203,"");return null===Sr?Mr(e,void 0,t):Sr.get(e,t&qt.Optional?null:void 0,t)}function kr(e,t=qt.Default){return(function Rn(){return sn}()||ss)(fe(e),t)}const xo=kr;function Co(e){const t=[];for(let n=0;n<e.length;n++){const r=fe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Qe(900,"");let a,d=qt.Default;for(let g=0;g<r.length;g++){const C=r[g],b=Vs(C);"number"==typeof b?-1===b?a=C.token:d|=b:a=C}t.push(kr(a,d))}else t.push(kr(r))}return t}function bs(e,t){return e[pe]=t,e.prototype[pe]=t,e}function Vs(e){return e[pe]}const Wo=bs($o("Inject",e=>({token:e})),-1),na=bs($o("Optional"),8),Do=bs($o("SkipSelf"),4);let Dl,Tl;function ia(e){var t;return(null===(t=function Sa(){if(void 0===Dl&&(Dl=null,un.trustedTypes))try{Dl=un.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Dl}())||void 0===t?void 0:t.createHTML(e))||e}function Ou(e){var t;return(null===(t=function zl(){if(void 0===Tl&&(Tl=null,un.trustedTypes))try{Tl=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Tl}())||void 0===t?void 0:t.createHTML(e))||e}class Ko{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class fc extends Ko{getTypeName(){return"HTML"}}class qa extends Ko{getTypeName(){return"Style"}}class To extends Ko{getTypeName(){return"Script"}}class oa extends Ko{getTypeName(){return"URL"}}class pc extends Ko{getTypeName(){return"ResourceURL"}}function Qs(e){return e instanceof Ko?e.changingThisBreaksApplicationSecurity:e}function Zo(e,t){const n=aa(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function aa(e){return e instanceof Ko&&e.getTypeName()||null}function Qa(e){return new fc(e)}function Kl(e){return new qa(e)}function Js(e){return new To(e)}function Zl(e){return new oa(e)}function Ru(e){return new pc(e)}class Yl{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(ia(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class Xs{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=ia(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=ia(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let a=n.length-1;0<a;a--){const g=n.item(a).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&t.removeAttribute(g)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const la=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_c=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ua(e){return(e=String(e)).match(la)||e.match(_c)?e:"unsafe:"+e}function Ws(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Fo(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const ql=Ws("area,br,col,hr,img,wbr"),Xa=Ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nu=Ws("rp,rt"),tl=Fo(ql,Fo(Xa,Ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fo(Nu,Ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fo(Nu,Xa)),Ql=Ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jl=Ws("srcset"),bl=Fo(Ql,Jl,Ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yc=Ws("script,style,template");class vc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let a=this.checkClobberedElement(n,n.nextSibling);if(a){n=a;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!tl.hasOwnProperty(n))return this.sanitizedSomething=!0,!yc.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let a=0;a<r.length;a++){const d=r.item(a),g=d.name,C=g.toLowerCase();if(!bl.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let b=d.value;Ql[C]&&(b=ua(b)),Jl[C]&&(e=b,b=(e=String(e)).split(",").map(t=>ua(t.trim())).join(", ")),this.buf.push(" ",g,'="',Fu(b),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();tl.hasOwnProperty(n)&&!ql.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Fu(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const nl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wl=/([^\#-~ |!])/g;function Fu(e){return e.replace(/&/g,"&amp;").replace(nl,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(wl,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lo;function eo(e,t){let n=null;try{Lo=Lo||function Ja(e){const t=new Xs(e);return function gc(){try{return!!(new window.DOMParser).parseFromString(ia(""),"text/html")}catch(e){return!1}}()?new Yl(t):t}(e);let r=t?String(t):"";n=Lo.getInertBodyElement(r);let a=5,d=r;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,r=d,d=n.innerHTML,n=Lo.getInertBodyElement(r)}while(r!==d);return ia((new vc).sanitizeChildren(Xl(n)||n))}finally{if(n){const r=Xl(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Xl(e){return"content"in e&&function eu(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Si=(()=>((Si=Si||{})[Si.NONE=0]="NONE",Si[Si.HTML=1]="HTML",Si[Si.STYLE=2]="STYLE",Si[Si.SCRIPT=3]="SCRIPT",Si[Si.URL=4]="URL",Si[Si.RESOURCE_URL=5]="RESOURCE_URL",Si))();function tu(e){const t=ca();return t?Ou(t.sanitize(Si.HTML,e)||""):Zo(e,"HTML")?Ou(Qs(e)):eo(ci(),Ne(e))}function nu(e){const t=ca();return t?t.sanitize(Si.URL,e)||"":Zo(e,"URL")?Qs(e):ua(Ne(e))}function ca(){const e=Ot();return e&&e[12]}const Ml="__ngContext__";function Es(e,t){e[Ml]=t}function Pa(e){const t=function Qi(e){return e[Ml]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function su(e){return e.ngOriginalError}function Uu(e,...t){e.error(...t)}class Xi{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=function Tc(e){return e&&e.ngErrorLogger||Uu}(t);r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&su(t);for(;n&&su(n);)n=su(n);return n||null}}const Ic=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(un))();function h(e){return e instanceof Function?e():e}var yt=(()=>((yt=yt||{})[yt.Important=1]="Important",yt[yt.DashCase=2]="DashCase",yt))();function Tn(e,t){return undefined(e,t)}function Ni(e){const t=e[3];return jn(t)?t[3]:t}function Nl(e){return lu(e[13])}function al(e){return lu(e[4])}function lu(e){for(;null!==e&&!jn(e);)e=e[4];return e}function Qo(e,t,n,r,a){if(null!=r){let d,g=!1;jn(r)?d=r:Xn(r)&&(g=!0,r=r[0]);const C=O(r);0===e&&null!==n?null==a?th(t,n,C):ul(t,n,C,a||null,!0):1===e&&null!==n?ul(t,n,C,a||null,!0):2===e?function hd(e,t,n){const r=ju(e,t);r&&function rh(e,t,n,r){br(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,C,g):3===e&&t.destroyNode(C),null!=d&&function oh(e,t,n,r,a){const d=n[7];d!==O(n)&&Qo(t,e,r,d,a);for(let C=10;C<n.length;C++){const b=n[C];du(b[1],b,e,t,r,d)}}(t,e,d,n,a)}}function ll(e,t,n){if(br(e))return e.createElement(t,n);{const r=null!==n?function Di(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?e.createElement(t):e.createElementNS(r,t)}}function sd(e,t){const n=e[9],r=n.indexOf(t),a=t[3];1024&t[2]&&(t[2]&=-1025,W(a,-1)),n.splice(r,1)}function Mc(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const a=r[17];null!==a&&a!==e&&sd(a,r),t>0&&(e[n-1][4]=r[4]);const d=co(e,10+t);!function Ac(e,t){du(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const g=d[19];null!==g&&g.detachView(d[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function od(e,t){if(!(256&t[2])){const n=t[11];br(n)&&n.destroyNode&&du(e,t,n,3,null,null),function Qd(e){let t=e[13];if(!t)return Oc(e[1],e);for(;t;){let n=null;if(Xn(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Xn(t)&&Oc(t[1],t),t=t[3];null===t&&(t=e),Xn(t)&&Oc(t[1],t),n=t&&t[4]}t=n}}(t)}}function Oc(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function eh(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const a=t[n[r]];if(!(a instanceof zr)){const d=n[r+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const C=a[d[g]],b=d[g+1];try{b.call(C)}finally{}}else try{d.call(a)}finally{}}}}(e,t),function Xd(e,t){const n=e.cleanup,r=t[7];let a=-1;if(null!==n)for(let d=0;d<n.length-1;d+=2)if("string"==typeof n[d]){const g=n[d+1],C="function"==typeof g?g(t):O(t[g]),b=r[a=n[d+2]],V=n[d+3];"boolean"==typeof V?C.removeEventListener(n[d],b,V):V>=0?r[a=V]():r[a=-V].unsubscribe(),d+=2}else{const g=r[a=n[d+1]];n[d].call(g)}if(null!==r){for(let d=a+1;d<r.length;d++)r[d]();t[7]=null}}(e,t),1===t[1].type&&br(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&jn(t[3])){n!==t[3]&&sd(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function ad(e,t,n){return function ld(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const a=e.data[r.directiveStart].encapsulation;if(a===at.None||a===at.Emulated)return null}return Ct(r,n)}(e,t.parent,n)}function ul(e,t,n,r,a){br(e)?e.insertBefore(t,n,r,a):t.insertBefore(n,r,a)}function th(e,t,n){br(e)?e.appendChild(t,n):t.appendChild(n)}function nh(e,t,n,r,a){null!==r?ul(e,t,n,r,a):th(e,t,n)}function ju(e,t){return br(e)?e.parentNode(t):t.parentNode}function Rc(e,t,n){return cd(e,t,n)}let cd=function ud(e,t,n){return 40&e.type?Ct(e,n):null};function Uo(e,t,n,r){const a=ad(e,r,t),d=t[11],C=Rc(r.parent||t[6],r,t);if(null!=a)if(Array.isArray(n))for(let b=0;b<n.length;b++)nh(d,a,n[b],C,!1);else nh(d,a,n,C,!1)}function ds(e,t){if(null!==t){const n=t.type;if(3&n)return Ct(t,e);if(4&n)return cl(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ds(e,r);{const a=e[t.index];return jn(a)?cl(-1,a):O(a)}}if(32&n)return Tn(t,e)()||O(e[t.index]);{const r=no(e,t);return null!==r?Array.isArray(r)?r[0]:ds(Ni(e[16]),r):ds(e,t.next)}}return null}function no(e,t){return null!==t?e[16][6].projection[t.projection]:null}function cl(e,t){const n=10+e+1;if(n<t.length){const r=t[n],a=r[1].firstChild;if(null!==a)return ds(r,a)}return t[7]}function Nc(e,t,n,r,a,d,g){for(;null!=n;){const C=r[n.index],b=n.type;if(g&&0===t&&(C&&Es(O(C),r),n.flags|=4),64!=(64&n.flags))if(8&b)Nc(e,t,n.child,r,a,d,!1),Qo(t,e,a,C,d);else if(32&b){const V=Tn(n,r);let G;for(;G=V();)Qo(t,e,a,G,d);Qo(t,e,a,C,d)}else 16&b?fa(e,t,r,n,a,d):Qo(t,e,a,C,d);n=g?n.projectionNext:n.next}}function du(e,t,n,r,a,d){Nc(n,r,e.firstChild,t,a,d,!1)}function fa(e,t,n,r,a,d){const g=n[16],b=g[6].projection[r.projection];if(Array.isArray(b))for(let V=0;V<b.length;V++)Qo(t,e,a,b[V],d);else Nc(e,t,b,g[3],a,d,!0)}function fd(e,t,n){br(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function xc(e,t,n){br(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function kc(e,t,n){let r=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=t.length;if(a+d===r||e.charCodeAt(a+d)<=32)return a}n=a+1}}const Fc="ng-template";function pd(e,t,n){let r=0;for(;r<e.length;){let a=e[r++];if(n&&"class"===a){if(a=e[r],-1!==kc(a.toLowerCase(),t,0))return!0}else if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===t)return!0;return!1}}return!1}function kl(e){return 4===e.type&&e.value!==Fc}function uh(e,t,n){return t===(4!==e.type||n?e.value:Fc)}function gd(e,t,n){let r=4;const a=e.attrs||[],d=function _d(e){for(let t=0;t<e.length;t++)if(Zr(e[t]))return t;return e.length}(a);let g=!1;for(let C=0;C<t.length;C++){const b=t[C];if("number"!=typeof b){if(!g)if(4&r){if(r=2|1&r,""!==b&&!uh(e,b,n)||""===b&&1===t.length){if(Vo(r))return!1;g=!0}}else{const V=8&r?b:t[++C];if(8&r&&null!==e.attrs){if(!pd(e.attrs,V,n)){if(Vo(r))return!1;g=!0}continue}const ae=ch(8&r?"class":b,a,kl(e),n);if(-1===ae){if(Vo(r))return!1;g=!0;continue}if(""!==V){let Oe;Oe=ae>d?"":a[ae+1].toLowerCase();const Xe=8&r?Oe:null;if(Xe&&-1!==kc(Xe,V,0)||2&r&&V!==Oe){if(Vo(r))return!1;g=!0}}}}else{if(!g&&!Vo(r)&&!Vo(b))return!1;if(g&&Vo(b))continue;g=!1,r=b|1&r}}return Vo(r)||g}function Vo(e){return 0==(1&e)}function ch(e,t,n,r){if(null===t)return-1;let a=0;if(r||!n){let d=!1;for(;a<t.length;){const g=t[a];if(g===e)return a;if(3===g||6===g)d=!0;else{if(1===g||2===g){let C=t[++a];for(;"string"==typeof C;)C=t[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=d?1:2}return-1}return function dh(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Lc(e,t,n=!1){for(let r=0;r<t.length;r++)if(gd(e,t[r],n))return!0;return!1}function hh(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let a=0;a<e.length;a++)if(e[a]!==r[a])continue e;return!0}}return!1}function yd(e,t){return e?":not("+t.trim()+")":t}function vd(e){let t=e[0],n=1,r=2,a="",d=!1;for(;n<e.length;){let g=e[n];if("string"==typeof g)if(2&r){const C=e[++n];a+="["+g+(C.length>0?'="'+C+'"':"")+"]"}else 8&r?a+="."+g:4&r&&(a+=" "+g);else""!==a&&!Vo(g)&&(t+=yd(d,a),a=""),r=g,d=d||!Vo(r);n++}return""!==a&&(t+=yd(d,a)),t}const _r={};function Ed(e){Cd(lr(),Ot(),wr()+e,Ps())}function Cd(e,t,n,r){if(!r)if(3==(3&t[2])){const d=e.preOrderCheckHooks;null!==d&&Ki(t,d,n)}else{const d=e.preOrderHooks;null!==d&&gs(t,d,0,n)}cs(n)}function hu(e,t){return e<<17|t<<2}function Bo(e){return e>>17&32767}function s(e){return 2|e}function c(e){return(131068&e)>>2}function m(e,t){return-131069&e|t<<2}function x(e){return 1|e}function sp(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const a=n[r],d=n[r+1];if(-1!==d){const g=e.data[d];Dt(a),g.contentQueries(2,t[d],d)}}}function Uc(e,t,n,r,a,d,g,C,b,V){const G=t.blueprint.slice();return G[0]=a,G[2]=140|r,w(G),G[3]=G[15]=e,G[8]=n,G[10]=g||e&&e[10],G[11]=C||e&&e[11],G[12]=b||e&&e[12]||null,G[9]=V||e&&e[9]||null,G[6]=d,G[16]=2==t.type?e[16]:G,G}function Hu(e,t,n,r,a){let d=e.data[t];if(null===d)d=function Eh(e,t,n,r,a){const d=so(),g=po(),b=e.data[t]=function py(e,t,n,r,a,d){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,n,t,r,a);return null===e.firstChild&&(e.firstChild=b),null!==d&&(g?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b)),b}(e,t,n,r,a),function _(){return Le.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=n,d.value=r,d.attrs=a;const g=function js(){const e=Le.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return us(d,!0),d}function $u(e,t,n,r){if(0===n)return-1;const a=t.length;for(let d=0;d<n;d++)t.push(r),e.blueprint.push(r),e.data.push(null);return a}function Vc(e,t,n){On(t);try{const r=e.viewQuery;null!==r&&Mh(1,r,n);const a=e.template;null!==a&&op(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&sp(e,t),e.staticViewQueries&&Mh(2,e.viewQuery,n);const d=e.components;null!==d&&function dy(e,t){for(let n=0;n<t.length;n++)Py(e,t[n])}(t,d)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Gr()}}function Wu(e,t,n,r){const a=t[2];if(256==(256&a))return;On(t);const d=Ps();try{w(t),function Ls(e){return Le.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&op(e,t,n,2,r);const g=3==(3&a);if(!d)if(g){const V=e.preOrderCheckHooks;null!==V&&Ki(t,V,null)}else{const V=e.preOrderHooks;null!==V&&gs(t,V,0,null),zt(t,0)}if(function Oy(e){for(let t=Nl(e);null!==t;t=al(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const a=n[r],d=a[3];0==(1024&a[2])&&W(d,1),a[2]|=1024}}}(t),function My(e){for(let t=Nl(e);null!==t;t=al(t))for(let n=10;n<t.length;n++){const r=t[n],a=r[1];Jr(r)&&Wu(a,r,a.template,r[8])}}(t),null!==e.contentQueries&&sp(e,t),!d)if(g){const V=e.contentCheckHooks;null!==V&&Ki(t,V)}else{const V=e.contentHooks;null!==V&&gs(t,V,1),zt(t,1)}!function uy(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const a=n[r];if(a<0)cs(~a);else{const d=a,g=n[++r],C=n[++r];$(g,d),C(2,t[d])}}}finally{cs(-1)}}(e,t);const C=e.components;null!==C&&function cy(e,t){for(let n=0;n<t.length;n++)Ry(e,t[n])}(t,C);const b=e.viewQuery;if(null!==b&&Mh(2,b,r),!d)if(g){const V=e.viewCheckHooks;null!==V&&Ki(t,V)}else{const V=e.viewHooks;null!==V&&gs(t,V,2),zt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),d||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,W(t[3],-1))}finally{Gr()}}function hy(e,t,n,r){const a=t[10],d=!Ps(),g=pn(t);try{d&&!g&&a.begin&&a.begin(),g&&Vc(e,t,r),Wu(e,t,n,r)}finally{d&&!g&&a.end&&a.end()}}function op(e,t,n,r,a){const d=wr(),g=2&r;try{cs(-1),g&&t.length>20&&Cd(e,t,20,Ps()),n(r,a)}finally{cs(d)}}function ap(e,t,n){if(qr(t)){const a=t.directiveEnd;for(let d=t.directiveStart;d<a;d++){const g=e.data[d];g.contentQueries&&g.contentQueries(1,n[d],d)}}}function Ch(e,t,n){!Fs()||(function Cy(e,t,n,r){const a=n.directiveStart,d=n.directiveEnd;e.firstCreatePass||Z(n,t),Es(r,t);const g=n.initialInputs;for(let C=a;C<d;C++){const b=e.data[C],V=Wr(b);V&&wy(t,n,b);const G=Yi(t,e,C,n);Es(G,t),null!==g&&Ay(0,C-a,G,b,0,g),V&&(er(n.index,t)[8]=G)}}(e,t,n,Ct(n,t)),128==(128&n.flags)&&function Dy(e,t,n){const r=n.directiveStart,a=n.directiveEnd,g=n.index,C=function ne(){return Le.lFrame.currentDirectiveIndex}();try{cs(g);for(let b=r;b<a;b++){const V=e.data[b],G=t[b];Ee(b),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&gp(V,G)}}finally{cs(-1),Ee(C)}}(e,t,n))}function Dh(e,t,n=Ct){const r=t.localNames;if(null!==r){let a=t.index+1;for(let d=0;d<r.length;d+=2){const g=r[d+1],C=-1===g?n(t,e):e[g];e[a++]=C}}}function lp(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Id(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Id(e,t,n,r,a,d,g,C,b,V){const G=20+r,ae=G+a,Oe=function fy(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:_r);return n}(G,ae),Xe="function"==typeof V?V():V;return Oe[1]={type:e,blueprint:Oe,template:n,queries:null,viewQuery:C,declTNode:t,data:Oe.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:b,consts:Xe,incompleteFirstPass:!1}}function dp(e,t,n,r){const a=Cp(t);null===n?a.push(r):(a.push(n),e.firstCreatePass&&Dp(e).push(r,a.length-1))}function hp(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const a=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,a):n[r]=[t,a]}return n}function jo(e,t,n,r,a,d,g,C){const b=Ct(t,n);let G,V=t.inputs;!C&&null!=V&&(G=V[r])?(bp(e,n,G,r,a),Ci(t)&&function _y(e,t){const n=er(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function my(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),a=null!=g?g(a,t.value||"",r):a,br(d)?d.setProperty(b,r,a):Ns(r)||(b.setProperty?b.setProperty(r,a):b[r]=a))}function Th(e,t,n,r){let a=!1;if(Fs()){const d=function Ty(e,t,n){const r=e.directiveRegistry;let a=null;if(r)for(let d=0;d<r.length;d++){const g=r[d];Lc(n,g.selectors,!1)&&(a||(a=[]),dn(Z(n,t),e,g.type),Wr(g)?(mp(e,n),a.unshift(g)):a.push(g))}return a}(e,t,n),g=null===r?null:{"":-1};if(null!==d){a=!0,_p(n,e.data.length,d.length);for(let G=0;G<d.length;G++){const ae=d[G];ae.providersResolver&&ae.providersResolver(ae)}let C=!1,b=!1,V=$u(e,t,d.length,null);for(let G=0;G<d.length;G++){const ae=d[G];n.mergedAttrs=ao(n.mergedAttrs,ae.hostAttrs),yp(e,n,t,V,ae),by(V,ae,g),null!==ae.contentQueries&&(n.flags|=8),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(n.flags|=128);const Oe=ae.type.prototype;!C&&(Oe.ngOnChanges||Oe.ngOnInit||Oe.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),C=!0),!b&&(Oe.ngOnChanges||Oe.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),b=!0),V++}!function gy(e,t){const r=t.directiveEnd,a=e.data,d=t.attrs,g=[];let C=null,b=null;for(let V=t.directiveStart;V<r;V++){const G=a[V],ae=G.inputs,Oe=null===d||kl(t)?null:Sy(ae,d);g.push(Oe),C=hp(ae,V,C),b=hp(G.outputs,V,b)}null!==C&&(C.hasOwnProperty("class")&&(t.flags|=16),C.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=g,t.inputs=C,t.outputs=b}(e,n)}g&&function Iy(e,t,n){if(t){const r=e.localNames=[];for(let a=0;a<t.length;a+=2){const d=n[t[a+1]];if(null==d)throw new Qe(-301,!1);r.push(t[a],d)}}}(n,r,g)}return n.mergedAttrs=ao(n.mergedAttrs,n.attrs),a}function pp(e,t,n,r,a,d){const g=d.hostBindings;if(g){let C=e.hostBindingOpCodes;null===C&&(C=e.hostBindingOpCodes=[]);const b=~t.index;(function Ey(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(C)!=b&&C.push(b),C.push(r,a,g)}}function gp(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function mp(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function by(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Wr(t)&&(n[""]=e)}}function _p(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function yp(e,t,n,r,a){e.data[r]=a;const d=a.factory||(a.factory=li(a.type)),g=new zr(d,Wr(a),null);e.blueprint[r]=g,n[r]=g,pp(e,t,0,r,$u(e,n,a.hostVars,_r),a)}function wy(e,t,n){const r=Ct(t,e),a=lp(n),d=e[10],g=bd(e,Uc(e,a,null,n.onPush?64:16,r,t,d,d.createRenderer(r,n),null,null));e[t.index]=g}function Fa(e,t,n,r,a,d){const g=Ct(e,t);!function Ih(e,t,n,r,a,d,g){if(null==d)br(e)?e.removeAttribute(t,a,n):t.removeAttribute(a);else{const C=null==g?Ne(d):g(d,r||"",a);br(e)?e.setAttribute(t,a,C,n):n?t.setAttributeNS(n,a,C):t.setAttribute(a,C)}}(t[11],g,d,e.value,n,r,a)}function Ay(e,t,n,r,a,d){const g=d[t];if(null!==g){const C=r.setInput;for(let b=0;b<g.length;){const V=g[b++],G=g[b++],ae=g[b++];null!==C?r.setInput(n,ae,V,G):n[G]=ae}}}function Sy(e,t){let n=null,r=0;for(;r<t.length;){const a=t[r];if(0!==a)if(5!==a){if("number"==typeof a)break;e.hasOwnProperty(a)&&(null===n&&(n=[]),n.push(a,e[a],t[r+1])),r+=2}else r+=2;else r+=4}return n}function vp(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Ry(e,t){const n=er(t,e);if(Jr(n)){const r=n[1];80&n[2]?Wu(r,n,r.template,n[8]):n[5]>0&&bh(n)}}function bh(e){for(let r=Nl(e);null!==r;r=al(r))for(let a=10;a<r.length;a++){const d=r[a];if(1024&d[2]){const g=d[1];Wu(g,d,g.template,d[8])}else d[5]>0&&bh(d)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const a=er(n[r],e);Jr(a)&&a[5]>0&&bh(a)}}function Py(e,t){const n=er(t,e),r=n[1];(function Ny(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Vc(r,n,n[8])}function bd(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function wh(e){for(;e;){e[2]|=64;const t=Ni(e);if(Ss(e)&&!t)return e;e=t}return null}function Sh(e,t,n){const r=t[10];r.begin&&r.begin();try{Wu(e,t,e.template,n)}catch(a){throw Ip(t,a),a}finally{r.end&&r.end()}}function Ep(e){!function Ah(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Pa(n),a=r[1];hy(a,r,a.template,n)}}(e[8])}function Mh(e,t,n){Dt(0),t(e,n)}const Ly=(()=>Promise.resolve(null))();function Cp(e){return e[7]||(e[7]=[])}function Dp(e){return e.cleanup||(e.cleanup=[])}function Tp(e,t,n){return(null===e||Wr(e))&&(n=function q(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function Ip(e,t){const n=e[9],r=n?n.get(Xi,null):null;r&&r.handleError(t)}function bp(e,t,n,r,a){for(let d=0;d<n.length;){const g=n[d++],C=n[d++],b=t[g],V=e.data[g];null!==V.setInput?V.setInput(b,a,r,C):b[C]=a}}function hl(e,t,n){const r=ot(t,e);!function xl(e,t,n){br(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function wd(e,t,n){let r=n?e.styles:null,a=n?e.classes:null,d=0;if(null!==t)for(let g=0;g<t.length;g++){const C=t[g];"number"==typeof C?d=C:1==d?a=ee(a,C):2==d&&(r=ee(r,C+": "+t[++g]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=a:e.classesWithoutHost=a}const Oh=new Ii("INJECTOR",-1);class wp{get(t,n=K){if(n===K){const r=new Error(`NullInjectorError: No provider for ${le(t)}!`);throw r.name="NullInjectorError",r}return n}}const Rh=new Ii("Set Injector scope."),Bc={},By={};let Ph;function Ap(){return void 0===Ph&&(Ph=new wp),Ph}function Sp(e,t=null,n=null,r){const a=Mp(e,t,n,r);return a._resolveInjectorDefTypes(),a}function Mp(e,t=null,n=null,r){return new jy(e,n,t||Ap(),r)}class jy{constructor(t,n,r,a=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];n&&_s(n,C=>this.processProvider(C,t,n)),_s([t],C=>this.processInjectorType(C,[],d)),this.records.set(Oh,Gu(void 0,this));const g=this.records.get(Rh);this.scope=null!=g?g.value:null,this.source=a||("object"==typeof t?null:le(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=K,r=qt.Default){this.assertNotDestroyed();const a=ur(this),d=rr(void 0);try{if(!(r&qt.SkipSelf)){let C=this.records.get(t);if(void 0===C){const b=function Yy(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ii}(t)&&Et(t);C=b&&this.injectableDefInScope(b)?Gu(Nh(t),Bc):null,this.records.set(t,C)}if(null!=C)return this.hydrate(t,C)}return(r&qt.Self?Ap():this.parent).get(t,n=r&qt.Optional&&n===K?null:n)}catch(g){if("NullInjectorError"===g.name){if((g[qe]=g[qe]||[]).unshift(le(t)),a)throw g;return function ko(e,t,n,r){const a=e[qe];throw t[tr]&&a.unshift(t[tr]),e.message=function yl(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let a=le(t);if(Array.isArray(t))a=t.map(le).join(" -> ");else if("object"==typeof t){let d=[];for(let g in t)if(t.hasOwnProperty(g)){let C=t[g];d.push(g+":"+("string"==typeof C?JSON.stringify(C):le(C)))}a=`{${d.join(", ")}}`}return`${n}${r?"("+r+")":""}[${a}]: ${e.replace(jt,"\n  ")}`}("\n"+e.message,a,n,r),e.ngTokenPath=a,e[qe]=null,e}(g,t,"R3InjectorError",this.source)}throw g}finally{rr(d),ur(a)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,a)=>t.push(le(a))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processInjectorType(t,n,r){if(!(t=fe(t)))return!1;let a=_n(t);const d=null==a&&t.ngModule||void 0,g=void 0===d?t:d,C=-1!==r.indexOf(g);if(void 0!==d&&(a=_n(d)),null==a)return!1;if(null!=a.imports&&!C){let G;r.push(g);try{_s(a.imports,ae=>{this.processInjectorType(ae,n,r)&&(void 0===G&&(G=[]),G.push(ae))})}finally{}if(void 0!==G)for(let ae=0;ae<G.length;ae++){const{ngModule:Oe,providers:Xe}=G[ae];_s(Xe,St=>this.processProvider(St,Oe,Xe||Rt))}}this.injectorDefTypes.add(g);const b=li(g)||(()=>new g);this.records.set(g,Gu(b,Bc));const V=a.providers;if(null!=V&&!C){const G=t;_s(V,ae=>this.processProvider(ae,G,V))}return void 0!==d&&void 0!==t.providers}processProvider(t,n,r){let a=zu(t=fe(t))?t:fe(t&&t.provide);const d=function $y(e,t,n){return Rp(e)?Gu(void 0,e.useValue):Gu(Op(e),Bc)}(t);if(zu(t)||!0!==t.multi)this.records.get(a);else{let g=this.records.get(a);g||(g=Gu(void 0,Bc,!0),g.factory=()=>Co(g.multi),this.records.set(a,g)),a=t,g.multi.push(t)}this.records.set(a,d)}hydrate(t,n){return n.value===Bc&&(n.value=By,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Zy(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=fe(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Nh(e){const t=Et(e),n=null!==t?t.factory:li(e);if(null!==n)return n;if(e instanceof Ii)throw new Qe(204,!1);if(e instanceof Function)return function Hy(e){const t=e.length;if(t>0)throw Is(t,"?"),new Qe(204,!1);const n=function Nn(e){const t=e&&(e[fn]||e[$n]);if(t){const n=function zn(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Qe(204,!1)}function Op(e,t,n){let r;if(zu(e)){const a=fe(e);return li(a)||Nh(a)}if(Rp(e))r=()=>fe(e.useValue);else if(function Gy(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Co(e.deps||[]));else if(function Wy(e){return!(!e||!e.useExisting)}(e))r=()=>kr(fe(e.useExisting));else{const a=fe(e&&(e.useClass||e.provide));if(!function Ky(e){return!!e.deps}(e))return li(a)||Nh(a);r=()=>new a(...Co(e.deps))}return r}function Gu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Rp(e){return null!==e&&"object"==typeof e&&nr in e}function zu(e){return"function"==typeof e}let ga=(()=>{class e{static create(n,r){var a;if(Array.isArray(n))return Sp({name:""},r,n,"");{const d=null!==(a=n.name)&&void 0!==a?a:"";return Sp({name:d},n.parent,n.providers,d)}}}return e.THROW_IF_NOT_FOUND=K,e.NULL=new wp,e.\u0275prov=ht({token:e,providedIn:"any",factory:()=>kr(Oh)}),e.__NG_ELEMENT_ID__=-1,e})();function rv(e,t){ei(Pa(e)[1],ii())}function Fh(e){let t=function $p(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let a;if(Wr(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Qe(903,"");a=t.\u0275dir}if(a){if(n){r.push(a);const g=e;g.inputs=Lh(e.inputs),g.declaredInputs=Lh(e.declaredInputs),g.outputs=Lh(e.outputs);const C=a.hostBindings;C&&av(e,C);const b=a.viewQuery,V=a.contentQueries;if(b&&sv(e,b),V&&ov(e,V),ue(e.inputs,a.inputs),ue(e.declaredInputs,a.declaredInputs),ue(e.outputs,a.outputs),Wr(a)&&a.data.animation){const G=e.data;G.animation=(G.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let g=0;g<d.length;g++){const C=d[g];C&&C.ngInherit&&C(e),C===Fh&&(n=!1)}}t=Object.getPrototypeOf(t)}!function iv(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const a=e[r];a.hostVars=t+=a.hostVars,a.hostAttrs=ao(a.hostAttrs,n=ao(n,a.hostAttrs))}}(r)}function Lh(e){return e===Jn?{}:e===Rt?[]:e}function sv(e,t){const n=e.viewQuery;e.viewQuery=n?(r,a)=>{t(r,a),n(r,a)}:t}function ov(e,t){const n=e.contentQueries;e.contentQueries=n?(r,a,d)=>{t(r,a,d),n(r,a,d)}:t}function av(e,t){const n=e.hostBindings;e.hostBindings=n?(r,a)=>{t(r,a),n(r,a)}:t}let Ad=null;function Ku(){if(!Ad){const e=un.Symbol;if(e&&e.iterator)Ad=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ad=r)}}}return Ad}function jc(e){return!!Uh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ku()in e)}function Uh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function La(e,t,n){return e[t]=n}function ro(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Vh(e,t,n,r){const a=Ot();return ro(a,H(),t)&&(lr(),Fa(Lr(),a,e,t,n,r)),Vh}function Yu(e,t,n,r){return ro(e,H(),n)?t+Ne(n)+r:_r}function qu(e,t,n,r,a,d){const C=function fu(e,t,n,r){const a=ro(e,t,n);return ro(e,t+1,r)||a}(e,function Gi(){return Le.lFrame.bindingIndex}(),n,a);return p(2),C?t+Ne(n)+r+Ne(a)+d:_r}function Xp(e,t,n,r,a,d,g,C){const b=Ot(),V=lr(),G=e+20,ae=V.firstCreatePass?function pv(e,t,n,r,a,d,g,C,b){const V=t.consts,G=Hu(t,e,4,g||null,S(V,C));Th(t,n,G,S(V,b)),ei(t,G);const ae=G.tViews=Id(2,G,r,a,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,V);return null!==t.queries&&(t.queries.template(t,G),ae.queries=t.queries.embeddedTView(G)),G}(G,V,b,t,n,r,a,d,g):V.data[G];us(ae,!1);const Oe=b[11].createComment("");Uo(V,b,Oe,ae),Es(Oe,b),bd(b,b[G]=vp(Oe,b,Oe,ae)),bi(ae)&&Ch(V,b,ae),null!=g&&Dh(b,ae,C)}function eg(e){return gr(function Rs(){return Le.lFrame.contextLView}(),20+e)}function $c(e,t=qt.Default){const n=Ot();return null===n?kr(e,t):Ar(ii(),n,fe(e),t)}function dg(){throw new Error("invalid")}function Wh(e,t,n){const r=Ot();return ro(r,H(),t)&&jo(lr(),Lr(),r,e,t,r[11],n,!1),Wh}function Gh(e,t,n,r,a){const g=a?"class":"style";bp(e,n,t.inputs[g],g,r)}function Od(e,t,n,r){const a=Ot(),d=lr(),g=20+e,C=a[11],b=a[g]=ll(C,t,function Ks(){return Le.lFrame.currentNamespace}()),V=d.firstCreatePass?function kv(e,t,n,r,a,d,g){const C=t.consts,V=Hu(t,e,2,a,S(C,d));return Th(t,n,V,S(C,g)),null!==V.attrs&&wd(V,V.attrs,!1),null!==V.mergedAttrs&&wd(V,V.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,V),V}(g,d,a,0,t,n,r):d.data[g];us(V,!0);const G=V.mergedAttrs;null!==G&&Er(C,b,G);const ae=V.classes;null!==ae&&xc(C,b,ae);const Oe=V.styles;return null!==Oe&&fd(C,b,Oe),64!=(64&V.flags)&&Uo(d,a,b,V),0===function nn(){return Le.lFrame.elementDepthCount}()&&Es(b,a),function Ti(){Le.lFrame.elementDepthCount++}(),bi(V)&&(Ch(d,a,V),ap(d,V,a)),null!==r&&Dh(a,V),Od}function Rd(){let e=ii();po()?go():(e=e.parent,us(e,!1));const t=e;!function _i(){Le.lFrame.elementDepthCount--}();const n=lr();return n.firstCreatePass&&(ei(n,e),qr(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function oo(e){return 0!=(16&e.flags)}(t)&&Gh(n,t,Ot(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Hs(e){return 0!=(32&e.flags)}(t)&&Gh(n,t,Ot(),t.stylesWithoutHost,!1),Rd}function zh(e,t,n,r){return Od(e,t,n,r),Rd(),zh}function Pd(e,t,n){const r=Ot(),a=lr(),d=e+20,g=a.firstCreatePass?function Fv(e,t,n,r,a){const d=t.consts,g=S(d,r),C=Hu(t,e,8,"ng-container",g);return null!==g&&wd(C,g,!0),Th(t,n,C,S(d,a)),null!==t.queries&&t.queries.elementStart(t,C),C}(d,a,r,t,n):a.data[d];us(g,!0);const C=r[d]=r[11].createComment("");return Uo(a,r,C,g),Es(C,r),bi(g)&&(Ch(a,r,g),ap(a,g,r)),null!=n&&Dh(r,g),Pd}function Nd(){let e=ii();const t=lr();return po()?go():(e=e.parent,us(e,!1)),t.firstCreatePass&&(ei(t,e),qr(e)&&t.queries.elementEnd(e)),Nd}function Kh(e,t,n){return Pd(e,t,n),Nd(),Kh}function hg(){return Ot()}function Zh(e){return!!e&&"function"==typeof e.then}function fg(e){return!!e&&"function"==typeof e.subscribe}const pg=fg;function Yh(e,t,n,r){const a=Ot(),d=lr(),g=ii();return gg(d,a,a[11],g,e,t,!!n,r),Yh}function qh(e,t){const n=ii(),r=Ot(),a=lr();return gg(a,r,Tp(Ce(a.data),n,r),n,e,t,!1),qh}function gg(e,t,n,r,a,d,g,C){const b=bi(r),G=e.firstCreatePass&&Dp(e),ae=t[8],Oe=Cp(t);let Xe=!0;if(3&r.type||C){const an=Ct(r,t),wn=C?C(an):an,Nt=Oe.length,qn=C?$r=>C(O($r[r.index])):r.index;if(br(n)){let $r=null;if(!C&&b&&($r=function Lv(e,t,n,r){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const g=a[d];if(g===n&&a[d+1]===r){const C=t[7],b=a[d+2];return C.length>b?C[b]:null}"string"==typeof g&&(d+=2)}return null}(e,t,a,r.index)),null!==$r)($r.__ngLastListenerFn__||$r).__ngNextListenerFn__=d,$r.__ngLastListenerFn__=d,Xe=!1;else{d=Qh(r,t,ae,d,!1);const vi=n.listen(wn,a,d);Oe.push(d,vi),G&&G.push(a,qn,Nt,Nt+1)}}else d=Qh(r,t,ae,d,!0),wn.addEventListener(a,d,g),Oe.push(d),G&&G.push(a,qn,Nt,g)}else d=Qh(r,t,ae,d,!1);const St=r.outputs;let Yt;if(Xe&&null!==St&&(Yt=St[a])){const an=Yt.length;if(an)for(let wn=0;wn<an;wn+=2){const Ho=t[Yt[wn]][Yt[wn+1]].subscribe(d),mu=Oe.length;Oe.push(d,Ho),G&&G.push(a,r.index,mu,-(mu+1))}}}function mg(e,t,n,r){try{return!1!==n(r)}catch(a){return Ip(e,a),!1}}function Qh(e,t,n,r,a){return function d(g){if(g===Function)return r;const C=2&e.flags?er(e.index,t):t;0==(32&t[2])&&wh(C);let b=mg(t,0,r,g),V=d.__ngNextListenerFn__;for(;V;)b=mg(t,0,V,g)&&b,V=V.__ngNextListenerFn__;return a&&!1===b&&(g.preventDefault(),g.returnValue=!1),b}}function _g(e=1){return function Ai(e){return(Le.lFrame.contextLView=function Oi(e,t){for(;e>0;)t=t[15],e--;return t}(e,Le.lFrame.contextLView))[8]}(e)}function Uv(e,t){let n=null;const r=function md(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let a=0;a<t.length;a++){const d=t[a];if("*"!==d){if(null===r?Lc(e,d,!0):hh(r,d))return a}else n=a}return n}function yg(e){const t=Ot()[16][6];if(!t.projection){const r=t.projection=Is(e?e.length:1,null),a=r.slice();let d=t.child;for(;null!==d;){const g=e?Uv(d,e):0;null!==g&&(a[g]?a[g].projectionNext=d:r[g]=d,a[g]=d),d=d.next}}}function vg(e,t=0,n){const r=Ot(),a=lr(),d=Hu(a,20+e,16,null,n||null);null===d.projection&&(d.projection=t),go(),64!=(64&d.flags)&&function sh(e,t,n){fa(t[11],0,t,n,ad(e,n,t),Rc(n.parent||t[6],n,t))}(a,r,d)}function Mg(e,t,n,r,a){const d=e[n+1],g=null===t;let C=r?Bo(d):c(d),b=!1;for(;0!==C&&(!1===b||g);){const G=e[C+1];jv(e[C],t)&&(b=!0,e[C+1]=r?x(G):s(G)),C=r?Bo(G):c(G)}b&&(e[n+1]=r?s(d):x(d))}function jv(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ro(e,t)>=0}const ks={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Og(e){return e.substring(ks.key,ks.keyEnd)}function Rg(e,t){const n=ks.textEnd;return n===t?-1:(t=ks.keyEnd=function Gv(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ks.key=t,n),ic(e,t,n))}function ic(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Xh(e,t,n){return _a(e,t,n,!1),Xh}function ef(e,t){return _a(e,t,null,!0),ef}function Fg(e){ya(ys,Va,e,!0)}function Va(e,t){for(let n=function $v(e){return function Ng(e){ks.key=0,ks.keyEnd=0,ks.value=0,ks.valueEnd=0,ks.textEnd=e.length}(e),Rg(e,ic(e,0,ks.textEnd))}(t);n>=0;n=Rg(t,n))ys(e,Og(t),!0)}function _a(e,t,n,r){const a=Ot(),d=lr(),g=p(2);d.firstUpdatePass&&Ug(d,e,g,r),t!==_r&&ro(a,g,t)&&Bg(d,d.data[wr()],a,a[11],e,a[g+1]=function tE(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=le(Qs(e)))),e}(t,n),r,g)}function ya(e,t,n,r){const a=lr(),d=p(2);a.firstUpdatePass&&Ug(a,null,d,r);const g=Ot();if(n!==_r&&ro(g,d,n)){const C=a.data[wr()];if(Hg(C,r)&&!Lg(a,d)){let b=r?C.classesWithoutHost:C.stylesWithoutHost;null!==b&&(n=ee(b,n||"")),Gh(a,C,g,n,r)}else!function eE(e,t,n,r,a,d,g,C){a===_r&&(a=Rt);let b=0,V=0,G=0<a.length?a[0]:null,ae=0<d.length?d[0]:null;for(;null!==G||null!==ae;){const Oe=b<a.length?a[b+1]:void 0,Xe=V<d.length?d[V+1]:void 0;let Yt,St=null;G===ae?(b+=2,V+=2,Oe!==Xe&&(St=ae,Yt=Xe)):null===ae||null!==G&&G<ae?(b+=2,St=G):(V+=2,St=ae,Yt=Xe),null!==St&&Bg(e,t,n,r,St,Yt,g,C),G=b<a.length?a[b]:null,ae=V<d.length?d[V]:null}}(a,C,g,g[11],g[d+1],g[d+1]=function Xv(e,t,n){if(null==n||""===n)return Rt;const r=[],a=Qs(n);if(Array.isArray(a))for(let d=0;d<a.length;d++)e(r,a[d],!0);else if("object"==typeof a)for(const d in a)a.hasOwnProperty(d)&&e(r,d,a[d]);else"string"==typeof a&&t(r,a);return r}(e,t,n),r,d)}}function Lg(e,t){return t>=e.expandoStartIndex}function Ug(e,t,n,r){const a=e.data;if(null===a[n+1]){const d=a[wr()],g=Lg(e,n);Hg(d,r)&&null===t&&!g&&(t=!1),t=function Yv(e,t,n,r){const a=Ce(e);let d=r?t.residualClasses:t.residualStyles;if(null===a)0===(r?t.classBindings:t.styleBindings)&&(n=Wc(n=tf(null,e,t,n,r),t.attrs,r),d=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==a)if(n=tf(a,e,t,n,r),null===d){let b=function qv(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==c(r))return e[Bo(r)]}(e,t,r);void 0!==b&&Array.isArray(b)&&(b=tf(null,e,t,b[1],r),b=Wc(b,t.attrs,r),function Qv(e,t,n,r){e[Bo(n?t.classBindings:t.styleBindings)]=r}(e,t,r,b))}else d=function Jv(e,t,n){let r;const a=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<a;d++)r=Wc(r,e[d].hostAttrs,n);return Wc(r,t.attrs,n)}(e,t,r)}return void 0!==d&&(r?t.residualClasses=d:t.residualStyles=d),n}(a,d,t,r),function Vv(e,t,n,r,a,d){let g=d?t.classBindings:t.styleBindings,C=Bo(g),b=c(g);e[r]=n;let G,V=!1;if(Array.isArray(n)){const ae=n;G=ae[1],(null===G||Ro(ae,G)>0)&&(V=!0)}else G=n;if(a)if(0!==b){const Oe=Bo(e[C+1]);e[r+1]=hu(Oe,C),0!==Oe&&(e[Oe+1]=m(e[Oe+1],r)),e[C+1]=function i(e,t){return 131071&e|t<<17}(e[C+1],r)}else e[r+1]=hu(C,0),0!==C&&(e[C+1]=m(e[C+1],r)),C=r;else e[r+1]=hu(b,0),0===C?C=r:e[b+1]=m(e[b+1],r),b=r;V&&(e[r+1]=s(e[r+1])),Mg(e,G,r,!0),Mg(e,G,r,!1),function Bv(e,t,n,r,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&Ro(d,t)>=0&&(n[r+1]=x(n[r+1]))}(t,G,e,r,d),g=hu(C,b),d?t.classBindings=g:t.styleBindings=g}(a,d,t,n,g,r)}}function tf(e,t,n,r,a){let d=null;const g=n.directiveEnd;let C=n.directiveStylingLast;for(-1===C?C=n.directiveStart:C++;C<g&&(d=t[C],r=Wc(r,d.hostAttrs,a),d!==e);)C++;return null!==e&&(n.directiveStylingLast=C),r}function Wc(e,t,n){const r=n?1:2;let a=-1;if(null!==t)for(let d=0;d<t.length;d++){const g=t[d];"number"==typeof g?a=g:a===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ys(e,g,!!n||t[++d]))}return void 0===e?null:e}function Bg(e,t,n,r,a,d,g,C){if(!(3&t.type))return;const b=e.data,V=b[C+1];xd(function T(e){return 1==(1&e)}(V)?jg(b,t,n,a,c(V),g):void 0)||(xd(d)||function o(e){return 2==(2&e)}(V)&&(d=jg(b,null,n,a,C,g)),function ah(e,t,n,r,a){const d=br(e);if(t)a?d?e.addClass(n,r):n.classList.add(r):d?e.removeClass(n,r):n.classList.remove(r);else{let g=-1===r.indexOf("-")?void 0:yt.DashCase;if(null==a)d?e.removeStyle(n,r,g):n.style.removeProperty(r);else{const C="string"==typeof a&&a.endsWith("!important");C&&(a=a.slice(0,-10),g|=yt.Important),d?e.setStyle(n,r,a,g):n.style.setProperty(r,a,C?"important":"")}}}(r,g,ot(wr(),n),a,d))}function jg(e,t,n,r,a,d){const g=null===t;let C;for(;a>0;){const b=e[a],V=Array.isArray(b),G=V?b[1]:b,ae=null===G;let Oe=n[a+1];Oe===_r&&(Oe=ae?Rt:void 0);let Xe=ae?Ka(Oe,r):G===r?Oe:void 0;if(V&&!xd(Xe)&&(Xe=Ka(b,r)),xd(Xe)&&(C=Xe,g))return C;const St=e[a+1];a=g?Bo(St):c(St)}if(null!==t){let b=d?t.residualClasses:t.residualStyles;null!=b&&(C=Ka(b,r))}return C}function xd(e){return void 0!==e}function Hg(e,t){return 0!=(e.flags&(t?16:32))}function $g(e,t=""){const n=Ot(),r=lr(),a=e+20,d=r.firstCreatePass?Hu(r,a,1,t,null):r.data[a],g=n[a]=function ka(e,t){return br(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Uo(r,n,g,d),us(d,!1)}function nf(e){return kd("",e,""),nf}function kd(e,t,n){const r=Ot(),a=Yu(r,e,t,n);return a!==_r&&hl(r,wr(),a),kd}function rf(e,t,n,r,a){const d=Ot(),g=qu(d,e,t,n,r,a);return g!==_r&&hl(d,wr(),g),rf}function Qg(e,t,n){ya(ys,Va,Yu(Ot(),e,t,n),!0)}function sf(e,t,n){const r=Ot();return ro(r,H(),t)&&jo(lr(),Lr(),r,e,t,r[11],n,!0),sf}function of(e,t,n){const r=Ot();if(ro(r,H(),t)){const d=lr(),g=Lr();jo(d,g,r,e,t,Tp(Ce(d.data),g,r),n,!0)}return of}const pu=void 0;var EE=["en",[["a","p"],["AM","PM"],pu],[["AM","PM"],pu,pu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pu,"{1} 'at' {0}",pu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vE(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let sc={};function af(e){const t=function CE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=lm(t);if(n)return n;const r=t.split("-")[0];if(n=lm(r),n)return n;if("en"===r)return EE;throw new Error(`Missing locale data for the locale "${e}".`)}function am(e){return af(e)[ir.PluralCase]}function lm(e){return e in sc||(sc[e]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[e]),sc[e]}var ir=(()=>((ir=ir||{})[ir.LocaleId=0]="LocaleId",ir[ir.DayPeriodsFormat=1]="DayPeriodsFormat",ir[ir.DayPeriodsStandalone=2]="DayPeriodsStandalone",ir[ir.DaysFormat=3]="DaysFormat",ir[ir.DaysStandalone=4]="DaysStandalone",ir[ir.MonthsFormat=5]="MonthsFormat",ir[ir.MonthsStandalone=6]="MonthsStandalone",ir[ir.Eras=7]="Eras",ir[ir.FirstDayOfWeek=8]="FirstDayOfWeek",ir[ir.WeekendRange=9]="WeekendRange",ir[ir.DateFormat=10]="DateFormat",ir[ir.TimeFormat=11]="TimeFormat",ir[ir.DateTimeFormat=12]="DateTimeFormat",ir[ir.NumberSymbols=13]="NumberSymbols",ir[ir.NumberFormats=14]="NumberFormats",ir[ir.CurrencyCode=15]="CurrencyCode",ir[ir.CurrencySymbol=16]="CurrencySymbol",ir[ir.CurrencyName=17]="CurrencyName",ir[ir.Currencies=18]="Currencies",ir[ir.Directionality=19]="Directionality",ir[ir.PluralCase=20]="PluralCase",ir[ir.ExtraData=21]="ExtraData",ir))();const Fd="en-US";let um=Fd;function cf(e,t,n,r,a){if(e=fe(e),Array.isArray(e))for(let d=0;d<e.length;d++)cf(e[d],t,n,r,a);else{const d=lr(),g=Ot();let C=zu(e)?e:fe(e.provide),b=Op(e);const V=ii(),G=1048575&V.providerIndexes,ae=V.directiveStart,Oe=V.providerIndexes>>20;if(zu(e)||!e.multi){const Xe=new zr(b,a,$c),St=hf(C,t,a?G:G+Oe,ae);-1===St?(dn(Z(V,g),d,C),df(d,e,t.length),t.push(C),V.directiveStart++,V.directiveEnd++,a&&(V.providerIndexes+=1048576),n.push(Xe),g.push(Xe)):(n[St]=Xe,g[St]=Xe)}else{const Xe=hf(C,t,G+Oe,ae),St=hf(C,t,G,G+Oe),Yt=Xe>=0&&n[Xe],an=St>=0&&n[St];if(a&&!an||!a&&!Yt){dn(Z(V,g),d,C);const wn=function E0(e,t,n,r,a){const d=new zr(e,n,$c);return d.multi=[],d.index=t,d.componentProviders=0,Nm(d,a,r&&!n),d}(a?v0:y0,n.length,a,r,b);!a&&an&&(n[St].providerFactory=wn),df(d,e,t.length,0),t.push(C),V.directiveStart++,V.directiveEnd++,a&&(V.providerIndexes+=1048576),n.push(wn),g.push(wn)}else df(d,e,Xe>-1?Xe:St,Nm(n[a?St:Xe],b,!a&&r));!a&&r&&an&&n[St].componentProviders++}}}function df(e,t,n,r){const a=zu(t),d=function zy(e){return!!e.useClass}(t);if(a||d){const b=(d?fe(t.useClass):t).prototype.ngOnDestroy;if(b){const V=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const G=V.indexOf(n);-1===G?V.push(n,[r,b]):V[G+1].push(r,b)}else V.push(n,b)}}}function Nm(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function hf(e,t,n,r){for(let a=n;a<r;a++)if(t[a]===e)return a;return-1}function y0(e,t,n,r){return ff(this.multi,[])}function v0(e,t,n,r){const a=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,C=Yi(n,n[1],this.providerFactory.index,r);d=C.slice(0,g),ff(a,d);for(let b=g;b<C.length;b++)d.push(C[b])}else d=[],ff(a,d);return d}function ff(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function xm(e,t=[]){return n=>{n.providersResolver=(r,a)=>function _0(e,t,n){const r=lr();if(r.firstCreatePass){const a=Wr(e);cf(n,r.data,r.blueprint,a,!0),cf(t,r.data,r.blueprint,a,!1)}}(r,a?a(e):e,t)}}class km{}class T0{resolveComponentFactory(t){throw function D0(e){const t=Error(`No component factory found for ${le(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let jd=(()=>{class e{}return e.NULL=new T0,e})();function I0(){return ac(ii(),Ot())}function ac(e,t){return new Yc(Ct(e,t))}let Yc=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=I0,e})();function b0(e){return e instanceof Yc?e.nativeElement:e}class Lm{}let w0=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function S0(){const e=Ot(),n=er(ii().index,e);return function A0(e){return e[11]}(Xn(n)?n:e)}(),e})(),M0=(()=>{class e{}return e.\u0275prov=ht({token:e,providedIn:"root",factory:()=>null}),e})();class Um{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Vm=new Um("13.2.6"),pf={};function Hd(e,t,n,r,a=!1){for(;null!==n;){const d=t[n.index];if(null!==d&&r.push(O(d)),jn(d))for(let C=10;C<d.length;C++){const b=d[C],V=b[1].firstChild;null!==V&&Hd(b[1],b,V,r)}const g=n.type;if(8&g)Hd(e,t,n.child,r);else if(32&g){const C=Tn(n,t);let b;for(;b=C();)r.push(b)}else if(16&g){const C=no(t,n);if(Array.isArray(C))r.push(...C);else{const b=Ni(t[16]);Hd(b[1],b,C,r,!0)}}n=a?n.projectionNext:n.next}return r}class qc{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Hd(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(jn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Mc(t,r),co(n,r))}this._attachedToViewContainer=!1}od(this._lView[1],this._lView)}onDestroy(t){dp(this._lView[1],this._lView,null,t)}markForCheck(){wh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Sh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ky(e,t,n){rs(!0);try{Sh(e,t,n)}finally{rs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sc(e,t){du(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Qe(902,"");this._appRef=t}}class O0 extends qc{constructor(t){super(t),this._view=t}detectChanges(){Ep(this._view)}checkNoChanges(){!function Fy(e){rs(!0);try{Ep(e)}finally{rs(!1)}}(this._view)}get context(){return null}}class Bm extends jd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Se(t);return new gf(n,this.ngModule)}}function jm(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class gf extends km{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function fh(e){return e.map(vd).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return jm(this.componentDef.inputs)}get outputs(){return jm(this.componentDef.outputs)}create(t,n,r,a){const d=(a=a||this.ngModule)?function P0(e,t){return{get:(n,r,a)=>{const d=e.get(n,pf,a);return d!==pf||r===pf?d:t.get(n,r,a)}}}(t,a.injector):t,g=d.get(Lm,R),C=d.get(M0,null),b=g.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",G=r?function cp(e,t,n){if(br(e))return e.selectRootElement(t,n===at.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(b,r,this.componentDef.encapsulation):ll(g.createRenderer(null,this.componentDef),V,function R0(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(V)),ae=this.componentDef.onPush?576:528,Oe=function Hp(e,t){return{components:[],scheduler:e||Ic,clean:Ly,playerHandler:t||null,flags:0}}(),Xe=Id(0,null,null,1,0,null,null,null,null,null),St=Uc(null,Xe,Oe,ae,null,null,g,b,C,d);let Yt,an;On(St);try{const wn=function Bp(e,t,n,r,a,d){const g=n[1];n[20]=e;const b=Hu(g,20,2,"#host",null),V=b.mergedAttrs=t.hostAttrs;null!==V&&(wd(b,V,!0),null!==e&&(Er(a,e,V),null!==b.classes&&xc(a,e,b.classes),null!==b.styles&&fd(a,e,b.styles)));const G=r.createRenderer(e,t),ae=Uc(n,lp(t),null,t.onPush?64:16,n[20],b,r,G,d||null,null);return g.firstCreatePass&&(dn(Z(b,n),g,t.type),mp(g,b),_p(b,n.length,1)),bd(n,ae),n[20]=ae}(G,this.componentDef,St,g,b);if(G)if(r)Er(b,G,["ng-version",Vm.full]);else{const{attrs:Nt,classes:qn}=function ph(e){const t=[],n=[];let r=1,a=2;for(;r<e.length;){let d=e[r];if("string"==typeof d)2===a?""!==d&&t.push(d,e[++r]):8===a&&n.push(d);else{if(!Vo(a))break;a=d}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Nt&&Er(b,G,Nt),qn&&qn.length>0&&xc(b,G,qn.join(" "))}if(an=Pr(Xe,20),void 0!==n){const Nt=an.projection=[];for(let qn=0;qn<this.ngContentSelectors.length;qn++){const $r=n[qn];Nt.push(null!=$r?Array.from($r):null)}}Yt=function jp(e,t,n,r,a){const d=n[1],g=function vy(e,t,n){const r=ii();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),yp(e,r,t,$u(e,t,1,null),n));const a=Yi(t,e,r.directiveStart,r);Es(a,t);const d=Ct(r,t);return d&&Es(d,t),a}(d,n,t);if(r.components.push(g),e[8]=g,a&&a.forEach(b=>b(g,t)),t.contentQueries){const b=ii();t.contentQueries(1,g,b.directiveStart)}const C=ii();return!d.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(cs(C.index),pp(n[1],C,0,C.directiveStart,C.directiveEnd,t),gp(t,g)),g}(wn,this.componentDef,St,Oe,[rv]),Vc(Xe,St,null)}finally{Gr()}return new x0(this.componentType,Yt,ac(an,St),St,an)}}class x0 extends class C0{}{constructor(t,n,r,a,d){super(),this.location=r,this._rootLView=a,this._tNode=d,this.instance=n,this.hostView=this.changeDetectorRef=new O0(a),this.componentType=t}get injector(){return new Us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class lc{}class Hm{}const uc=new Map;class Gm extends lc{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bm(this);const r=tn(t);this._bootstrapComponents=h(r.bootstrap),this._r3Injector=Mp(t,n,[{provide:lc,useValue:this},{provide:jd,useValue:this.componentFactoryResolver}],le(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=ga.THROW_IF_NOT_FOUND,r=qt.Default){return t===ga||t===lc||t===Oh?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class mf extends Hm{constructor(t){super(),this.moduleType=t,null!==tn(t)&&function F0(e){const t=new Set;!function n(r){const a=tn(r,!0),d=a.id;null!==d&&(function $m(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${le(t)} vs ${le(t.name)}`)}(d,uc.get(d),r),uc.set(d,r));const g=h(a.imports);for(const C of g)t.has(C)||(t.add(C),n(C))}(e)}(t)}create(t){return new Gm(this.moduleType,t)}}function zm(e,t,n){const r=$i()+e,a=Ot();return a[r]===_r?La(a,r,n?t.call(n):t()):function Hc(e,t){return e[t]}(a,r)}function Km(e,t,n,r){return Zm(Ot(),$i(),e,t,n,r)}function Zm(e,t,n,r,a,d){const g=t+n;return ro(e,g,a)?La(e,g+1,d?r.call(d,a):r(a)):function Qc(e,t){const n=e[t];return n===_r?void 0:n}(e,g+1)}function Xm(e,t){const n=lr();let r;const a=e+20;n.firstCreatePass?(r=function G0(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[a]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(a,r.onDestroy)):r=n.data[a];const d=r.factory||(r.factory=li(r.type)),g=rr($c);try{const C=Ts(!1),b=d();return Ts(C),function gv(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Ot(),a,b),b}finally{rr(g)}}function e_(e,t,n){const r=e+20,a=Ot(),d=gr(a,r);return function Jc(e,t){return e[1].data[t].pure}(a,r)?Zm(a,$i(),t,d.transform,n,d):d.transform(n)}function _f(e){return t=>{setTimeout(e,void 0,t)}}const Ba=class q0 extends u.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var a,d,g;let C=t,b=n||(()=>null),V=r;if(t&&"object"==typeof t){const ae=t;C=null===(a=ae.next)||void 0===a?void 0:a.bind(ae),b=null===(d=ae.error)||void 0===d?void 0:d.bind(ae),V=null===(g=ae.complete)||void 0===g?void 0:g.bind(ae)}this.__isAsync&&(b=_f(b),C&&(C=_f(C)),V&&(V=_f(V)));const G=super.subscribe({next:C,error:b,complete:V});return t instanceof B.w0&&t.add(G),G}};function Q0(){return this._results[Ku()]()}class $d{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Ku(),r=$d.prototype;r[n]||(r[n]=Q0)}get changes(){return this._changes||(this._changes=new Ba)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const a=qi(t);(this._changesDetected=!function Xo(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let a=e[r],d=t[r];if(n&&(a=n(a),d=n(d)),d!==a)return!1}return!0}(r._results,a,n))&&(r._results=a,r.length=a.length,r.last=a[this.length-1],r.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Xc=(()=>{class e{}return e.__NG_ELEMENT_ID__=eC,e})();const J0=Xc,X0=class extends J0{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=Uc(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(r[19]=d.createEmbeddedView(n)),Vc(n,r,t),new qc(r)}};function eC(){return Wd(ii(),Ot())}function Wd(e,t){return 4&e.type?new X0(t,e,ac(e,t)):null}let Gd=(()=>{class e{}return e.__NG_ELEMENT_ID__=tC,e})();function tC(){return r_(ii(),Ot())}const nC=Gd,t_=class extends nC{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ac(this._hostTNode,this._hostLView)}get injector(){return new Us(this._hostTNode,this._hostLView)}get parentInjector(){const t=_t(this._hostTNode,this._hostLView);if(_o(t)){const n=Ui(t,this._hostLView),r=xr(t);return new Us(n[1].data[r+8],n)}return new Us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=n_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const a=t.createEmbeddedView(n||{});return this.insert(a,r),a}createComponent(t,n,r,a,d){const g=t&&!function Oo(e){return"function"==typeof e}(t);let C;if(g)C=n;else{const ae=n||{};C=ae.index,r=ae.injector,a=ae.projectableNodes,d=ae.ngModuleRef}const b=g?t:new gf(Se(t)),V=r||this.parentInjector;if(!d&&null==b.ngModule){const Oe=(g?V:this.parentInjector).get(lc,null);Oe&&(d=Oe)}const G=b.create(V,a,void 0,d);return this.insert(G.hostView,C),G}insert(t,n){const r=t._lView,a=r[1];if(function N(e){return jn(e[3])}(r)){const G=this.indexOf(t);if(-1!==G)this.detach(G);else{const ae=r[3],Oe=new t_(ae,ae[6],ae[3]);Oe.detach(Oe.indexOf(t))}}const d=this._adjustIndex(n),g=this._lContainer;!function Xf(e,t,n,r){const a=10+r,d=n.length;r>0&&(n[a-1][4]=t),r<d-10?(t[4]=n[a],wa(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const g=t[17];null!==g&&n!==g&&function Jd(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(g,t);const C=t[19];null!==C&&C.insertView(e),t[2]|=128}(a,r,g,d);const C=cl(d,g),b=r[11],V=ju(b,g[7]);return null!==V&&function cu(e,t,n,r,a,d){r[0]=a,r[6]=t,du(e,r,n,1,a,d)}(a,g[6],b,r,V,C),t.attachToViewContainerRef(),wa(yf(g),d,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=n_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Mc(this._lContainer,n);r&&(co(yf(this._lContainer),n),od(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Mc(this._lContainer,n);return r&&null!=co(yf(this._lContainer),n)?new qc(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function n_(e){return e[8]}function yf(e){return e[8]||(e[8]=[])}function r_(e,t){let n;const r=t[e.index];if(jn(r))n=r;else{let a;if(8&e.type)a=O(r);else{const d=t[11];a=d.createComment("");const g=Ct(e,t);ul(d,ju(d,g),a,function ih(e,t){return br(e)?e.nextSibling(t):t.nextSibling}(d,g),!1)}t[e.index]=n=vp(r,t,a,e),bd(t,n)}return new t_(n,e,t)}class vf{constructor(t){this.queryList=t,this.matches=null}clone(){return new vf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ef{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let d=0;d<r;d++){const g=n.getByIndex(d);a.push(this.queries[g.indexInDeclarationView].clone())}return new Ef(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==h_(t,n).matches&&this.queries[n].setDirty()}}class i_{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Cf{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const a=null!==n?n.length:0,d=this.getByIndex(r).embeddedTView(t,a);d&&(d.indexInDeclarationView=r,null!==n?n.push(d):n=[d])}return null!==n?new Cf(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Df{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Df(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let a=0;a<r.length;a++){const d=r[a];this.matchTNodeWithReadOption(t,n,sC(n,d)),this.matchTNodeWithReadOption(t,n,uo(n,t,d,!1,!1))}else r===Xc?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,uo(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const a=this.metadata.read;if(null!==a)if(a===Yc||a===Gd||a===Xc&&4&n.type)this.addMatch(n.index,-2);else{const d=uo(n,t,a,!1,!1);null!==d&&this.addMatch(n.index,d)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function sC(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function aC(e,t,n,r){return-1===n?function oC(e,t){return 11&e.type?ac(e,t):4&e.type?Wd(e,t):null}(t,e):-2===n?function lC(e,t,n){return n===Yc?ac(t,e):n===Xc?Wd(t,e):n===Gd?r_(t,e):void 0}(e,t,r):Yi(e,e[1],n,t)}function s_(e,t,n,r){const a=t[19].queries[r];if(null===a.matches){const d=e.data,g=n.matches,C=[];for(let b=0;b<g.length;b+=2){const V=g[b];C.push(V<0?null:aC(t,d[V],g[b+1],n.metadata.read))}a.matches=C}return a.matches}function Tf(e,t,n,r){const a=e.queries.getByIndex(n),d=a.matches;if(null!==d){const g=s_(e,t,a,n);for(let C=0;C<d.length;C+=2){const b=d[C];if(b>0)r.push(g[C/2]);else{const V=d[C+1],G=t[-b];for(let ae=10;ae<G.length;ae++){const Oe=G[ae];Oe[17]===Oe[3]&&Tf(Oe[1],Oe,V,r)}if(null!==G[9]){const ae=G[9];for(let Oe=0;Oe<ae.length;Oe++){const Xe=ae[Oe];Tf(Xe[1],Xe,V,r)}}}}}return r}function o_(e){const t=Ot(),n=lr(),r=Je();Dt(r+1);const a=h_(n,r);if(e.dirty&&pn(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const d=a.crossesNgTemplate?Tf(n,t,r,[]):s_(n,t,a,r);e.reset(d,b0),e.notifyOnChanges()}return!0}return!1}function a_(e,t,n){const r=lr();r.firstCreatePass&&(d_(r,new i_(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),c_(r,Ot(),t)}function l_(e,t,n,r){const a=lr();if(a.firstCreatePass){const d=ii();d_(a,new i_(t,n,r),d.index),function cC(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}c_(a,Ot(),n)}function u_(){return function uC(e,t){return e[19].queries[t].queryList}(Ot(),Je())}function c_(e,t,n){const r=new $d(4==(4&n));dp(e,t,r,r.destroy),null===t[19]&&(t[19]=new Ef),t[19].queries.push(new vf(r))}function d_(e,t,n){null===e.queries&&(e.queries=new Cf),e.queries.track(new Df(t,n))}function h_(e,t){return e.queries.getByIndex(t)}function f_(e,t){return Wd(e,t)}function Zd(...e){}const O_=new Ii("Application Initializer");let Mf=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Zd,this.reject=Zd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const d=this.appInits[a]();if(Zh(d))n.push(d);else if(pg(d)){const g=new Promise((C,b)=>{d.subscribe({complete:C,error:b})});n.push(g)}}Promise.all(n).then(()=>{r()}).catch(a=>{this.reject(a)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(kr(O_,8))},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const R_=new Ii("AppId",{providedIn:"root",factory:function P_(){return`${Of()}${Of()}${Of()}`}});function Of(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const N_=new Ii("Platform Initializer"),x_=new Ii("Platform ID"),k_=new Ii("appBootstrapListener");let F_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})();const Rf=new Ii("LocaleId",{providedIn:"root",factory:()=>xo(Rf,qt.Optional|qt.SkipSelf)||function AC(){return"undefined"!=typeof $localize&&$localize.locale||Fd}()}),SC=new Ii("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class MC{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let OC=(()=>{class e{compileModuleSync(n){return new mf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),d=h(tn(n).declarations).reduce((g,C)=>{const b=Se(C);return b&&g.push(new gf(b)),g},[]);return new MC(r,d)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const PC=(()=>Promise.resolve(0))();function Pf(e){"undefined"==typeof Zone?PC.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class va{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ba(!1),this.onMicrotaskEmpty=new Ba(!1),this.onStable=new Ba(!1),this.onError=new Ba(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&n,a.shouldCoalesceRunChangeDetection=r,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function NC(){let e=un.requestAnimationFrame,t=un.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function FC(e){const t=()=>{!function kC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(un,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,xf(e),e.isCheckStableRunning=!0,Nf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),xf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,a,d,g,C)=>{try{return L_(e),n.invokeTask(a,d,g,C)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&t(),U_(e)}},onInvoke:(n,r,a,d,g,C,b)=>{try{return L_(e),n.invoke(a,d,g,C,b)}finally{e.shouldCoalesceRunChangeDetection&&t(),U_(e)}},onHasTask:(n,r,a,d)=>{n.hasTask(a,d),r===a&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,xf(e),Nf(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(n,r,a,d)=>(n.handleError(a,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(a)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!va.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(va.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,a){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+a,t,xC,Zd,Zd);try{return d.runTask(g,n,r)}finally{d.cancelTask(g)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const xC={};function Nf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function xf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function L_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function U_(e){e._nesting--,Nf(e)}class LC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ba,this.onMicrotaskEmpty=new Ba,this.onStable=new Ba,this.onError=new Ba}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,a){return t.apply(n,r)}}let V_=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{va.assertNotInAngularZone(),Pf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pf(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,a){let d=-1;r&&r>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:d,updateCb:a})}whenStable(n,r,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,a){return[]}}return e.\u0275fac=function(n){return new(n||e)(kr(va))},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})(),B_=(()=>{class e{constructor(){this._applications=new Map,kf.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return kf.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})();class UC{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}function VC(e){kf=e}let Ea,kf=new UC;const j_=new Ii("AllowMultipleToken");class HC{constructor(t,n){this.name=t,this.token=n}}function H_(e,t,n=[]){const r=`Platform: ${t}`,a=new Ii(r);return(d=[])=>{let g=$_();if(!g||g.injector.get(j_,!1))if(e)e(n.concat(d).concat({provide:a,useValue:!0}));else{const C=n.concat(d).concat({provide:a,useValue:!0},{provide:Rh,useValue:"platform"});!function $C(e){if(Ea&&!Ea.destroyed&&!Ea.injector.get(j_,!1))throw new Qe(400,"");Ea=e.get(W_);const t=e.get(N_,null);t&&t.forEach(n=>n())}(ga.create({providers:C,name:r}))}return function WC(e){const t=$_();if(!t)throw new Qe(401,"");return t}()}}function $_(){return Ea&&!Ea.destroyed?Ea:null}let W_=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const C=function GC(e,t){let n;return n="noop"===e?new LC:("zone.js"===e?void 0:e)||new va({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),b=[{provide:va,useValue:C}];return C.run(()=>{const V=ga.create({providers:b,parent:this.injector,name:n.moduleType.name}),G=n.create(V),ae=G.injector.get(Xi,null);if(!ae)throw new Qe(402,"");return C.runOutsideAngular(()=>{const Oe=C.onError.subscribe({next:Xe=>{ae.handleError(Xe)}});G.onDestroy(()=>{Lf(this._modules,G),Oe.unsubscribe()})}),function zC(e,t,n){try{const r=n();return Zh(r)?r.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(ae,C,()=>{const Oe=G.injector.get(Mf);return Oe.runInitializers(),Oe.donePromise.then(()=>(function bE(e){Ut(e,"Expected localeId to be defined"),"string"==typeof e&&(um=e.toLowerCase().replace(/_/g,"-"))}(G.injector.get(Rf,Fd)||Fd),this._moduleDoBootstrap(G),G))})})}bootstrapModule(n,r=[]){const a=G_({},r);return function BC(e,t,n){const r=new mf(n);return Promise.resolve(r)}(0,0,n).then(d=>this.bootstrapModuleFactory(d,a))}_moduleDoBootstrap(n){const r=n.injector.get(Ff);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>r.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new Qe(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(kr(ga))},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})();function G_(e,t){return Array.isArray(t)?t.reduce(G_,e):Object.assign(Object.assign({},e),t)}let Ff=(()=>{class e{constructor(n,r,a,d,g){this._zone=n,this._injector=r,this._exceptionHandler=a,this._componentFactoryResolver=d,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new j.y(V=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{V.next(this._stable),V.complete()})}),b=new j.y(V=>{let G;this._zone.runOutsideAngular(()=>{G=this._zone.onStable.subscribe(()=>{va.assertNotInAngularZone(),Pf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,V.next(!0))})})});const ae=this._zone.onUnstable.subscribe(()=>{va.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{V.next(!1)}))});return()=>{G.unsubscribe(),ae.unsubscribe()}});this.isStable=(0,te.T)(C,b.pipe((0,Q.B)()))}bootstrap(n,r){if(!this._initStatus.done)throw new Qe(405,"");let a;a=n instanceof km?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(a.componentType);const d=function jC(e){return e.isBoundToModule}(a)?void 0:this._injector.get(lc),C=a.create(ga.NULL,[],r||a.selector,d),b=C.location.nativeElement,V=C.injector.get(V_,null),G=V&&C.injector.get(B_);return V&&G&&G.registerApplication(b,V),C.onDestroy(()=>{this.detachView(C.hostView),Lf(this.components,C),G&&G.unregisterApplication(b)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Qe(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Lf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(k_,[]).concat(this._bootstrapListeners).forEach(a=>a(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(kr(va),kr(ga),kr(Xi),kr(jd),kr(Mf))},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Lf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let K_=!0,Z_=!1;function ZC(){return Z_=!0,K_}function YC(){if(Z_)throw new Error("Cannot enable prod mode after platform setup.");K_=!1}let qC=(()=>{class e{}return e.__NG_ELEMENT_ID__=QC,e})();function QC(e){return function JC(e,t,n){if(Ci(e)&&!n){const r=er(e.index,t);return new qc(r,r)}return 47&e.type?new qc(t[16],t):null}(ii(),Ot(),16==(16&e))}class J_{constructor(){}supports(t){return jc(t)}create(t){return new iD(t)}}const rD=(e,t)=>t;class iD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||rD}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,a=0,d=null;for(;n||r;){const g=!r||n&&n.currentIndex<ey(r,a,d)?n:r,C=ey(g,a,d),b=g.currentIndex;if(g===r)a--,r=r._nextRemoved;else if(n=n._next,null==g.previousIndex)a++;else{d||(d=[]);const V=C-a,G=b-a;if(V!=G){for(let Oe=0;Oe<V;Oe++){const Xe=Oe<d.length?d[Oe]:d[Oe]=0,St=Xe+Oe;G<=St&&St<V&&(d[Oe]=Xe+1)}d[g.previousIndex]=G-V}}C!==b&&t(g,C,b)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!jc(t))throw new Qe(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,d,g,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let C=0;C<this.length;C++)d=t[C],g=this._trackByFn(C,d),null!==n&&Object.is(n.trackById,g)?(r&&(n=this._verifyReinsertion(n,d,g,C)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,g,C),r=!0),n=n._next}else a=0,function fv(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ku()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,C=>{g=this._trackByFn(a,C),null!==n&&Object.is(n.trackById,g)?(r&&(n=this._verifyReinsertion(n,C,g,a)),Object.is(n.item,C)||this._addIdentityChange(n,C)):(n=this._mismatch(n,C,g,a),r=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,a){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,d,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,d,a)):t=this._addAfter(new sD(n,r),d,a),t}_verifyReinsertion(t,n,r,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==d?t=this._reinsertAfter(d,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,d=t._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new X_),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new X_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sD{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oD{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class X_{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new oD,this.map.set(n,r)),r.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ey(e,t,n){const r=e.previousIndex;if(null===r)return r;let a=0;return n&&r<n.length&&(a=n[r]),r+t+a}class ty{constructor(){}supports(t){return t instanceof Map||Uh(t)}create(){return new aD}}class aD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Uh(t)))throw new Qe(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const d=this._getOrCreateRecordForKey(a,r);n=this._insertBeforeOrAppend(n,d)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const d=a._prev,g=a._next;return d&&(d._next=g),g&&(g._prev=d),a._next=null,a._prev=null,a}const r=new lD(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class lD{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ny(){return new Hf([new J_])}let Hf=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ny()),deps:[[e,new Do,new na]]}}find(n){const r=this.factories.find(a=>a.supports(n));if(null!=r)return r;throw new Qe(901,"")}}return e.\u0275prov=ht({token:e,providedIn:"root",factory:ny}),e})();function ry(){return new $f([new ty])}let $f=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ry()),deps:[[e,new Do,new na]]}}find(n){const r=this.factories.find(d=>d.supports(n));if(r)return r;throw new Qe(901,"")}}return e.\u0275prov=ht({token:e,providedIn:"root",factory:ry}),e})();const dD=H_(null,"core",[{provide:x_,useValue:"unknown"},{provide:W_,deps:[ga]},{provide:B_,deps:[]},{provide:F_,deps:[]}]);let hD=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(kr(Ff))},e.\u0275mod=je({type:e}),e.\u0275inj=We({}),e})()},3075:(Ie,re,D)=>{D.d(re,{Zs:()=>Qr,Fj:()=>Ye,CE:()=>Qt,qu:()=>pn,NI:()=>or,oH:()=>Be,u:()=>Vi,cw:()=>Hr,sg:()=>Lt,Cf:()=>Ne,JU:()=>le,a5:()=>_n,JJ:()=>qt,JL:()=>sn,F:()=>ge,wV:()=>bi,UX:()=>gr,Q7:()=>Di,kI:()=>Tt,_Y:()=>qr});var u=D(5e3),B=D(9808),j=D(8996),te=D(4128),Q=D(4004);let ce=(()=>{class N{constructor(w,W){this._renderer=w,this._elementRef=W,this.onChange=Le=>{},this.onTouched=()=>{}}setProperty(w,W){this._renderer.setProperty(this._elementRef.nativeElement,w,W)}registerOnTouched(w){this.onTouched=w}registerOnChange(w){this.onChange=w}setDisabledState(w){this.setProperty("disabled",w)}}return N.\u0275fac=function(w){return new(w||N)(u.Y36(u.Qsj),u.Y36(u.SBq))},N.\u0275dir=u.lG2({type:N}),N})(),ue=(()=>{class N extends ce{}return N.\u0275fac=function(){let S;return function(W){return(S||(S=u.n5z(N)))(W||N)}}(),N.\u0275dir=u.lG2({type:N,features:[u.qOj]}),N})();const le=new u.OlP("NgValueAccessor"),ie={provide:le,useExisting:(0,u.Gpc)(()=>Ye),multi:!0},et=new u.OlP("CompositionEventMode");let Ye=(()=>{class N extends ce{constructor(w,W,Le){super(w,W),this._compositionMode=Le,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fe(){const N=(0,B.q)()?(0,B.q)().getUserAgent():"";return/android (\d+)/.test(N.toLowerCase())}())}writeValue(w){this.setProperty("value",null==w?"":w)}_handleInput(w){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(w)}_compositionStart(){this._composing=!0}_compositionEnd(w){this._composing=!1,this._compositionMode&&this.onChange(w)}}return N.\u0275fac=function(w){return new(w||N)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(et,8))},N.\u0275dir=u.lG2({type:N,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(w,W){1&w&&u.NdJ("input",function(Jt){return W._handleInput(Jt.target.value)})("blur",function(){return W.onTouched()})("compositionstart",function(){return W._compositionStart()})("compositionend",function(Jt){return W._compositionEnd(Jt.target.value)})},features:[u._Bn([ie]),u.qOj]}),N})();function Qe(N){return null==N||0===N.length}function nt(N){return null!=N&&"number"==typeof N.length}const Ne=new u.OlP("NgValidators"),Ve=new u.OlP("NgAsyncValidators"),vt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Tt{static min(S){return function ke(N){return S=>{if(Qe(S.value)||Qe(N))return null;const w=parseFloat(S.value);return!isNaN(w)&&w<N?{min:{min:N,actual:S.value}}:null}}(S)}static max(S){return function F(N){return S=>{if(Qe(S.value)||Qe(N))return null;const w=parseFloat(S.value);return!isNaN(w)&&w>N?{max:{max:N,actual:S.value}}:null}}(S)}static required(S){return Ke(S)}static requiredTrue(S){return ct(S)}static email(S){return function At(N){return Qe(N.value)||vt.test(N.value)?null:{email:!0}}(S)}static minLength(S){return function xe(N){return S=>Qe(S.value)||!nt(S.value)?null:S.value.length<N?{minlength:{requiredLength:N,actualLength:S.value.length}}:null}(S)}static maxLength(S){return function ve(N){return S=>nt(S.value)&&S.value.length>N?{maxlength:{requiredLength:N,actualLength:S.value.length}}:null}(S)}static pattern(S){return function ze(N){if(!N)return Fe;let S,w;return"string"==typeof N?(w="","^"!==N.charAt(0)&&(w+="^"),w+=N,"$"!==N.charAt(N.length-1)&&(w+="$"),S=new RegExp(w)):(w=N.toString(),S=N),W=>{if(Qe(W.value))return null;const Le=W.value;return S.test(Le)?null:{pattern:{requiredPattern:w,actualValue:Le}}}}(S)}static nullValidator(S){return null}static compose(S){return Ut(S)}static composeAsync(S){return Pn(S)}}function Ke(N){return Qe(N.value)?{required:!0}:null}function ct(N){return!0===N.value?null:{required:!0}}function Fe(N){return null}function Ze(N){return null!=N}function it(N){const S=(0,u.QGY)(N)?(0,j.D)(N):N;return(0,u.CqO)(S),S}function He(N){let S={};return N.forEach(w=>{S=null!=w?Object.assign(Object.assign({},S),w):S}),0===Object.keys(S).length?null:S}function $t(N,S){return S.map(w=>w(N))}function Qn(N){return N.map(S=>function Mn(N){return!N.validate}(S)?S:w=>S.validate(w))}function Ut(N){if(!N)return null;const S=N.filter(Ze);return 0==S.length?null:function(w){return He($t(w,S))}}function Bt(N){return null!=N?Ut(Qn(N)):null}function Pn(N){if(!N)return null;const S=N.filter(Ze);return 0==S.length?null:function(w){const W=$t(w,S).map(it);return(0,te.D)(W).pipe((0,Q.U)(He))}}function In(N){return null!=N?Pn(Qn(N)):null}function gt(N,S){return null===N?[S]:Array.isArray(N)?[...N,S]:[N,S]}function ht(N){return N._rawValidators}function Ue(N){return N._rawAsyncValidators}function We(N){return N?Array.isArray(N)?N:[N]:[]}function Et(N,S){return Array.isArray(N)?N.includes(S):N===S}function ln(N,S){const w=We(S);return We(N).forEach(Le=>{Et(w,Le)||w.push(Le)}),w}function Nn(N,S){return We(S).filter(w=>!Et(N,w))}class zn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=Bt(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=In(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S){this.control&&this.control.reset(S)}hasError(S,w){return!!this.control&&this.control.hasError(S,w)}getError(S,w){return this.control?this.control.getError(S,w):null}}class _n extends zn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fn extends zn{get formDirective(){return null}get path(){return null}}class Hn{constructor(S){this._cd=S}is(S){var w,W,Le;return"submitted"===S?!!(null===(w=this._cd)||void 0===w?void 0:w.submitted):!!(null===(Le=null===(W=this._cd)||void 0===W?void 0:W.control)||void 0===Le?void 0:Le[S])}}let qt=(()=>{class N extends Hn{constructor(w){super(w)}}return N.\u0275fac=function(w){return new(w||N)(u.Y36(_n,2))},N.\u0275dir=u.lG2({type:N,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(w,W){2&w&&u.ekj("ng-untouched",W.is("untouched"))("ng-touched",W.is("touched"))("ng-pristine",W.is("pristine"))("ng-dirty",W.is("dirty"))("ng-valid",W.is("valid"))("ng-invalid",W.is("invalid"))("ng-pending",W.is("pending"))},features:[u.qOj]}),N})(),sn=(()=>{class N extends Hn{constructor(w){super(w)}}return N.\u0275fac=function(w){return new(w||N)(u.Y36(fn,10))},N.\u0275dir=u.lG2({type:N,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(w,W){2&w&&u.ekj("ng-untouched",W.is("untouched"))("ng-touched",W.is("touched"))("ng-pristine",W.is("pristine"))("ng-dirty",W.is("dirty"))("ng-valid",W.is("valid"))("ng-invalid",W.is("invalid"))("ng-pending",W.is("pending"))("ng-submitted",W.is("submitted"))},features:[u.qOj]}),N})();function Jn(N,S){return[...S.path,N]}function Rt(N,S){ft(N,S),S.valueAccessor.writeValue(N.value),function on(N,S){S.valueAccessor.registerOnChange(w=>{N._pendingValue=w,N._pendingChange=!0,N._pendingDirty=!0,"change"===N.updateOn&&Kt(N,S)})}(N,S),function _e(N,S){const w=(W,Le)=>{S.valueAccessor.writeValue(W),Le&&S.viewToModelUpdate(W)};N.registerOnChange(w),S._registerOnDestroy(()=>{N._unregisterOnChange(w)})}(N,S),function mn(N,S){S.valueAccessor.registerOnTouched(()=>{N._pendingTouched=!0,"blur"===N.updateOn&&N._pendingChange&&Kt(N,S),"submit"!==N.updateOn&&N.markAsTouched()})}(N,S),function Wt(N,S){if(S.valueAccessor.setDisabledState){const w=W=>{S.valueAccessor.setDisabledState(W)};N.registerOnDisabledChange(w),S._registerOnDestroy(()=>{N._unregisterOnDisabledChange(w)})}}(N,S)}function kn(N,S,w=!0){const W=()=>{};S.valueAccessor&&(S.valueAccessor.registerOnChange(W),S.valueAccessor.registerOnTouched(W)),Zt(N,S),N&&(S._invokeOnDestroyCallbacks(),N._registerOnCollectionChange(()=>{}))}function yn(N,S){N.forEach(w=>{w.registerOnValidatorChange&&w.registerOnValidatorChange(S)})}function ft(N,S){const w=ht(N);null!==S.validator?N.setValidators(gt(w,S.validator)):"function"==typeof w&&N.setValidators([w]);const W=Ue(N);null!==S.asyncValidator?N.setAsyncValidators(gt(W,S.asyncValidator)):"function"==typeof W&&N.setAsyncValidators([W]);const Le=()=>N.updateValueAndValidity();yn(S._rawValidators,Le),yn(S._rawAsyncValidators,Le)}function Zt(N,S){let w=!1;if(null!==N){if(null!==S.validator){const Le=ht(N);if(Array.isArray(Le)&&Le.length>0){const Jt=Le.filter(nn=>nn!==S.validator);Jt.length!==Le.length&&(w=!0,N.setValidators(Jt))}}if(null!==S.asyncValidator){const Le=Ue(N);if(Array.isArray(Le)&&Le.length>0){const Jt=Le.filter(nn=>nn!==S.asyncValidator);Jt.length!==Le.length&&(w=!0,N.setAsyncValidators(Jt))}}}const W=()=>{};return yn(S._rawValidators,W),yn(S._rawAsyncValidators,W),w}function Kt(N,S){N._pendingDirty&&N.markAsDirty(),N.setValue(N._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(N._pendingValue),N._pendingChange=!1}function de(N,S){ft(N,S)}function xt(N,S){if(!N.hasOwnProperty("model"))return!1;const w=N.model;return!!w.isFirstChange()||!Object.is(S,w.currentValue)}function ye(N,S){N._syncPendingControls(),S.forEach(w=>{const W=w.control;"submit"===W.updateOn&&W._pendingChange&&(w.viewToModelUpdate(W._pendingValue),W._pendingChange=!1)})}function se(N,S){if(!S)return null;let w,W,Le;return Array.isArray(S),S.forEach(Jt=>{Jt.constructor===Ye?w=Jt:function Re(N){return Object.getPrototypeOf(N.constructor)===ue}(Jt)?W=Jt:Le=Jt}),Le||W||w||null}function Se(N,S){const w=N.indexOf(S);w>-1&&N.splice(w,1)}const tn="VALID",Gn="INVALID",Cr="PENDING",fi="DISABLED";function si(N){return(Pt(N)?N.validators:N)||null}function Or(N){return Array.isArray(N)?Bt(N):N||null}function oi(N,S){return(Pt(S)?S.asyncValidators:N)||null}function di(N){return Array.isArray(N)?In(N):N||null}function Pt(N){return null!=N&&!Array.isArray(N)&&"object"==typeof N}const Fn=N=>N instanceof or,dr=N=>N instanceof Hr,Yr=N=>N instanceof An;function hi(N){return Fn(N)?N.value:N.getRawValue()}function yr(N,S){const w=dr(N),W=N.controls;if(!(w?Object.keys(W):W).length)throw new u.vHH(1e3,"");if(!W[S])throw new u.vHH(1001,"")}function ni(N,S){dr(N),N._forEachChild((W,Le)=>{if(void 0===S[Le])throw new u.vHH(1002,"")})}class Kn{constructor(S,w){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=S,this._rawAsyncValidators=w,this._composedValidatorFn=Or(this._rawValidators),this._composedAsyncValidatorFn=di(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get valid(){return this.status===tn}get invalid(){return this.status===Gn}get pending(){return this.status==Cr}get disabled(){return this.status===fi}get enabled(){return this.status!==fi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._rawValidators=S,this._composedValidatorFn=Or(S)}setAsyncValidators(S){this._rawAsyncValidators=S,this._composedAsyncValidatorFn=di(S)}addValidators(S){this.setValidators(ln(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(ln(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(Nn(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(Nn(S,this._rawAsyncValidators))}hasValidator(S){return Et(this._rawValidators,S)}hasAsyncValidator(S){return Et(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){this.touched=!0,this._parent&&!S.onlySelf&&this._parent.markAsTouched(S)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(S=>S.markAllAsTouched())}markAsUntouched(S={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(w=>{w.markAsUntouched({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}markAsDirty(S={}){this.pristine=!1,this._parent&&!S.onlySelf&&this._parent.markAsDirty(S)}markAsPristine(S={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(w=>{w.markAsPristine({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}markAsPending(S={}){this.status=Cr,!1!==S.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!S.onlySelf&&this._parent.markAsPending(S)}disable(S={}){const w=this._parentMarkedDirty(S.onlySelf);this.status=fi,this.errors=null,this._forEachChild(W=>{W.disable(Object.assign(Object.assign({},S),{onlySelf:!0}))}),this._updateValue(),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},S),{skipPristineCheck:w})),this._onDisabledChange.forEach(W=>W(!0))}enable(S={}){const w=this._parentMarkedDirty(S.onlySelf);this.status=tn,this._forEachChild(W=>{W.enable(Object.assign(Object.assign({},S),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},S),{skipPristineCheck:w})),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors(S){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(S){this._parent=S}updateValueAndValidity(S={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tn||this.status===Cr)&&this._runAsyncValidator(S.emitEvent)),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity(S)}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(w=>w._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fi:tn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S){if(this.asyncValidator){this.status=Cr,this._hasOwnPendingAsyncValidator=!0;const w=it(this.asyncValidator(this));this._asyncValidationSubscription=w.subscribe(W=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(W,{emitEvent:S})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(S,w={}){this.errors=S,this._updateControlsErrors(!1!==w.emitEvent)}get(S){return function Vr(N,S,w){if(null==S||(Array.isArray(S)||(S=S.split(w)),Array.isArray(S)&&0===S.length))return null;let W=N;return S.forEach(Le=>{W=dr(W)?W.controls.hasOwnProperty(Le)?W.controls[Le]:null:Yr(W)&&W.at(Le)||null}),W}(this,S,".")}getError(S,w){const W=w?this.get(w):this;return W&&W.errors?W.errors[S]:null}hasError(S,w){return!!this.getError(S,w)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(S)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?fi:this.errors?Gn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cr)?Cr:this._anyControlsHaveStatus(Gn)?Gn:tn}_anyControlsHaveStatus(S){return this._anyControls(w=>w.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S={}){this.pristine=!this._anyControlsDirty(),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}_updateTouched(S={}){this.touched=this._anyControlsTouched(),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}_isBoxedValue(S){return"object"==typeof S&&null!==S&&2===Object.keys(S).length&&"value"in S&&"disabled"in S}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){Pt(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class or extends Kn{constructor(S=null,w,W){super(si(w),oi(W,w)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(S),this._setUpdateStrategy(w),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pt(w)&&w.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(S)?S.value:S)}setValue(S,w={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==w.emitModelToViewChange&&this._onChange.forEach(W=>W(this.value,!1!==w.emitViewToModelChange)),this.updateValueAndValidity(w)}patchValue(S,w={}){this.setValue(S,w)}reset(S=this.defaultValue,w={}){this._applyFormState(S),this.markAsPristine(w),this.markAsUntouched(w),this.setValue(this.value,w),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){Se(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){Se(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){this._isBoxedValue(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}}class Hr extends Kn{constructor(S,w,W){super(si(w),oi(W,w)),this.controls=S,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(S,w){return this.controls[S]?this.controls[S]:(this.controls[S]=w,w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange),w)}addControl(S,w,W={}){this.registerControl(S,w),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}removeControl(S,w={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}setControl(S,w,W={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],w&&this.registerControl(S,w),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}contains(S){return this.controls.hasOwnProperty(S)&&this.controls[S].enabled}setValue(S,w={}){ni(this,S),Object.keys(S).forEach(W=>{yr(this,W),this.controls[W].setValue(S[W],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(S,w={}){null!=S&&(Object.keys(S).forEach(W=>{this.controls[W]&&this.controls[W].patchValue(S[W],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(S={},w={}){this._forEachChild((W,Le)=>{W.reset(S[Le],{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w),this._updateTouched(w),this.updateValueAndValidity(w)}getRawValue(){return this._reduceChildren({},(S,w,W)=>(S[W]=hi(w),S))}_syncPendingControls(){let S=this._reduceChildren(!1,(w,W)=>!!W._syncPendingControls()||w);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){Object.keys(this.controls).forEach(w=>{const W=this.controls[w];W&&S(W,w)})}_setUpControls(){this._forEachChild(S=>{S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(S){for(const w of Object.keys(this.controls)){const W=this.controls[w];if(this.contains(w)&&S(W))return!0}return!1}_reduceValue(){return this._reduceChildren({},(S,w,W)=>((w.enabled||this.disabled)&&(S[W]=w.value),S))}_reduceChildren(S,w){let W=S;return this._forEachChild((Le,Jt)=>{W=w(W,Le,Jt)}),W}_allControlsDisabled(){for(const S of Object.keys(this.controls))if(this.controls[S].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class An extends Kn{constructor(S,w,W){super(si(w),oi(W,w)),this.controls=S,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(S){return this.controls[S]}push(S,w={}){this.controls.push(S),this._registerControl(S),this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}insert(S,w,W={}){this.controls.splice(S,0,w),this._registerControl(w),this.updateValueAndValidity({emitEvent:W.emitEvent})}removeAt(S,w={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),this.controls.splice(S,1),this.updateValueAndValidity({emitEvent:w.emitEvent})}setControl(S,w,W={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),this.controls.splice(S,1),w&&(this.controls.splice(S,0,w),this._registerControl(w)),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(S,w={}){ni(this,S),S.forEach((W,Le)=>{yr(this,Le),this.at(Le).setValue(W,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(S,w={}){null!=S&&(S.forEach((W,Le)=>{this.at(Le)&&this.at(Le).patchValue(W,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(S=[],w={}){this._forEachChild((W,Le)=>{W.reset(S[Le],{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w),this._updateTouched(w),this.updateValueAndValidity(w)}getRawValue(){return this.controls.map(S=>hi(S))}clear(S={}){this.controls.length<1||(this._forEachChild(w=>w._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:S.emitEvent}))}_syncPendingControls(){let S=this.controls.reduce((w,W)=>!!W._syncPendingControls()||w,!1);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){this.controls.forEach((w,W)=>{S(w,W)})}_updateValue(){this.value=this.controls.filter(S=>S.enabled||this.disabled).map(S=>S.value)}_anyControls(S){return this.controls.some(w=>w.enabled&&S(w))}_setUpControls(){this._forEachChild(S=>this._registerControl(S))}_allControlsDisabled(){for(const S of this.controls)if(S.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(S){S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)}}const Ei={provide:fn,useExisting:(0,u.Gpc)(()=>ge)},ri=(()=>Promise.resolve(null))();let ge=(()=>{class N extends fn{constructor(w,W){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Hr({},Bt(w),In(W))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(w){ri.then(()=>{const W=this._findContainer(w.path);w.control=W.registerControl(w.name,w.control),Rt(w.control,w),w.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(w)})}getControl(w){return this.form.get(w.path)}removeControl(w){ri.then(()=>{const W=this._findContainer(w.path);W&&W.removeControl(w.name),this._directives.delete(w)})}addFormGroup(w){ri.then(()=>{const W=this._findContainer(w.path),Le=new Hr({});de(Le,w),W.registerControl(w.name,Le),Le.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(w){ri.then(()=>{const W=this._findContainer(w.path);W&&W.removeControl(w.name)})}getFormGroup(w){return this.form.get(w.path)}updateModel(w,W){ri.then(()=>{this.form.get(w.path).setValue(W)})}setValue(w){this.control.setValue(w)}onSubmit(w){return this.submitted=!0,ye(this.form,this._directives),this.ngSubmit.emit(w),!1}onReset(){this.resetForm()}resetForm(w){this.form.reset(w),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(w){return w.pop(),w.length?this.form.get(w):this.form}}return N.\u0275fac=function(w){return new(w||N)(u.Y36(Ne,10),u.Y36(Ve,10))},N.\u0275dir=u.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(w,W){1&w&&u.NdJ("submit",function(Jt){return W.onSubmit(Jt)})("reset",function(){return W.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Ei]),u.qOj]}),N})(),pt=(()=>{class N extends fn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Jn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return N.\u0275fac=function(){let S;return function(W){return(S||(S=u.n5z(N)))(W||N)}}(),N.\u0275dir=u.lG2({type:N,features:[u.qOj]}),N})(),qr=(()=>{class N{}return N.\u0275fac=function(w){return new(w||N)},N.\u0275dir=u.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),N})();const Ci={provide:le,useExisting:(0,u.Gpc)(()=>bi),multi:!0};let bi=(()=>{class N extends ue{writeValue(w){this.setProperty("value",null==w?"":w)}registerOnChange(w){this.onChange=W=>{w(""==W?null:parseFloat(W))}}}return N.\u0275fac=function(){let S;return function(W){return(S||(S=u.n5z(N)))(W||N)}}(),N.\u0275dir=u.lG2({type:N,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(w,W){1&w&&u.NdJ("input",function(Jt){return W.onChange(Jt.target.value)})("blur",function(){return W.onTouched()})},features:[u._Bn([Ci]),u.qOj]}),N})(),os=(()=>{class N{}return N.\u0275fac=function(w){return new(w||N)},N.\u0275mod=u.oAB({type:N}),N.\u0275inj=u.cJS({}),N})();const me=new u.OlP("NgModelWithFormControlWarning"),Me={provide:_n,useExisting:(0,u.Gpc)(()=>Be)};let Be=(()=>{class N extends _n{constructor(w,W,Le,Jt){super(),this._ngModelWarningConfig=Jt,this.update=new u.vpe,this._ngModelWarningSent=!1,this._setValidators(w),this._setAsyncValidators(W),this.valueAccessor=se(0,Le)}set isDisabled(w){}ngOnChanges(w){if(this._isControlChanged(w)){const W=w.form.previousValue;W&&kn(W,this,!1),Rt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}xt(w,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&kn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_isControlChanged(w){return w.hasOwnProperty("form")}}return N._ngModelWarningSentOnce=!1,N.\u0275fac=function(w){return new(w||N)(u.Y36(Ne,10),u.Y36(Ve,10),u.Y36(le,10),u.Y36(me,8))},N.\u0275dir=u.lG2({type:N,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[u._Bn([Me]),u.qOj,u.TTD]}),N})();const wt={provide:fn,useExisting:(0,u.Gpc)(()=>Lt)};let Lt=(()=>{class N extends fn{constructor(w,W){super(),this.validators=w,this.asyncValidators=W,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(w),this._setAsyncValidators(W)}ngOnChanges(w){this._checkFormPresent(),w.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(w){const W=this.form.get(w.path);return Rt(W,w),W.updateValueAndValidity({emitEvent:!1}),this.directives.push(w),W}getControl(w){return this.form.get(w.path)}removeControl(w){kn(w.control||null,w,!1),Se(this.directives,w)}addFormGroup(w){this._setUpFormContainer(w)}removeFormGroup(w){this._cleanUpFormContainer(w)}getFormGroup(w){return this.form.get(w.path)}addFormArray(w){this._setUpFormContainer(w)}removeFormArray(w){this._cleanUpFormContainer(w)}getFormArray(w){return this.form.get(w.path)}updateModel(w,W){this.form.get(w.path).setValue(W)}onSubmit(w){return this.submitted=!0,ye(this.form,this.directives),this.ngSubmit.emit(w),!1}onReset(){this.resetForm()}resetForm(w){this.form.reset(w),this.submitted=!1}_updateDomValue(){this.directives.forEach(w=>{const W=w.control,Le=this.form.get(w.path);W!==Le&&(kn(W||null,w),Fn(Le)&&(Rt(Le,w),w.control=Le))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(w){const W=this.form.get(w.path);de(W,w),W.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(w){if(this.form){const W=this.form.get(w.path);W&&function we(N,S){return Zt(N,S)}(W,w)&&W.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ft(this.form,this),this._oldForm&&Zt(this._oldForm,this)}_checkFormPresent(){}}return N.\u0275fac=function(w){return new(w||N)(u.Y36(Ne,10),u.Y36(Ve,10))},N.\u0275dir=u.lG2({type:N,selectors:[["","formGroup",""]],hostBindings:function(w,W){1&w&&u.NdJ("submit",function(Jt){return W.onSubmit(Jt)})("reset",function(){return W.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([wt]),u.qOj,u.TTD]}),N})();const hn={provide:fn,useExisting:(0,u.Gpc)(()=>pr)};let pr=(()=>{class N extends pt{constructor(w,W,Le){super(),this._parent=w,this._setValidators(W),this._setAsyncValidators(Le)}_checkParentType(){Fr(this._parent)}}return N.\u0275fac=function(w){return new(w||N)(u.Y36(fn,13),u.Y36(Ne,10),u.Y36(Ve,10))},N.\u0275dir=u.lG2({type:N,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[u._Bn([hn]),u.qOj]}),N})();const Zn={provide:fn,useExisting:(0,u.Gpc)(()=>Qt)};let Qt=(()=>{class N extends fn{constructor(w,W,Le){super(),this._parent=w,this._setValidators(W),this._setAsyncValidators(Le)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Jn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Fr(this._parent)}}return N.\u0275fac=function(w){return new(w||N)(u.Y36(fn,13),u.Y36(Ne,10),u.Y36(Ve,10))},N.\u0275dir=u.lG2({type:N,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[u._Bn([Zn]),u.qOj]}),N})();function Fr(N){return!(N instanceof pr||N instanceof Lt||N instanceof Qt)}const es={provide:_n,useExisting:(0,u.Gpc)(()=>Vi)};let Vi=(()=>{class N extends _n{constructor(w,W,Le,Jt,nn){super(),this._ngModelWarningConfig=nn,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=w,this._setValidators(W),this._setAsyncValidators(Le),this.valueAccessor=se(0,Jt)}set isDisabled(w){}ngOnChanges(w){this._added||this._setUpControl(),xt(w,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}get path(){return Jn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return N._ngModelWarningSentOnce=!1,N.\u0275fac=function(w){return new(w||N)(u.Y36(fn,13),u.Y36(Ne,10),u.Y36(Ve,10),u.Y36(le,10),u.Y36(me,8))},N.\u0275dir=u.lG2({type:N,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([es]),u.qOj,u.TTD]}),N})(),Fi=(()=>{class N{constructor(){this._validator=Fe}ngOnChanges(w){if(this.inputName in w){const W=this.normalizeInput(w[this.inputName].currentValue);this._enabled=this.enabled(W),this._validator=this._enabled?this.createValidator(W):Fe,this._onChange&&this._onChange()}}validate(w){return this._validator(w)}registerOnValidatorChange(w){this._onChange=w}enabled(w){return null!=w}}return N.\u0275fac=function(w){return new(w||N)},N.\u0275dir=u.lG2({type:N,features:[u.TTD]}),N})();const Rr={provide:Ne,useExisting:(0,u.Gpc)(()=>Di),multi:!0},wi={provide:Ne,useExisting:(0,u.Gpc)(()=>Qr),multi:!0};let Di=(()=>{class N extends Fi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=w=>function ki(N){return null!=N&&!1!==N&&"false"!=`${N}`}(w),this.createValidator=w=>Ke}enabled(w){return w}}return N.\u0275fac=function(){let S;return function(W){return(S||(S=u.n5z(N)))(W||N)}}(),N.\u0275dir=u.lG2({type:N,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(w,W){2&w&&u.uIk("required",W._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([Rr]),u.qOj]}),N})(),Qr=(()=>{class N extends Di{constructor(){super(...arguments),this.createValidator=w=>ct}}return N.\u0275fac=function(){let S;return function(W){return(S||(S=u.n5z(N)))(W||N)}}(),N.\u0275dir=u.lG2({type:N,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(w,W){2&w&&u.uIk("required",W._enabled?"":null)},features:[u._Bn([wi]),u.qOj]}),N})(),Gt=(()=>{class N{}return N.\u0275fac=function(w){return new(w||N)},N.\u0275mod=u.oAB({type:N}),N.\u0275inj=u.cJS({imports:[[os]]}),N})(),gr=(()=>{class N{static withConfig(w){return{ngModule:N,providers:[{provide:me,useValue:w.warnOnNgModelWithFormControl}]}}}return N.\u0275fac=function(w){return new(w||N)},N.\u0275mod=u.oAB({type:N}),N.\u0275inj=u.cJS({imports:[Gt]}),N})(),pn=(()=>{class N{group(w,W=null){const Le=this._reduceControls(w);let Ti,Jt=null,nn=null;return null!=W&&(function er(N){return void 0!==N.asyncValidators||void 0!==N.validators||void 0!==N.updateOn}(W)?(Jt=null!=W.validators?W.validators:null,nn=null!=W.asyncValidators?W.asyncValidators:null,Ti=null!=W.updateOn?W.updateOn:void 0):(Jt=null!=W.validator?W.validator:null,nn=null!=W.asyncValidator?W.asyncValidator:null)),new Hr(Le,{asyncValidators:nn,updateOn:Ti,validators:Jt})}control(w,W,Le){return new or(w,W,Le)}array(w,W,Le){const Jt=w.map(nn=>this._createControl(nn));return new An(Jt,W,Le)}_reduceControls(w){const W={};return Object.keys(w).forEach(Le=>{W[Le]=this._createControl(w[Le])}),W}_createControl(w){return Fn(w)||dr(w)||Yr(w)?w:Array.isArray(w)?this.control(w[0],w.length>1?w[1]:null,w.length>2?w[2]:null):this.control(w)}}return N.\u0275fac=function(w){return new(w||N)},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac,providedIn:gr}),N})()},6360:(Ie,re,D)=>{D.d(re,{Qb:()=>Rs,PW:()=>Gi});var u=D(5e3),B=D(2313),j=D(1777);const te=!1;function ce(H){return new u.vHH(3e3,te)}function Ue(){return"undefined"!=typeof window&&void 0!==window.document}function We(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Et(H){switch(H.length){case 0:return new j.ZN;case 1:return H[0];default:return new j.ZE(H)}}function ln(H,p,_,M,$={},ne={}){const Ee=[],Ce=[];let Je=-1,Dt=null;if(M.forEach(rn=>{const gn=rn.offset,On=gn==Je,fr=On&&Dt||{};Object.keys(rn).forEach(Cn=>{let Ln=Cn,Tr=rn[Cn];if("offset"!==Cn)switch(Ln=p.normalizePropertyName(Ln,Ee),Tr){case j.k1:Tr=$[Cn];break;case j.l3:Tr=ne[Cn];break;default:Tr=p.normalizeStyleValue(Cn,Ln,Tr,Ee)}fr[Ln]=Tr}),On||Ce.push(fr),Dt=fr,Je=gn}),Ee.length)throw function Ze(H){return new u.vHH(3502,te)}();return Ce}function Nn(H,p,_,M){switch(p){case"start":H.onStart(()=>M(_&&zn(_,"start",H)));break;case"done":H.onDone(()=>M(_&&zn(_,"done",H)));break;case"destroy":H.onDestroy(()=>M(_&&zn(_,"destroy",H)))}}function zn(H,p,_){const M=_.totalTime,ne=_n(H.element,H.triggerName,H.fromState,H.toState,p||H.phaseName,null==M?H.totalTime:M,!!_.disabled),Ee=H._data;return null!=Ee&&(ne._data=Ee),ne}function _n(H,p,_,M,$="",ne=0,Ee){return{element:H,triggerName:p,fromState:_,toState:M,phaseName:$,totalTime:ne,disabled:!!Ee}}function fn(H,p,_){let M;return H instanceof Map?(M=H.get(p),M||H.set(p,M=_)):(M=H[p],M||(M=H[p]=_)),M}function Hn(H){const p=H.indexOf(":");return[H.substring(1,p),H.substr(p+1)]}let $n=(H,p)=>!1,sr=(H,p,_)=>[],qt=null;function sn(H){const p=H.parentNode||H.host;return p===qt?null:p}(We()||"undefined"!=typeof Element)&&(Ue()?(qt=(()=>document.documentElement)(),$n=(H,p)=>{for(;p;){if(p===H)return!0;p=sn(p)}return!1}):$n=(H,p)=>H.contains(p),sr=(H,p,_)=>{if(_)return Array.from(H.querySelectorAll(p));const M=H.querySelector(p);return M?[M]:[]});let Mr=null,jr=!1;function dt(H){Mr||(Mr=function be(){return"undefined"!=typeof document?document.body:null}()||{},jr=!!Mr.style&&"WebkitAppearance"in Mr.style);let p=!0;return Mr.style&&!function rr(H){return"ebkit"==H.substring(1,6)}(H)&&(p=H in Mr.style,!p&&jr&&(p="Webkit"+H.charAt(0).toUpperCase()+H.substr(1)in Mr.style)),p}const Pe=$n,It=sr;let bt=(()=>{class H{validateStyleProperty(_){return dt(_)}matchesElement(_,M){return!1}containsElement(_,M){return Pe(_,M)}getParentElement(_){return sn(_)}query(_,M,$){return It(_,M,$)}computeStyle(_,M,$){return $||""}animate(_,M,$,ne,Ee,Ce=[],Je){return new j.ZN($,ne)}}return H.\u0275fac=function(_){return new(_||H)},H.\u0275prov=u.Yz7({token:H,factory:H.\u0275fac}),H})(),Ht=(()=>{class H{}return H.NOOP=new bt,H})();const Dr="ng-enter",cr="ng-leave",Jn="ng-trigger",Rt=".ng-trigger",kn="ng-animating",yn=".ng-animating";function Wt(H){if("number"==typeof H)return H;const p=H.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:ft(parseFloat(p[1]),p[2])}function ft(H,p){return"s"===p?1e3*H:H}function Zt(H,p,_){return H.hasOwnProperty("duration")?H:function on(H,p,_){let $,ne=0,Ee="";if("string"==typeof H){const Ce=H.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ce)return p.push(ce()),{duration:0,delay:0,easing:""};$=ft(parseFloat(Ce[1]),Ce[2]);const Je=Ce[3];null!=Je&&(ne=ft(parseFloat(Je),Ce[4]));const Dt=Ce[5];Dt&&(Ee=Dt)}else $=H;if(!_){let Ce=!1,Je=p.length;$<0&&(p.push(function ue(){return new u.vHH(3100,te)}()),Ce=!0),ne<0&&(p.push(function le(){return new u.vHH(3101,te)}()),Ce=!0),Ce&&p.splice(Je,0,ce())}return{duration:$,delay:ne,easing:Ee}}(H,p,_)}function mn(H,p={}){return Object.keys(H).forEach(_=>{p[_]=H[_]}),p}function _e(H,p,_={}){if(p)for(let M in H)_[M]=H[M];else mn(H,_);return _}function de(H,p,_){return _?p+":"+_+";":""}function we(H){let p="";for(let _=0;_<H.style.length;_++){const M=H.style.item(_);p+=de(0,M,H.style.getPropertyValue(M))}for(const _ in H.style)H.style.hasOwnProperty(_)&&!_.startsWith("_")&&(p+=de(0,Gn(_),H.style[_]));H.setAttribute("style",p)}function rt(H,p,_){H.style&&(Object.keys(p).forEach(M=>{const $=tn(M);_&&!_.hasOwnProperty(M)&&(_[M]=H.style[$]),H.style[$]=p[M]}),We()&&we(H))}function je(H,p){H.style&&(Object.keys(p).forEach(_=>{const M=tn(_);H.style[M]=""}),We()&&we(H))}function xt(H){return Array.isArray(H)?1==H.length?H[0]:(0,j.vP)(H):H}const ye=new RegExp("{{\\s*(.+?)\\s*}}","g");function se(H){let p=[];if("string"==typeof H){let _;for(;_=ye.exec(H);)p.push(_[1]);ye.lastIndex=0}return p}function Se(H,p,_){const M=H.toString(),$=M.replace(ye,(ne,Ee)=>{let Ce=p[Ee];return p.hasOwnProperty(Ee)||(_.push(function X(H){return new u.vHH(3003,te)}()),Ce=""),Ce.toString()});return $==M?H:$}function mt(H){const p=[];let _=H.next();for(;!_.done;)p.push(_.value),_=H.next();return p}const Ft=/-+([a-z0-9])/g;function tn(H){return H.replace(Ft,(...p)=>p[1].toUpperCase())}function Gn(H){return H.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vr(H,p,_){switch(p.type){case 7:return H.visitTrigger(p,_);case 0:return H.visitState(p,_);case 1:return H.visitTransition(p,_);case 2:return H.visitSequence(p,_);case 3:return H.visitGroup(p,_);case 4:return H.visitAnimate(p,_);case 5:return H.visitKeyframes(p,_);case 6:return H.visitStyle(p,_);case 8:return H.visitReference(p,_);case 9:return H.visitAnimateChild(p,_);case 10:return H.visitAnimateRef(p,_);case 11:return H.visitQuery(p,_);case 12:return H.visitStagger(p,_);default:throw function ie(H){return new u.vHH(3004,te)}()}}function si(H,p){return window.getComputedStyle(H)[p]}function yr(H,p){const _=[];return"string"==typeof H?H.split(/\s*,\s*/).forEach(M=>function ni(H,p,_){if(":"==H[0]){const Je=function Kn(H,p){switch(H){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,M)=>parseFloat(M)>parseFloat(_);case":decrement":return(_,M)=>parseFloat(M)<parseFloat(_);default:return p.push(function xe(H){return new u.vHH(3016,te)}()),"* => *"}}(H,_);if("function"==typeof Je)return void p.push(Je);H=Je}const M=H.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return _.push(function At(H){return new u.vHH(3015,te)}()),p;const $=M[1],ne=M[2],Ee=M[3];p.push(An($,Ee));"<"==ne[0]&&!("*"==$&&"*"==Ee)&&p.push(An(Ee,$))}(M,_,p)):_.push(H),_}const or=new Set(["true","1"]),Hr=new Set(["false","0"]);function An(H,p){const _=or.has(H)||Hr.has(H),M=or.has(p)||Hr.has(p);return($,ne)=>{let Ee="*"==H||H==$,Ce="*"==p||p==ne;return!Ee&&_&&"boolean"==typeof $&&(Ee=$?or.has(H):Hr.has(H)),!Ce&&M&&"boolean"==typeof ne&&(Ce=ne?or.has(p):Hr.has(p)),Ee&&Ce}}const ri=new RegExp("s*:selfs*,?","g");function ge(H,p,_,M){return new Ge(H).build(p,_,M)}class Ge{constructor(p){this._driver=p}build(p,_,M){const $=new Vt(_);this._resetContextStyleTimingState($);const ne=Vr(this,xt(p),$);return $.unsupportedCSSPropertiesFound.size&&$.unsupportedCSSPropertiesFound.keys(),ne}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles={},p.collectedStyles[""]={},p.currentTime=0}visitTrigger(p,_){let M=_.queryCount=0,$=_.depCount=0;const ne=[],Ee=[];return"@"==p.name.charAt(0)&&_.errors.push(function et(){return new u.vHH(3006,te)}()),p.definitions.forEach(Ce=>{if(this._resetContextStyleTimingState(_),0==Ce.type){const Je=Ce,Dt=Je.name;Dt.toString().split(/\s*,\s*/).forEach(rn=>{Je.name=rn,ne.push(this.visitState(Je,_))}),Je.name=Dt}else if(1==Ce.type){const Je=this.visitTransition(Ce,_);M+=Je.queryCount,$+=Je.depCount,Ee.push(Je)}else _.errors.push(function Ye(){return new u.vHH(3007,te)}())}),{type:7,name:p.name,states:ne,transitions:Ee,queryCount:M,depCount:$,options:null}}visitState(p,_){const M=this.visitStyle(p.styles,_),$=p.options&&p.options.params||null;if(M.containsDynamicStyles){const ne=new Set,Ee=$||{};M.styles.forEach(Ce=>{if(vr(Ce)){const Je=Ce;Object.keys(Je).forEach(Dt=>{se(Je[Dt]).forEach(rn=>{Ee.hasOwnProperty(rn)||ne.add(rn)})})}}),ne.size&&(mt(ne.values()),_.errors.push(function Qe(H,p){return new u.vHH(3008,te)}()))}return{type:0,name:p.name,style:M,options:$?{params:$}:null}}visitTransition(p,_){_.queryCount=0,_.depCount=0;const M=Vr(this,xt(p.animation),_);return{type:1,matchers:yr(p.expr,_.errors),animation:M,queryCount:_.queryCount,depCount:_.depCount,options:Xn(p.options)}}visitSequence(p,_){return{type:2,steps:p.steps.map(M=>Vr(this,M,_)),options:Xn(p.options)}}visitGroup(p,_){const M=_.currentTime;let $=0;const ne=p.steps.map(Ee=>{_.currentTime=M;const Ce=Vr(this,Ee,_);return $=Math.max($,_.currentTime),Ce});return _.currentTime=$,{type:3,steps:ne,options:Xn(p.options)}}visitAnimate(p,_){const M=function Ir(H,p){let _=null;if(H.hasOwnProperty("duration"))_=H;else if("number"==typeof H)return jn(Zt(H,p).duration,0,"");const M=H;if(M.split(/\s+/).some(ne=>"{"==ne.charAt(0)&&"{"==ne.charAt(1))){const ne=jn(0,0,"");return ne.dynamic=!0,ne.strValue=M,ne}return _=_||Zt(M,p),jn(_.duration,_.delay,_.easing)}(p.timings,_.errors);_.currentAnimateTimings=M;let $,ne=p.styles?p.styles:(0,j.oB)({});if(5==ne.type)$=this.visitKeyframes(ne,_);else{let Ee=p.styles,Ce=!1;if(!Ee){Ce=!0;const Dt={};M.easing&&(Dt.easing=M.easing),Ee=(0,j.oB)(Dt)}_.currentTime+=M.duration+M.delay;const Je=this.visitStyle(Ee,_);Je.isEmptyStep=Ce,$=Je}return _.currentAnimateTimings=null,{type:4,timings:M,style:$,options:null}}visitStyle(p,_){const M=this._makeStyleAst(p,_);return this._validateStyleAst(M,_),M}_makeStyleAst(p,_){const M=[];Array.isArray(p.styles)?p.styles.forEach(Ee=>{"string"==typeof Ee?Ee==j.l3?M.push(Ee):_.errors.push(function nt(H){return new u.vHH(3002,te)}()):M.push(Ee)}):M.push(p.styles);let $=!1,ne=null;return M.forEach(Ee=>{if(vr(Ee)){const Ce=Ee,Je=Ce.easing;if(Je&&(ne=Je,delete Ce.easing),!$)for(let Dt in Ce)if(Ce[Dt].toString().indexOf("{{")>=0){$=!0;break}}}),{type:6,styles:M,easing:ne,offset:p.offset,containsDynamicStyles:$,options:null}}_validateStyleAst(p,_){const M=_.currentAnimateTimings;let $=_.currentTime,ne=_.currentTime;M&&ne>0&&(ne-=M.duration+M.delay),p.styles.forEach(Ee=>{"string"!=typeof Ee&&Object.keys(Ee).forEach(Ce=>{if(!this._driver.validateStyleProperty(Ce))return delete Ee[Ce],void _.unsupportedCSSPropertiesFound.add(Ce);const Je=_.collectedStyles[_.currentQuerySelector],Dt=Je[Ce];let rn=!0;Dt&&(ne!=$&&ne>=Dt.startTime&&$<=Dt.endTime&&(_.errors.push(function Ve(H,p,_,M,$){return new u.vHH(3010,te)}()),rn=!1),ne=Dt.startTime),rn&&(Je[Ce]={startTime:ne,endTime:$}),_.options&&function Re(H,p,_){const M=p.params||{},$=se(H);$.length&&$.forEach(ne=>{M.hasOwnProperty(ne)||_.push(function ee(H){return new u.vHH(3001,te)}())})}(Ee[Ce],_.options,_.errors)})})}visitKeyframes(p,_){const M={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function vt(){return new u.vHH(3011,te)}()),M;let ne=0;const Ee=[];let Ce=!1,Je=!1,Dt=0;const rn=p.steps.map(Gr=>{const Ai=this._makeStyleAst(Gr,_);let Oi=null!=Ai.offset?Ai.offset:function cn(H){if("string"==typeof H)return null;let p=null;if(Array.isArray(H))H.forEach(_=>{if(vr(_)&&_.hasOwnProperty("offset")){const M=_;p=parseFloat(M.offset),delete M.offset}});else if(vr(H)&&H.hasOwnProperty("offset")){const _=H;p=parseFloat(_.offset),delete _.offset}return p}(Ai.styles),wr=0;return null!=Oi&&(ne++,wr=Ai.offset=Oi),Je=Je||wr<0||wr>1,Ce=Ce||wr<Dt,Dt=wr,Ee.push(wr),Ai});Je&&_.errors.push(function Tt(){return new u.vHH(3012,te)}()),Ce&&_.errors.push(function ke(){return new u.vHH(3200,te)}());const gn=p.steps.length;let On=0;ne>0&&ne<gn?_.errors.push(function F(){return new u.vHH(3202,te)}()):0==ne&&(On=1/(gn-1));const fr=gn-1,Cn=_.currentTime,Ln=_.currentAnimateTimings,Tr=Ln.duration;return rn.forEach((Gr,Ai)=>{const Oi=On>0?Ai==fr?1:On*Ai:Ee[Ai],wr=Oi*Tr;_.currentTime=Cn+Ln.delay+wr,Ln.duration=wr,this._validateStyleAst(Gr,_),Gr.offset=Oi,M.styles.push(Gr)}),M}visitReference(p,_){return{type:8,animation:Vr(this,xt(p.animation),_),options:Xn(p.options)}}visitAnimateChild(p,_){return _.depCount++,{type:9,options:Xn(p.options)}}visitAnimateRef(p,_){return{type:10,animation:this.visitReference(p.animation,_),options:Xn(p.options)}}visitQuery(p,_){const M=_.currentQuerySelector,$=p.options||{};_.queryCount++,_.currentQuery=p;const[ne,Ee]=function tt(H){const p=!!H.split(/\s*,\s*/).find(_=>":self"==_);return p&&(H=H.replace(ri,"")),H=H.replace(/@\*/g,Rt).replace(/@\w+/g,_=>Rt+"-"+_.substr(1)).replace(/:animating/g,yn),[H,p]}(p.selector);_.currentQuerySelector=M.length?M+" "+ne:ne,fn(_.collectedStyles,_.currentQuerySelector,{});const Ce=Vr(this,xt(p.animation),_);return _.currentQuery=null,_.currentQuerySelector=M,{type:11,selector:ne,limit:$.limit||0,optional:!!$.optional,includeSelf:Ee,animation:Ce,originalSelector:p.selector,options:Xn(p.options)}}visitStagger(p,_){_.currentQuery||_.errors.push(function Ke(){return new u.vHH(3013,te)}());const M="full"===p.timings?{duration:0,delay:0,easing:"full"}:Zt(p.timings,_.errors,!0);return{type:12,animation:Vr(this,xt(p.animation),_),timings:M,options:null}}}class Vt{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vr(H){return!Array.isArray(H)&&"object"==typeof H}function Xn(H){return H?(H=mn(H)).params&&(H.params=function kt(H){return H?mn(H):null}(H.params)):H={},H}function jn(H,p,_){return{duration:H,delay:p,easing:_}}function qr(H,p,_,M,$,ne,Ee=null,Ce=!1){return{type:1,element:H,keyframes:p,preStyleProps:_,postStyleProps:M,duration:$,delay:ne,totalTime:$+ne,easing:Ee,subTimeline:Ce}}class Ci{constructor(){this._map=new Map}get(p){return this._map.get(p)||[]}append(p,_){let M=this._map.get(p);M||this._map.set(p,M=[]),M.push(..._)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const Ss=new RegExp(":enter","g"),fs=new RegExp(":leave","g");function Br(H,p,_,M,$,ne={},Ee={},Ce,Je,Dt=[]){return(new hr).buildKeyframes(H,p,_,M,$,ne,Ee,Ce,Je,Dt)}class hr{buildKeyframes(p,_,M,$,ne,Ee,Ce,Je,Dt,rn=[]){Dt=Dt||new Ci;const gn=new me(p,_,Dt,$,ne,rn,[]);gn.options=Je,gn.currentTimeline.setStyles([Ee],null,gn.errors,Je),Vr(this,M,gn);const On=gn.timelines.filter(fr=>fr.containsAnimation());if(Object.keys(Ce).length){let fr;for(let Cn=On.length-1;Cn>=0;Cn--){const Ln=On[Cn];if(Ln.element===_){fr=Ln;break}}fr&&!fr.allowOnlyTimelineStyles()&&fr.setStyles([Ce],null,gn.errors,Je)}return On.length?On.map(fr=>fr.buildKeyframes()):[qr(_,[],[],[],0,0,"",!1)]}visitTrigger(p,_){}visitState(p,_){}visitTransition(p,_){}visitAnimateChild(p,_){const M=_.subInstructions.get(_.element);if(M){const $=_.createSubContext(p.options),ne=_.currentTimeline.currentTime,Ee=this._visitSubInstructions(M,$,$.options);ne!=Ee&&_.transformIntoNewTimeline(Ee)}_.previousNode=p}visitAnimateRef(p,_){const M=_.createSubContext(p.options);M.transformIntoNewTimeline(),this.visitReference(p.animation,M),_.transformIntoNewTimeline(M.currentTimeline.currentTime),_.previousNode=p}_visitSubInstructions(p,_,M){let ne=_.currentTimeline.currentTime;const Ee=null!=M.duration?Wt(M.duration):null,Ce=null!=M.delay?Wt(M.delay):null;return 0!==Ee&&p.forEach(Je=>{const Dt=_.appendInstructionToTimeline(Je,Ee,Ce);ne=Math.max(ne,Dt.duration+Dt.delay)}),ne}visitReference(p,_){_.updateOptions(p.options,!0),Vr(this,p.animation,_),_.previousNode=p}visitSequence(p,_){const M=_.subContextCount;let $=_;const ne=p.options;if(ne&&(ne.params||ne.delay)&&($=_.createSubContext(ne),$.transformIntoNewTimeline(),null!=ne.delay)){6==$.previousNode.type&&($.currentTimeline.snapshotCurrentStyles(),$.previousNode=ar);const Ee=Wt(ne.delay);$.delayNextStep(Ee)}p.steps.length&&(p.steps.forEach(Ee=>Vr(this,Ee,$)),$.currentTimeline.applyStylesToKeyframe(),$.subContextCount>M&&$.transformIntoNewTimeline()),_.previousNode=p}visitGroup(p,_){const M=[];let $=_.currentTimeline.currentTime;const ne=p.options&&p.options.delay?Wt(p.options.delay):0;p.steps.forEach(Ee=>{const Ce=_.createSubContext(p.options);ne&&Ce.delayNextStep(ne),Vr(this,Ee,Ce),$=Math.max($,Ce.currentTimeline.currentTime),M.push(Ce.currentTimeline)}),M.forEach(Ee=>_.currentTimeline.mergeTimelineCollectedStyles(Ee)),_.transformIntoNewTimeline($),_.previousNode=p}_visitTiming(p,_){if(p.dynamic){const M=p.strValue;return Zt(_.params?Se(M,_.params,_.errors):M,_.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,_){const M=_.currentAnimateTimings=this._visitTiming(p.timings,_),$=_.currentTimeline;M.delay&&(_.incrementTime(M.delay),$.snapshotCurrentStyles());const ne=p.style;5==ne.type?this.visitKeyframes(ne,_):(_.incrementTime(M.duration),this.visitStyle(ne,_),$.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=p}visitStyle(p,_){const M=_.currentTimeline,$=_.currentAnimateTimings;!$&&M.getCurrentStyleProperties().length&&M.forwardFrame();const ne=$&&$.easing||p.easing;p.isEmptyStep?M.applyEmptyStep(ne):M.setStyles(p.styles,ne,_.errors,_.options),_.previousNode=p}visitKeyframes(p,_){const M=_.currentAnimateTimings,$=_.currentTimeline.duration,ne=M.duration,Ce=_.createSubContext().currentTimeline;Ce.easing=M.easing,p.styles.forEach(Je=>{Ce.forwardTime((Je.offset||0)*ne),Ce.setStyles(Je.styles,Je.easing,_.errors,_.options),Ce.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(Ce),_.transformIntoNewTimeline($+ne),_.previousNode=p}visitQuery(p,_){const M=_.currentTimeline.currentTime,$=p.options||{},ne=$.delay?Wt($.delay):0;ne&&(6===_.previousNode.type||0==M&&_.currentTimeline.getCurrentStyleProperties().length)&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=ar);let Ee=M;const Ce=_.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!$.optional,_.errors);_.currentQueryTotal=Ce.length;let Je=null;Ce.forEach((Dt,rn)=>{_.currentQueryIndex=rn;const gn=_.createSubContext(p.options,Dt);ne&&gn.delayNextStep(ne),Dt===_.element&&(Je=gn.currentTimeline),Vr(this,p.animation,gn),gn.currentTimeline.applyStylesToKeyframe(),Ee=Math.max(Ee,gn.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(Ee),Je&&(_.currentTimeline.mergeTimelineCollectedStyles(Je),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=p}visitStagger(p,_){const M=_.parentContext,$=_.currentTimeline,ne=p.timings,Ee=Math.abs(ne.duration),Ce=Ee*(_.currentQueryTotal-1);let Je=Ee*_.currentQueryIndex;switch(ne.duration<0?"reverse":ne.easing){case"reverse":Je=Ce-Je;break;case"full":Je=M.currentStaggerTime}const rn=_.currentTimeline;Je&&rn.delayNextStep(Je);const gn=rn.currentTime;Vr(this,p.animation,_),_.previousNode=p,M.currentStaggerTime=$.currentTime-gn+($.startTime-M.currentTimeline.startTime)}}const ar={};class me{constructor(p,_,M,$,ne,Ee,Ce,Je){this._driver=p,this.element=_,this.subInstructions=M,this._enterClassName=$,this._leaveClassName=ne,this.errors=Ee,this.timelines=Ce,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ar,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Je||new Me(this._driver,_,0),Ce.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,_){if(!p)return;const M=p;let $=this.options;null!=M.duration&&($.duration=Wt(M.duration)),null!=M.delay&&($.delay=Wt(M.delay));const ne=M.params;if(ne){let Ee=$.params;Ee||(Ee=this.options.params={}),Object.keys(ne).forEach(Ce=>{(!_||!Ee.hasOwnProperty(Ce))&&(Ee[Ce]=Se(ne[Ce],Ee,this.errors))})}}_copyOptions(){const p={};if(this.options){const _=this.options.params;if(_){const M=p.params={};Object.keys(_).forEach($=>{M[$]=_[$]})}}return p}createSubContext(p=null,_,M){const $=_||this.element,ne=new me(this._driver,$,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork($,M||0));return ne.previousNode=this.previousNode,ne.currentAnimateTimings=this.currentAnimateTimings,ne.options=this._copyOptions(),ne.updateOptions(p),ne.currentQueryIndex=this.currentQueryIndex,ne.currentQueryTotal=this.currentQueryTotal,ne.parentContext=this,this.subContextCount++,ne}transformIntoNewTimeline(p){return this.previousNode=ar,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,_,M){const $={duration:null!=_?_:p.duration,delay:this.currentTimeline.currentTime+(null!=M?M:0)+p.delay,easing:""},ne=new Be(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,$,p.stretchStartingKeyframe);return this.timelines.push(ne),$}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,_,M,$,ne,Ee){let Ce=[];if($&&Ce.push(this.element),p.length>0){p=(p=p.replace(Ss,"."+this._enterClassName)).replace(fs,"."+this._leaveClassName);let Dt=this._driver.query(this.element,p,1!=M);0!==M&&(Dt=M<0?Dt.slice(Dt.length+M,Dt.length):Dt.slice(0,M)),Ce.push(...Dt)}return!ne&&0==Ce.length&&Ee.push(function ct(H){return new u.vHH(3014,te)}()),Ce}}class Me{constructor(p,_,M,$){this._driver=p,this.element=_,this.startTime=M,this._elementTimelineStylesLookup=$,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const _=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||_?(this.forwardTime(this.currentTime+p),_&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,_){return this.applyStylesToKeyframe(),new Me(this._driver,p,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,_){this._localTimelineStyles[p]=_,this._globalTimelineStyles[p]=_,this._styleSummary[p]={time:this.currentTime,value:_}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&(this._previousKeyframe.easing=p),Object.keys(this._globalTimelineStyles).forEach(_=>{this._backFill[_]=this._globalTimelineStyles[_]||j.l3,this._currentKeyframe[_]=j.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,_,M,$){_&&(this._previousKeyframe.easing=_);const ne=$&&$.params||{},Ee=function Lt(H,p){const _={};let M;return H.forEach($=>{"*"===$?(M=M||Object.keys(p),M.forEach(ne=>{_[ne]=j.l3})):_e($,!1,_)}),_}(p,this._globalTimelineStyles);Object.keys(Ee).forEach(Ce=>{const Je=Se(Ee[Ce],ne,M);this._pendingStyles[Ce]=Je,this._localTimelineStyles.hasOwnProperty(Ce)||(this._backFill[Ce]=this._globalTimelineStyles.hasOwnProperty(Ce)?this._globalTimelineStyles[Ce]:j.l3),this._updateStyle(Ce,Je)})}applyStylesToKeyframe(){const p=this._pendingStyles,_=Object.keys(p);0!=_.length&&(this._pendingStyles={},_.forEach(M=>{this._currentKeyframe[M]=p[M]}),Object.keys(this._localTimelineStyles).forEach(M=>{this._currentKeyframe.hasOwnProperty(M)||(this._currentKeyframe[M]=this._localTimelineStyles[M])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(p=>{const _=this._localTimelineStyles[p];this._pendingStyles[p]=_,this._updateStyle(p,_)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let _ in this._currentKeyframe)p.push(_);return p}mergeTimelineCollectedStyles(p){Object.keys(p._styleSummary).forEach(_=>{const M=this._styleSummary[_],$=p._styleSummary[_];(!M||$.time>M.time)&&this._updateStyle(_,$.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,_=new Set,M=1===this._keyframes.size&&0===this.duration;let $=[];this._keyframes.forEach((Ce,Je)=>{const Dt=_e(Ce,!0);Object.keys(Dt).forEach(rn=>{const gn=Dt[rn];gn==j.k1?p.add(rn):gn==j.l3&&_.add(rn)}),M||(Dt.offset=Je/this.duration),$.push(Dt)});const ne=p.size?mt(p.values()):[],Ee=_.size?mt(_.values()):[];if(M){const Ce=$[0],Je=mn(Ce);Ce.offset=0,Je.offset=1,$=[Ce,Je]}return qr(this.element,$,ne,Ee,this.duration,this.startTime,this.easing,!1)}}class Be extends Me{constructor(p,_,M,$,ne,Ee,Ce=!1){super(p,_,Ee.delay),this.keyframes=M,this.preStyleProps=$,this.postStyleProps=ne,this._stretchStartingKeyframe=Ce,this.timings={duration:Ee.duration,delay:Ee.delay,easing:Ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:_,duration:M,easing:$}=this.timings;if(this._stretchStartingKeyframe&&_){const ne=[],Ee=M+_,Ce=_/Ee,Je=_e(p[0],!1);Je.offset=0,ne.push(Je);const Dt=_e(p[0],!1);Dt.offset=wt(Ce),ne.push(Dt);const rn=p.length-1;for(let gn=1;gn<=rn;gn++){let On=_e(p[gn],!1);On.offset=wt((_+On.offset*M)/Ee),ne.push(On)}M=Ee,_=0,$="",p=ne}return qr(this.element,p,this.preStyleProps,this.postStyleProps,M,_,$,!0)}}function wt(H,p=3){const _=Math.pow(10,p-1);return Math.round(H*_)/_}class pr{}class Qt extends pr{normalizePropertyName(p,_){return tn(p)}normalizeStyleValue(p,_,M,$){let ne="";const Ee=M.toString().trim();if(Fr[_]&&0!==M&&"0"!==M)if("number"==typeof M)ne="px";else{const Ce=M.match(/^[+-]?[\d\.]+([a-z]*)$/);Ce&&0==Ce[1].length&&$.push(function fe(H,p){return new u.vHH(3005,te)}())}return Ee+ne}}const Fr=(()=>function es(H){const p={};return H.forEach(_=>p[_]=!0),p}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Vi(H,p,_,M,$,ne,Ee,Ce,Je,Dt,rn,gn,On){return{type:0,element:H,triggerName:p,isRemovalTransition:$,fromState:_,fromStyles:ne,toState:M,toStyles:Ee,timelines:Ce,queriedElements:Je,preStyleProps:Dt,postStyleProps:rn,totalTime:gn,errors:On}}const ai={};class mi{constructor(p,_,M){this._triggerName=p,this.ast=_,this._stateStyles=M}match(p,_,M,$){return function io(H,p,_,M,$){return H.some(ne=>ne(p,_,M,$))}(this.ast.matchers,p,_,M,$)}buildStyles(p,_,M){const $=this._stateStyles["*"],ne=this._stateStyles[p],Ee=$?$.buildStyles(_,M):{};return ne?ne.buildStyles(_,M):Ee}build(p,_,M,$,ne,Ee,Ce,Je,Dt,rn){const gn=[],On=this.ast.options&&this.ast.options.params||ai,Cn=this.buildStyles(M,Ce&&Ce.params||ai,gn),Ln=Je&&Je.params||ai,Tr=this.buildStyles($,Ln,gn),Gr=new Set,Ai=new Map,Oi=new Map,wr="void"===$,cs={params:Object.assign(Object.assign({},On),Ln)},Lr=rn?[]:Br(p,_,this.ast.animation,ne,Ee,Cn,Tr,cs,Dt,gn);let Ri=0;if(Lr.forEach(Ds=>{Ri=Math.max(Ds.duration+Ds.delay,Ri)}),gn.length)return Vi(_,this._triggerName,M,$,wr,Cn,Tr,[],[],Ai,Oi,Ri,gn);Lr.forEach(Ds=>{const zi=Ds.element,Ks=fn(Ai,zi,{});Ds.preStyleProps.forEach(ei=>Ks[ei]=!0);const is=fn(Oi,zi,{});Ds.postStyleProps.forEach(ei=>is[ei]=!0),zi!==_&&Gr.add(zi)});const Nr=mt(Gr.values());return Vi(_,this._triggerName,M,$,wr,Cn,Tr,Lr,Nr,Ai,Oi,Ri)}}class Bi{constructor(p,_,M){this.styles=p,this.defaultParams=_,this.normalizer=M}buildStyles(p,_){const M={},$=mn(this.defaultParams);return Object.keys(p).forEach(ne=>{const Ee=p[ne];null!=Ee&&($[ne]=Ee)}),this.styles.styles.forEach(ne=>{if("string"!=typeof ne){const Ee=ne;Object.keys(Ee).forEach(Ce=>{let Je=Ee[Ce];Je.length>1&&(Je=Se(Je,$,_));const Dt=this.normalizer.normalizePropertyName(Ce,_);Je=this.normalizer.normalizeStyleValue(Ce,Dt,Je,_),M[Dt]=Je})}}),M}}class li{constructor(p,_,M){this.name=p,this.ast=_,this._normalizer=M,this.transitionFactories=[],this.states={},_.states.forEach($=>{this.states[$.name]=new Bi($.style,$.options&&$.options.params||{},M)}),xi(this.states,"true","1"),xi(this.states,"false","0"),_.transitions.forEach($=>{this.transitionFactories.push(new mi(p,$,this.states))}),this.fallbackTransition=function ns(H,p,_){return new mi(H,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ee,Ce)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,_,M,$){return this.transitionFactories.find(Ee=>Ee.match(p,_,M,$))||null}matchStyles(p,_,M){return this.fallbackTransition.buildStyles(p,_,M)}}function xi(H,p,_){H.hasOwnProperty(p)?H.hasOwnProperty(_)||(H[_]=H[p]):H.hasOwnProperty(_)&&(H[p]=H[_])}const as=new Ci;class ls{constructor(p,_,M){this.bodyNode=p,this._driver=_,this._normalizer=M,this._animations={},this._playersById={},this.players=[]}register(p,_){const M=[],ne=ge(this._driver,_,M,[]);if(M.length)throw function it(H){return new u.vHH(3503,te)}();this._animations[p]=ne}_buildPlayer(p,_,M){const $=p.element,ne=ln(0,this._normalizer,0,p.keyframes,_,M);return this._driver.animate($,ne,p.duration,p.delay,p.easing,[],!0)}create(p,_,M={}){const $=[],ne=this._animations[p];let Ee;const Ce=new Map;if(ne?(Ee=Br(this._driver,_,ne,Dr,cr,{},{},M,as,$),Ee.forEach(rn=>{const gn=fn(Ce,rn.element,{});rn.postStyleProps.forEach(On=>gn[On]=null)})):($.push(function He(){return new u.vHH(3300,te)}()),Ee=[]),$.length)throw function $t(H){return new u.vHH(3504,te)}();Ce.forEach((rn,gn)=>{Object.keys(rn).forEach(On=>{rn[On]=this._driver.computeStyle(gn,On,j.l3)})});const Dt=Et(Ee.map(rn=>{const gn=Ce.get(rn.element);return this._buildPlayer(rn,{},gn)}));return this._playersById[p]=Dt,Dt.onDestroy(()=>this.destroy(p)),this.players.push(Dt),Dt}destroy(p){const _=this._getPlayer(p);_.destroy(),delete this._playersById[p];const M=this.players.indexOf(_);M>=0&&this.players.splice(M,1)}_getPlayer(p){const _=this._playersById[p];if(!_)throw function Mn(H){return new u.vHH(3301,te)}();return _}listen(p,_,M,$){const ne=_n(_,"","","");return Nn(this._getPlayer(p),M,ne,$),()=>{}}command(p,_,M,$){if("register"==M)return void this.register(p,$[0]);if("create"==M)return void this.create(p,_,$[0]||{});const ne=this._getPlayer(p);switch(M){case"play":ne.play();break;case"pause":ne.pause();break;case"reset":ne.reset();break;case"restart":ne.restart();break;case"finish":ne.finish();break;case"init":ne.init();break;case"setPosition":ne.setPosition(parseFloat($[0]));break;case"destroy":this.destroy(p)}}}const zs="ng-animate-queued",ki="ng-animate-disabled",bn=[],ui={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ps={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Rr="__ng_removed";class wi{constructor(p,_=""){this.namespaceId=_;const M=p&&p.hasOwnProperty("value");if(this.value=function R(H){return null!=H?H:null}(M?p.value:p),M){const ne=mn(p);delete ne.value,this.options=ne}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(p){const _=p.params;if(_){const M=this.options.params;Object.keys(_).forEach($=>{null==M[$]&&(M[$]=_[$])})}}}const Di="void",Qr=new wi(Di);class Li{constructor(p,_,M){this.id=p,this.hostElement=_,this._engine=M,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,Ct(_,this._hostClassName)}listen(p,_,M,$){if(!this._triggers.hasOwnProperty(_))throw function Qn(H,p){return new u.vHH(3302,te)}();if(null==M||0==M.length)throw function Ut(H){return new u.vHH(3303,te)}();if(!function O(H){return"start"==H||"done"==H}(M))throw function Bt(H,p){return new u.vHH(3400,te)}();const ne=fn(this._elementListeners,p,[]),Ee={name:_,phase:M,callback:$};ne.push(Ee);const Ce=fn(this._engine.statesByElement,p,{});return Ce.hasOwnProperty(_)||(Ct(p,Jn),Ct(p,Jn+"-"+_),Ce[_]=Qr),()=>{this._engine.afterFlush(()=>{const Je=ne.indexOf(Ee);Je>=0&&ne.splice(Je,1),this._triggers[_]||delete Ce[_]})}}register(p,_){return!this._triggers[p]&&(this._triggers[p]=_,!0)}_getTrigger(p){const _=this._triggers[p];if(!_)throw function Pn(H){return new u.vHH(3401,te)}();return _}trigger(p,_,M,$=!0){const ne=this._getTrigger(_),Ee=new Ms(this.id,_,p);let Ce=this._engine.statesByElement.get(p);Ce||(Ct(p,Jn),Ct(p,Jn+"-"+_),this._engine.statesByElement.set(p,Ce={}));let Je=Ce[_];const Dt=new wi(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&Je&&Dt.absorbOptions(Je.options),Ce[_]=Dt,Je||(Je=Qr),Dt.value!==Di&&Je.value===Dt.value){if(!function pn(H,p){const _=Object.keys(H),M=Object.keys(p);if(_.length!=M.length)return!1;for(let $=0;$<_.length;$++){const ne=_[$];if(!p.hasOwnProperty(ne)||H[ne]!==p[ne])return!1}return!0}(Je.params,Dt.params)){const Ln=[],Tr=ne.matchStyles(Je.value,Je.params,Ln),Gr=ne.matchStyles(Dt.value,Dt.params,Ln);Ln.length?this._engine.reportError(Ln):this._engine.afterFlush(()=>{je(p,Tr),rt(p,Gr)})}return}const On=fn(this._engine.playersByElement,p,[]);On.forEach(Ln=>{Ln.namespaceId==this.id&&Ln.triggerName==_&&Ln.queued&&Ln.destroy()});let fr=ne.matchTransition(Je.value,Dt.value,p,Dt.params),Cn=!1;if(!fr){if(!$)return;fr=ne.fallbackTransition,Cn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:_,transition:fr,fromState:Je,toState:Dt,player:Ee,isFallbackTransition:Cn}),Cn||(Ct(p,zs),Ee.onStart(()=>{Gt(p,zs)})),Ee.onDone(()=>{let Ln=this.players.indexOf(Ee);Ln>=0&&this.players.splice(Ln,1);const Tr=this._engine.playersByElement.get(p);if(Tr){let Gr=Tr.indexOf(Ee);Gr>=0&&Tr.splice(Gr,1)}}),this.players.push(Ee),On.push(Ee),Ee}deregister(p){delete this._triggers[p],this._engine.statesByElement.forEach((_,M)=>{delete _[p]}),this._elementListeners.forEach((_,M)=>{this._elementListeners.set(M,_.filter($=>$.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const _=this._engine.playersByElement.get(p);_&&(_.forEach(M=>M.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,_){const M=this._engine.driver.query(p,Rt,!0);M.forEach($=>{if($[Rr])return;const ne=this._engine.fetchNamespacesByElement($);ne.size?ne.forEach(Ee=>Ee.triggerLeaveAnimation($,_,!1,!0)):this.clearElementCache($)}),this._engine.afterFlushAnimationsDone(()=>M.forEach($=>this.clearElementCache($)))}triggerLeaveAnimation(p,_,M,$){const ne=this._engine.statesByElement.get(p),Ee=new Map;if(ne){const Ce=[];if(Object.keys(ne).forEach(Je=>{if(Ee.set(Je,ne[Je].value),this._triggers[Je]){const Dt=this.trigger(p,Je,Di,$);Dt&&Ce.push(Dt)}}),Ce.length)return this._engine.markElementAsRemoved(this.id,p,!0,_,Ee),M&&Et(Ce).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const _=this._elementListeners.get(p),M=this._engine.statesByElement.get(p);if(_&&M){const $=new Set;_.forEach(ne=>{const Ee=ne.name;if($.has(Ee))return;$.add(Ee);const Je=this._triggers[Ee].fallbackTransition,Dt=M[Ee]||Qr,rn=new wi(Di),gn=new Ms(this.id,Ee,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:Ee,transition:Je,fromState:Dt,toState:rn,player:gn,isFallbackTransition:!0})})}}removeNode(p,_){const M=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,_),this.triggerLeaveAnimation(p,_,!0))return;let $=!1;if(M.totalAnimations){const ne=M.players.length?M.playersByQueriedElement.get(p):[];if(ne&&ne.length)$=!0;else{let Ee=p;for(;Ee=Ee.parentNode;)if(M.statesByElement.get(Ee)){$=!0;break}}}if(this.prepareLeaveAnimationListeners(p),$)M.markElementAsRemoved(this.id,p,!1,_);else{const ne=p[Rr];(!ne||ne===ui)&&(M.afterFlush(()=>this.clearElementCache(p)),M.destroyInnerAnimations(p),M._onRemovalComplete(p,_))}}insertNode(p,_){Ct(p,this._hostClassName)}drainQueuedTransitions(p){const _=[];return this._queue.forEach(M=>{const $=M.player;if($.destroyed)return;const ne=M.element,Ee=this._elementListeners.get(ne);Ee&&Ee.forEach(Ce=>{if(Ce.name==M.triggerName){const Je=_n(ne,M.triggerName,M.fromState.value,M.toState.value);Je._data=p,Nn(M.player,Ce.phase,Je,Ce.callback)}}),$.markedForDestroy?this._engine.afterFlush(()=>{$.destroy()}):_.push(M)}),this._queue=[],_.sort((M,$)=>{const ne=M.transition.ast.depCount,Ee=$.transition.ast.depCount;return 0==ne||0==Ee?ne-Ee:this._engine.driver.containsElement(M.element,$.element)?1:-1})}destroy(p){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}elementContainsData(p){let _=!1;return this._elementListeners.has(p)&&(_=!0),_=!!this._queue.find(M=>M.element===p)||_,_}}class ci{constructor(p,_,M){this.bodyNode=p,this.driver=_,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=($,ne)=>{}}_onRemovalComplete(p,_){this.onRemovalComplete(p,_)}get queuedPlayers(){const p=[];return this._namespaceList.forEach(_=>{_.players.forEach(M=>{M.queued&&p.push(M)})}),p}createNamespace(p,_){const M=new Li(p,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(M,_):(this.newHostElements.set(_,M),this.collectEnterElement(_)),this._namespaceLookup[p]=M}_balanceNamespaceList(p,_){const M=this._namespaceList,$=this.namespacesByHostElement,ne=M.length-1;if(ne>=0){let Ee=!1;if(void 0!==this.driver.getParentElement){let Ce=this.driver.getParentElement(_);for(;Ce;){const Je=$.get(Ce);if(Je){const Dt=M.indexOf(Je);M.splice(Dt+1,0,p),Ee=!0;break}Ce=this.driver.getParentElement(Ce)}}else for(let Ce=ne;Ce>=0;Ce--)if(this.driver.containsElement(M[Ce].hostElement,_)){M.splice(Ce+1,0,p),Ee=!0;break}Ee||M.unshift(p)}else M.push(p);return $.set(_,p),p}register(p,_){let M=this._namespaceLookup[p];return M||(M=this.createNamespace(p,_)),M}registerTrigger(p,_,M){let $=this._namespaceLookup[p];$&&$.register(_,M)&&this.totalAnimations++}destroy(p,_){if(!p)return;const M=this._fetchNamespace(p);this.afterFlush(()=>{this.namespacesByHostElement.delete(M.hostElement),delete this._namespaceLookup[p];const $=this._namespaceList.indexOf(M);$>=0&&this._namespaceList.splice($,1)}),this.afterFlushAnimationsDone(()=>M.destroy(_))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const _=new Set,M=this.statesByElement.get(p);if(M){const $=Object.keys(M);for(let ne=0;ne<$.length;ne++){const Ee=M[$[ne]].namespaceId;if(Ee){const Ce=this._fetchNamespace(Ee);Ce&&_.add(Ce)}}}return _}trigger(p,_,M,$){if(z(_)){const ne=this._fetchNamespace(p);if(ne)return ne.trigger(_,M,$),!0}return!1}insertNode(p,_,M,$){if(!z(_))return;const ne=_[Rr];if(ne&&ne.setForRemoval){ne.setForRemoval=!1,ne.setForMove=!0;const Ee=this.collectedLeaveElements.indexOf(_);Ee>=0&&this.collectedLeaveElements.splice(Ee,1)}if(p){const Ee=this._fetchNamespace(p);Ee&&Ee.insertNode(_,M)}$&&this.collectEnterElement(_)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,_){_?this.disabledNodes.has(p)||(this.disabledNodes.add(p),Ct(p,ki)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),Gt(p,ki))}removeNode(p,_,M,$){if(z(_)){const ne=p?this._fetchNamespace(p):null;if(ne?ne.removeNode(_,$):this.markElementAsRemoved(p,_,!1,$),M){const Ee=this.namespacesByHostElement.get(_);Ee&&Ee.id!==p&&Ee.removeNode(_,$)}}else this._onRemovalComplete(_,$)}markElementAsRemoved(p,_,M,$,ne){this.collectedLeaveElements.push(_),_[Rr]={namespaceId:p,setForRemoval:$,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:ne}}listen(p,_,M,$,ne){return z(_)?this._fetchNamespace(p).listen(_,M,$,ne):()=>{}}_buildInstruction(p,_,M,$,ne){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,M,$,p.fromState.options,p.toState.options,_,ne)}destroyInnerAnimations(p){let _=this.driver.query(p,Rt,!0);_.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(p,yn,!0),_.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(p){const _=this.playersByElement.get(p);_&&_.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(p){const _=this.playersByQueriedElement.get(p);_&&_.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return Et(this.players).onDone(()=>p());p()})}processLeaveNode(p){var _;const M=p[Rr];if(M&&M.setForRemoval){if(p[Rr]=ui,M.namespaceId){this.destroyInnerAnimations(p);const $=this._fetchNamespace(M.namespaceId);$&&$.clearElementCache(p)}this._onRemovalComplete(p,M.setForRemoval)}(null===(_=p.classList)||void 0===_?void 0:_.contains(ki))&&this.markElementAsDisabled(p,!1),this.driver.query(p,".ng-animate-disabled",!0).forEach($=>{this.markElementAsDisabled($,!1)})}flush(p=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,$)=>this._balanceNamespaceList(M,$)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)Ct(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{_=this._flushAnimations(M,p)}finally{for(let $=0;$<M.length;$++)M[$]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],_.length?Et(_).onDone(()=>{M.forEach($=>$())}):M.forEach($=>$())}}reportError(p){throw function In(H){return new u.vHH(3402,te)}()}_flushAnimations(p,_){const M=new Ci,$=[],ne=new Map,Ee=[],Ce=new Map,Je=new Map,Dt=new Map,rn=new Set;this.disabledNodes.forEach(zt=>{rn.add(zt);const Sn=this.driver.query(zt,".ng-animate-queued",!0);for(let Vn=0;Vn<Sn.length;Vn++)rn.add(Sn[Vn])});const gn=this.bodyNode,On=Array.from(this.statesByElement.keys()),fr=ot(On,this.collectedEnterElements),Cn=new Map;let Ln=0;fr.forEach((zt,Sn)=>{const Vn=Dr+Ln++;Cn.set(Sn,Vn),zt.forEach(Wn=>Ct(Wn,Vn))});const Tr=[],Gr=new Set,Ai=new Set;for(let zt=0;zt<this.collectedLeaveElements.length;zt++){const Sn=this.collectedLeaveElements[zt],Vn=Sn[Rr];Vn&&Vn.setForRemoval&&(Tr.push(Sn),Gr.add(Sn),Vn.hasAnimation?this.driver.query(Sn,".ng-star-inserted",!0).forEach(Wn=>Gr.add(Wn)):Ai.add(Sn))}const Oi=new Map,wr=ot(On,Array.from(Gr));wr.forEach((zt,Sn)=>{const Vn=cr+Ln++;Oi.set(Sn,Vn),zt.forEach(Wn=>Ct(Wn,Vn))}),p.push(()=>{fr.forEach((zt,Sn)=>{const Vn=Cn.get(Sn);zt.forEach(Wn=>Gt(Wn,Vn))}),wr.forEach((zt,Sn)=>{const Vn=Oi.get(Sn);zt.forEach(Wn=>Gt(Wn,Vn))}),Tr.forEach(zt=>{this.processLeaveNode(zt)})});const cs=[],Lr=[];for(let zt=this._namespaceList.length-1;zt>=0;zt--)this._namespaceList[zt].drainQueuedTransitions(_).forEach(Vn=>{const Wn=Vn.player,zr=Vn.element;if(cs.push(Wn),this.collectedEnterElements.length){const Wi=zr[Rr];if(Wi&&Wi.setForMove){if(Wi.previousTriggersValues&&Wi.previousTriggersValues.has(Vn.triggerName)){const pi=Wi.previousTriggersValues.get(Vn.triggerName),Er=this.statesByElement.get(Vn.element);Er&&Er[Vn.triggerName]&&(Er[Vn.triggerName].value=pi)}return void Wn.destroy()}}const ms=!gn||!this.driver.containsElement(gn,zr),ti=Oi.get(zr),yi=Cn.get(zr),Kr=this._buildInstruction(Vn,M,yi,ti,ms);if(Kr.errors&&Kr.errors.length)return void Lr.push(Kr);if(ms)return Wn.onStart(()=>je(zr,Kr.fromStyles)),Wn.onDestroy(()=>rt(zr,Kr.toStyles)),void $.push(Wn);if(Vn.isFallbackTransition)return Wn.onStart(()=>je(zr,Kr.fromStyles)),Wn.onDestroy(()=>rt(zr,Kr.toStyles)),void $.push(Wn);const oo=[];Kr.timelines.forEach(Wi=>{Wi.stretchStartingKeyframe=!0,this.disabledNodes.has(Wi.element)||oo.push(Wi)}),Kr.timelines=oo,M.append(zr,Kr.timelines),Ee.push({instruction:Kr,player:Wn,element:zr}),Kr.queriedElements.forEach(Wi=>fn(Ce,Wi,[]).push(Wn)),Kr.preStyleProps.forEach((Wi,pi)=>{const Er=Object.keys(Wi);if(Er.length){let Zr=Je.get(pi);Zr||Je.set(pi,Zr=new Set),Er.forEach(Ns=>Zr.add(Ns))}}),Kr.postStyleProps.forEach((Wi,pi)=>{const Er=Object.keys(Wi);let Zr=Dt.get(pi);Zr||Dt.set(pi,Zr=new Set),Er.forEach(Ns=>Zr.add(Ns))})});if(Lr.length){const zt=[];Lr.forEach(Sn=>{zt.push(function ht(H,p){return new u.vHH(3505,te)}())}),cs.forEach(Sn=>Sn.destroy()),this.reportError(zt)}const Ri=new Map,Nr=new Map;Ee.forEach(zt=>{const Sn=zt.element;M.has(Sn)&&(Nr.set(Sn,Sn),this._beforeAnimationBuild(zt.player.namespaceId,zt.instruction,Ri))}),$.forEach(zt=>{const Sn=zt.element;this._getPreviousPlayers(Sn,!1,zt.namespaceId,zt.triggerName,null).forEach(Wn=>{fn(Ri,Sn,[]).push(Wn),Wn.destroy()})});const Ds=Tr.filter(zt=>Jr(zt,Je,Dt)),zi=new Map;Te(zi,this.driver,Ai,Dt,j.l3).forEach(zt=>{Jr(zt,Je,Dt)&&Ds.push(zt)});const is=new Map;fr.forEach((zt,Sn)=>{Te(is,this.driver,new Set(zt),Je,j.k1)}),Ds.forEach(zt=>{const Sn=zi.get(zt),Vn=is.get(zt);zi.set(zt,Object.assign(Object.assign({},Sn),Vn))});const ei=[],Ki=[],gs={};Ee.forEach(zt=>{const{element:Sn,player:Vn,instruction:Wn}=zt;if(M.has(Sn)){if(rn.has(Sn))return Vn.onDestroy(()=>rt(Sn,Wn.toStyles)),Vn.disabled=!0,Vn.overrideTotalTime(Wn.totalTime),void $.push(Vn);let zr=gs;if(Nr.size>1){let ti=Sn;const yi=[];for(;ti=ti.parentNode;){const Kr=Nr.get(ti);if(Kr){zr=Kr;break}yi.push(ti)}yi.forEach(Kr=>Nr.set(Kr,zr))}const ms=this._buildAnimation(Vn.namespaceId,Wn,Ri,ne,is,zi);if(Vn.setRealPlayer(ms),zr===gs)ei.push(Vn);else{const ti=this.playersByElement.get(zr);ti&&ti.length&&(Vn.parentPlayer=Et(ti)),$.push(Vn)}}else je(Sn,Wn.fromStyles),Vn.onDestroy(()=>rt(Sn,Wn.toStyles)),Ki.push(Vn),rn.has(Sn)&&$.push(Vn)}),Ki.forEach(zt=>{const Sn=ne.get(zt.element);if(Sn&&Sn.length){const Vn=Et(Sn);zt.setRealPlayer(Vn)}}),$.forEach(zt=>{zt.parentPlayer?zt.syncPlayerEvents(zt.parentPlayer):zt.destroy()});for(let zt=0;zt<Tr.length;zt++){const Sn=Tr[zt],Vn=Sn[Rr];if(Gt(Sn,cr),Vn&&Vn.hasAnimation)continue;let Wn=[];if(Ce.size){let ms=Ce.get(Sn);ms&&ms.length&&Wn.push(...ms);let ti=this.driver.query(Sn,yn,!0);for(let yi=0;yi<ti.length;yi++){let Kr=Ce.get(ti[yi]);Kr&&Kr.length&&Wn.push(...Kr)}}const zr=Wn.filter(ms=>!ms.destroyed);zr.length?Pr(this,Sn,zr):this.processLeaveNode(Sn)}return Tr.length=0,ei.forEach(zt=>{this.players.push(zt),zt.onDone(()=>{zt.destroy();const Sn=this.players.indexOf(zt);this.players.splice(Sn,1)}),zt.play()}),ei}elementContainsData(p,_){let M=!1;const $=_[Rr];return $&&$.setForRemoval&&(M=!0),this.playersByElement.has(_)&&(M=!0),this.playersByQueriedElement.has(_)&&(M=!0),this.statesByElement.has(_)&&(M=!0),this._fetchNamespace(p).elementContainsData(_)||M}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,_,M,$,ne){let Ee=[];if(_){const Ce=this.playersByQueriedElement.get(p);Ce&&(Ee=Ce)}else{const Ce=this.playersByElement.get(p);if(Ce){const Je=!ne||ne==Di;Ce.forEach(Dt=>{Dt.queued||!Je&&Dt.triggerName!=$||Ee.push(Dt)})}}return(M||$)&&(Ee=Ee.filter(Ce=>!(M&&M!=Ce.namespaceId||$&&$!=Ce.triggerName))),Ee}_beforeAnimationBuild(p,_,M){const ne=_.element,Ee=_.isRemovalTransition?void 0:p,Ce=_.isRemovalTransition?void 0:_.triggerName;for(const Je of _.timelines){const Dt=Je.element,rn=Dt!==ne,gn=fn(M,Dt,[]);this._getPreviousPlayers(Dt,rn,Ee,Ce,_.toState).forEach(fr=>{const Cn=fr.getRealPlayer();Cn.beforeDestroy&&Cn.beforeDestroy(),fr.destroy(),gn.push(fr)})}je(ne,_.fromStyles)}_buildAnimation(p,_,M,$,ne,Ee){const Ce=_.triggerName,Je=_.element,Dt=[],rn=new Set,gn=new Set,On=_.timelines.map(Cn=>{const Ln=Cn.element;rn.add(Ln);const Tr=Ln[Rr];if(Tr&&Tr.removedBeforeQueried)return new j.ZN(Cn.duration,Cn.delay);const Gr=Ln!==Je,Ai=function gr(H){const p=[];return er(H,p),p}((M.get(Ln)||bn).map(Ri=>Ri.getRealPlayer())).filter(Ri=>!!Ri.element&&Ri.element===Ln),Oi=ne.get(Ln),wr=Ee.get(Ln),cs=ln(0,this._normalizer,0,Cn.keyframes,Oi,wr),Lr=this._buildPlayer(Cn,cs,Ai);if(Cn.subTimeline&&$&&gn.add(Ln),Gr){const Ri=new Ms(p,Ce,Ln);Ri.setRealPlayer(Lr),Dt.push(Ri)}return Lr});Dt.forEach(Cn=>{fn(this.playersByQueriedElement,Cn.element,[]).push(Cn),Cn.onDone(()=>function br(H,p,_){let M;if(H instanceof Map){if(M=H.get(p),M){if(M.length){const $=M.indexOf(_);M.splice($,1)}0==M.length&&H.delete(p)}}else if(M=H[p],M){if(M.length){const $=M.indexOf(_);M.splice($,1)}0==M.length&&delete H[p]}return M}(this.playersByQueriedElement,Cn.element,Cn))}),rn.forEach(Cn=>Ct(Cn,kn));const fr=Et(On);return fr.onDestroy(()=>{rn.forEach(Cn=>Gt(Cn,kn)),rt(Je,_.toStyles)}),gn.forEach(Cn=>{fn($,Cn,[]).push(fr)}),fr}_buildPlayer(p,_,M){return _.length>0?this.driver.animate(p.element,_,p.duration,p.delay,p.easing,M):new j.ZN(p.duration,p.delay)}}class Ms{constructor(p,_,M){this.namespaceId=p,this.triggerName=_,this.element=M,this._player=new j.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,Object.keys(this._queuedCallbacks).forEach(_=>{this._queuedCallbacks[_].forEach(M=>Nn(p,_,void 0,M))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const _=this._player;_.triggerCallback&&p.onStart(()=>_.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,_){fn(this._queuedCallbacks,p,[]).push(_)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const _=this._player;_.triggerCallback&&_.triggerCallback(p)}}function z(H){return H&&1===H.nodeType}function q(H,p){const _=H.style.display;return H.style.display=null!=p?p:"none",_}function Te(H,p,_,M,$){const ne=[];_.forEach(Je=>ne.push(q(Je)));const Ee=[];M.forEach((Je,Dt)=>{const rn={};Je.forEach(gn=>{const On=rn[gn]=p.computeStyle(Dt,gn,$);(!On||0==On.length)&&(Dt[Rr]=ps,Ee.push(Dt))}),H.set(Dt,rn)});let Ce=0;return _.forEach(Je=>q(Je,ne[Ce++])),Ee}function ot(H,p){const _=new Map;if(H.forEach(Ce=>_.set(Ce,[])),0==p.length)return _;const $=new Set(p),ne=new Map;function Ee(Ce){if(!Ce)return 1;let Je=ne.get(Ce);if(Je)return Je;const Dt=Ce.parentNode;return Je=_.has(Dt)?Dt:$.has(Dt)?1:Ee(Dt),ne.set(Ce,Je),Je}return p.forEach(Ce=>{const Je=Ee(Ce);1!==Je&&_.get(Je).push(Ce)}),_}function Ct(H,p){var _;null===(_=H.classList)||void 0===_||_.add(p)}function Gt(H,p){var _;null===(_=H.classList)||void 0===_||_.remove(p)}function Pr(H,p,_){Et(_).onDone(()=>H.processLeaveNode(p))}function er(H,p){for(let _=0;_<H.length;_++){const M=H[_];M instanceof j.ZE?er(M.players,p):p.push(M)}}function Jr(H,p,_){const M=_.get(H);if(!M)return!1;let $=p.get(H);return $?M.forEach(ne=>$.add(ne)):p.set(H,M),_.delete(H),!0}class N{constructor(p,_,M){this.bodyNode=p,this._driver=_,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=($,ne)=>{},this._transitionEngine=new ci(p,_,M),this._timelineEngine=new ls(p,_,M),this._transitionEngine.onRemovalComplete=($,ne)=>this.onRemovalComplete($,ne)}registerTrigger(p,_,M,$,ne){const Ee=p+"-"+$;let Ce=this._triggerCache[Ee];if(!Ce){const Je=[],rn=ge(this._driver,ne,Je,[]);if(Je.length)throw function Fe(H,p){return new u.vHH(3404,te)}();Ce=function ts(H,p,_){return new li(H,p,_)}($,rn,this._normalizer),this._triggerCache[Ee]=Ce}this._transitionEngine.registerTrigger(_,$,Ce)}register(p,_){this._transitionEngine.register(p,_)}destroy(p,_){this._transitionEngine.destroy(p,_)}onInsert(p,_,M,$){this._transitionEngine.insertNode(p,_,M,$)}onRemove(p,_,M,$){this._transitionEngine.removeNode(p,_,$||!1,M)}disableAnimations(p,_){this._transitionEngine.markElementAsDisabled(p,_)}process(p,_,M,$){if("@"==M.charAt(0)){const[ne,Ee]=Hn(M);this._timelineEngine.command(ne,_,Ee,$)}else this._transitionEngine.trigger(p,_,M,$)}listen(p,_,M,$,ne){if("@"==M.charAt(0)){const[Ee,Ce]=Hn(M);return this._timelineEngine.listen(Ee,_,Ce,ne)}return this._transitionEngine.listen(p,_,M,$,ne)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let w=(()=>{class H{constructor(_,M,$){this._element=_,this._startStyles=M,this._endStyles=$,this._state=0;let ne=H.initialStylesByElement.get(_);ne||H.initialStylesByElement.set(_,ne={}),this._initialStyles=ne}start(){this._state<1&&(this._startStyles&&rt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rt(this._element,this._initialStyles),this._endStyles&&(rt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(H.initialStylesByElement.delete(this._element),this._startStyles&&(je(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(je(this._element,this._endStyles),this._endStyles=null),rt(this._element,this._initialStyles),this._state=3)}}return H.initialStylesByElement=new WeakMap,H})();function W(H){let p=null;const _=Object.keys(H);for(let M=0;M<_.length;M++){const $=_[M];Le($)&&(p=p||{},p[$]=H[$])}return p}function Le(H){return"display"===H||"position"===H}class Jt{constructor(p,_,M,$){this.element=p,this.keyframes=_,this.options=M,this._specialStyles=$,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(p,_,M){return p.animate(_,M)}onStart(p){this._onStartFns.push(p)}onDone(p){this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p={};if(this.hasStarted()){const _=this._finalKeyframe;Object.keys(_).forEach(M=>{"offset"!=M&&(p[M]=this._finished?_[M]:si(this.element,M))})}this.currentSnapshot=p}triggerCallback(p){const _="start"==p?this._onStartFns:this._onDoneFns;_.forEach(M=>M()),_.length=0}}class nn{validateStyleProperty(p){return dt(p)}matchesElement(p,_){return!1}containsElement(p,_){return Pe(p,_)}getParentElement(p){return sn(p)}query(p,_,M){return It(p,_,M)}computeStyle(p,_,M){return window.getComputedStyle(p)[_]}animate(p,_,M,$,ne,Ee=[]){const Je={duration:M,delay:$,fill:0==$?"both":"forwards"};ne&&(Je.easing=ne);const Dt={},rn=Ee.filter(On=>On instanceof Jt);(function Cr(H,p){return 0===H||0===p})(M,$)&&rn.forEach(On=>{let fr=On.currentSnapshot;Object.keys(fr).forEach(Cn=>Dt[Cn]=fr[Cn])}),_=function fi(H,p,_){const M=Object.keys(_);if(M.length&&p.length){let ne=p[0],Ee=[];if(M.forEach(Ce=>{ne.hasOwnProperty(Ce)||Ee.push(Ce),ne[Ce]=_[Ce]}),Ee.length)for(var $=1;$<p.length;$++){let Ce=p[$];Ee.forEach(function(Je){Ce[Je]=si(H,Je)})}}return p}(p,_=_.map(On=>_e(On,!1)),Dt);const gn=function S(H,p){let _=null,M=null;return Array.isArray(p)&&p.length?(_=W(p[0]),p.length>1&&(M=W(p[p.length-1]))):p&&(_=W(p)),_||M?new w(H,_,M):null}(p,_);return new Jt(p,_,Je,gn)}}var Ti=D(9808);let _i=(()=>{class H extends j._j{constructor(_,M){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(M.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(_){const M=this._nextAnimationId.toString();this._nextAnimationId++;const $=Array.isArray(_)?(0,j.vP)(_):_;return Cs(this._renderer,null,M,"register",[$]),new Fs(M,this._renderer)}}return H.\u0275fac=function(_){return new(_||H)(u.LFG(u.FYo),u.LFG(Ti.K0))},H.\u0275prov=u.Yz7({token:H,factory:H.\u0275fac}),H})();class Fs extends j.LC{constructor(p,_){super(),this._id=p,this._renderer=_}create(p,_){return new Xr(this._id,p,_||{},this._renderer)}}class Xr{constructor(p,_,M,$){this.id=p,this.element=_,this._renderer=$,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(p,_){return this._renderer.listen(this.element,`@@${this.id}:${p}`,_)}_command(p,..._){return Cs(this._renderer,this.element,this.id,p,_)}onDone(p){this._listen("done",p)}onStart(p){this._listen("start",p)}onDestroy(p){this._listen("destroy",p)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(p){this._command("setPosition",p)}getPosition(){var p,_;return null!==(_=null===(p=this._renderer.engine.players[+this.id])||void 0===p?void 0:p.getPosition())&&void 0!==_?_:0}}function Cs(H,p,_,M,$){return H.setProperty(p,`@@${_}:${M}`,$)}const lr="@.disabled";let Os=(()=>{class H{constructor(_,M,$){this.delegate=_,this.engine=M,this._zone=$,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),M.onRemovalComplete=(ne,Ee)=>{const Ce=null==Ee?void 0:Ee.parentNode(ne);Ce&&Ee.removeChild(Ce,ne)}}createRenderer(_,M){const ne=this.delegate.createRenderer(_,M);if(!(_&&M&&M.data&&M.data.animation)){let rn=this._rendererCache.get(ne);return rn||(rn=new ii("",ne,this.engine),this._rendererCache.set(ne,rn)),rn}const Ee=M.id,Ce=M.id+"-"+this._currentId;this._currentId++,this.engine.register(Ce,_);const Je=rn=>{Array.isArray(rn)?rn.forEach(Je):this.engine.registerTrigger(Ee,Ce,_,rn.name,rn)};return M.data.animation.forEach(Je),new so(this,Ce,ne,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,M,$){_>=0&&_<this._microtaskId?this._zone.run(()=>M($)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ne=>{const[Ee,Ce]=ne;Ee(Ce)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,$]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return H.\u0275fac=function(_){return new(_||H)(u.LFG(u.FYo),u.LFG(N),u.LFG(u.R0b))},H.\u0275prov=u.Yz7({token:H,factory:H.\u0275fac}),H})();class ii{constructor(p,_,M){this.namespaceId=p,this.delegate=_,this.engine=M,this.destroyNode=this.delegate.destroyNode?$=>_.destroyNode($):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(p,_){return this.delegate.createElement(p,_)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,_){this.delegate.appendChild(p,_),this.engine.onInsert(this.namespaceId,_,p,!1)}insertBefore(p,_,M,$=!0){this.delegate.insertBefore(p,_,M),this.engine.onInsert(this.namespaceId,_,p,$)}removeChild(p,_,M){this.engine.onRemove(this.namespaceId,_,this.delegate,M)}selectRootElement(p,_){return this.delegate.selectRootElement(p,_)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,_,M,$){this.delegate.setAttribute(p,_,M,$)}removeAttribute(p,_,M){this.delegate.removeAttribute(p,_,M)}addClass(p,_){this.delegate.addClass(p,_)}removeClass(p,_){this.delegate.removeClass(p,_)}setStyle(p,_,M,$){this.delegate.setStyle(p,_,M,$)}removeStyle(p,_,M){this.delegate.removeStyle(p,_,M)}setProperty(p,_,M){"@"==_.charAt(0)&&_==lr?this.disableAnimations(p,!!M):this.delegate.setProperty(p,_,M)}setValue(p,_){this.delegate.setValue(p,_)}listen(p,_,M){return this.delegate.listen(p,_,M)}disableAnimations(p,_){this.engine.disableAnimations(p,_)}}class so extends ii{constructor(p,_,M,$){super(_,M,$),this.factory=p,this.namespaceId=_}setProperty(p,_,M){"@"==_.charAt(0)?"."==_.charAt(1)&&_==lr?this.disableAnimations(p,M=void 0===M||!!M):this.engine.process(this.namespaceId,p,_.substr(1),M):this.delegate.setProperty(p,_,M)}listen(p,_,M){if("@"==_.charAt(0)){const $=function js(H){switch(H){case"body":return document.body;case"document":return document;case"window":return window;default:return H}}(p);let ne=_.substr(1),Ee="";return"@"!=ne.charAt(0)&&([ne,Ee]=function us(H){const p=H.indexOf(".");return[H.substring(0,p),H.substr(p+1)]}(ne)),this.engine.listen(this.namespaceId,$,ne,Ee,Ce=>{this.factory.scheduleListenerCallback(Ce._data||-1,M,Ce)})}return this.delegate.listen(p,_,M)}}let po=(()=>{class H extends N{constructor(_,M,$){super(_.body,M,$)}ngOnDestroy(){this.flush()}}return H.\u0275fac=function(_){return new(_||H)(u.LFG(Ti.K0),u.LFG(Ht),u.LFG(pr))},H.\u0275prov=u.Yz7({token:H,factory:H.\u0275fac}),H})();const Rs=new u.OlP("AnimationModuleType"),Ps=[{provide:j._j,useClass:_i},{provide:pr,useFactory:function go(){return new Qt}},{provide:N,useClass:po},{provide:u.FYo,useFactory:function mo(H,p,_){return new Os(H,p,_)},deps:[B.se,N,u.R0b]}],rs=[{provide:Ht,useFactory:()=>new nn},{provide:Rs,useValue:"BrowserAnimations"},...Ps],$i=[{provide:Ht,useClass:bt},{provide:Rs,useValue:"NoopAnimations"},...Ps];let Gi=(()=>{class H{static withConfig(_){return{ngModule:H,providers:_.disableAnimations?$i:rs}}}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=u.oAB({type:H}),H.\u0275inj=u.cJS({providers:rs,imports:[B.b2]}),H})()},2313:(Ie,re,D)=>{D.d(re,{b2:()=>$n,H7:()=>we,q6:()=>fn,se:()=>it});var u=D(9808),B=D(5e3);class j extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class te extends j{static makeCurrent(){(0,u.HT)(new te)}onAndCancel(ye,se,Se){return ye.addEventListener(se,Se,!1),()=>{ye.removeEventListener(se,Se,!1)}}dispatchEvent(ye,se){ye.dispatchEvent(se)}remove(ye){ye.parentNode&&ye.parentNode.removeChild(ye)}createElement(ye,se){return(se=se||this.getDefaultDocument()).createElement(ye)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ye){return ye.nodeType===Node.ELEMENT_NODE}isShadowRoot(ye){return ye instanceof DocumentFragment}getGlobalEventTarget(ye,se){return"window"===se?window:"document"===se?ye:"body"===se?ye.body:null}getBaseHref(ye){const se=function ce(){return Q=Q||document.querySelector("base"),Q?Q.getAttribute("href"):null}();return null==se?null:function le(Re){ue=ue||document.createElement("a"),ue.setAttribute("href",Re);const ye=ue.pathname;return"/"===ye.charAt(0)?ye:`/${ye}`}(se)}resetBaseElement(){Q=null}getUserAgent(){return window.navigator.userAgent}getCookie(ye){return(0,u.Mx)(document.cookie,ye)}}let ue,Q=null;const ee=new B.OlP("TRANSITION_ID"),ie=[{provide:B.ip1,useFactory:function X(Re,ye,se){return()=>{se.get(B.CZH).donePromise.then(()=>{const Se=(0,u.q)(),mt=ye.querySelectorAll(`style[ng-transition="${Re}"]`);for(let Ft=0;Ft<mt.length;Ft++)Se.remove(mt[Ft])})}},deps:[ee,u.K0,B.zs3],multi:!0}];class fe{static init(){(0,B.VLi)(new fe)}addToWindow(ye){B.dqk.getAngularTestability=(Se,mt=!0)=>{const Ft=ye.findTestabilityInTree(Se,mt);if(null==Ft)throw new Error("Could not find testability for element.");return Ft},B.dqk.getAllAngularTestabilities=()=>ye.getAllTestabilities(),B.dqk.getAllAngularRootElements=()=>ye.getAllRootElements(),B.dqk.frameworkStabilizers||(B.dqk.frameworkStabilizers=[]),B.dqk.frameworkStabilizers.push(Se=>{const mt=B.dqk.getAllAngularTestabilities();let Ft=mt.length,tn=!1;const Gn=function(Cr){tn=tn||Cr,Ft--,0==Ft&&Se(tn)};mt.forEach(function(Cr){Cr.whenStable(Gn)})})}findTestabilityInTree(ye,se,Se){if(null==se)return null;const mt=ye.getTestability(se);return null!=mt?mt:Se?(0,u.q)().isShadowRoot(se)?this.findTestabilityInTree(ye,se.host,!0):this.findTestabilityInTree(ye,se.parentElement,!0):null}}let et=(()=>{class Re{build(){return new XMLHttpRequest}}return Re.\u0275fac=function(se){return new(se||Re)},Re.\u0275prov=B.Yz7({token:Re,factory:Re.\u0275fac}),Re})();const Ye=new B.OlP("EventManagerPlugins");let Qe=(()=>{class Re{constructor(se,Se){this._zone=Se,this._eventNameToPlugin=new Map,se.forEach(mt=>mt.manager=this),this._plugins=se.slice().reverse()}addEventListener(se,Se,mt){return this._findPluginFor(Se).addEventListener(se,Se,mt)}addGlobalEventListener(se,Se,mt){return this._findPluginFor(Se).addGlobalEventListener(se,Se,mt)}getZone(){return this._zone}_findPluginFor(se){const Se=this._eventNameToPlugin.get(se);if(Se)return Se;const mt=this._plugins;for(let Ft=0;Ft<mt.length;Ft++){const tn=mt[Ft];if(tn.supports(se))return this._eventNameToPlugin.set(se,tn),tn}throw new Error(`No event manager plugin found for event ${se}`)}}return Re.\u0275fac=function(se){return new(se||Re)(B.LFG(Ye),B.LFG(B.R0b))},Re.\u0275prov=B.Yz7({token:Re,factory:Re.\u0275fac}),Re})();class nt{constructor(ye){this._doc=ye}addGlobalEventListener(ye,se,Se){const mt=(0,u.q)().getGlobalEventTarget(this._doc,ye);if(!mt)throw new Error(`Unsupported event target ${mt} for event ${se}`);return this.addEventListener(mt,se,Se)}}let Ne=(()=>{class Re{constructor(){this._stylesSet=new Set}addStyles(se){const Se=new Set;se.forEach(mt=>{this._stylesSet.has(mt)||(this._stylesSet.add(mt),Se.add(mt))}),this.onStylesAdded(Se)}onStylesAdded(se){}getAllStyles(){return Array.from(this._stylesSet)}}return Re.\u0275fac=function(se){return new(se||Re)},Re.\u0275prov=B.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),Ve=(()=>{class Re extends Ne{constructor(se){super(),this._doc=se,this._hostNodes=new Map,this._hostNodes.set(se.head,[])}_addStylesToHost(se,Se,mt){se.forEach(Ft=>{const tn=this._doc.createElement("style");tn.textContent=Ft,mt.push(Se.appendChild(tn))})}addHost(se){const Se=[];this._addStylesToHost(this._stylesSet,se,Se),this._hostNodes.set(se,Se)}removeHost(se){const Se=this._hostNodes.get(se);Se&&Se.forEach(vt),this._hostNodes.delete(se)}onStylesAdded(se){this._hostNodes.forEach((Se,mt)=>{this._addStylesToHost(se,mt,Se)})}ngOnDestroy(){this._hostNodes.forEach(se=>se.forEach(vt))}}return Re.\u0275fac=function(se){return new(se||Re)(B.LFG(u.K0))},Re.\u0275prov=B.Yz7({token:Re,factory:Re.\u0275fac}),Re})();function vt(Re){(0,u.q)().remove(Re)}const Tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ke=/%COMP%/g;function ze(Re,ye,se){for(let Se=0;Se<ye.length;Se++){let mt=ye[Se];Array.isArray(mt)?ze(Re,mt,se):(mt=mt.replace(ke,Re),se.push(mt))}return se}function Fe(Re){return ye=>{if("__ngUnwrap__"===ye)return Re;!1===Re(ye)&&(ye.preventDefault(),ye.returnValue=!1)}}let it=(()=>{class Re{constructor(se,Se,mt){this.eventManager=se,this.sharedStylesHost=Se,this.appId=mt,this.rendererByCompId=new Map,this.defaultRenderer=new He(se)}createRenderer(se,Se){if(!se||!Se)return this.defaultRenderer;switch(Se.encapsulation){case B.ifc.Emulated:{let mt=this.rendererByCompId.get(Se.id);return mt||(mt=new Qn(this.eventManager,this.sharedStylesHost,Se,this.appId),this.rendererByCompId.set(Se.id,mt)),mt.applyToHost(se),mt}case 1:case B.ifc.ShadowDom:return new Ut(this.eventManager,this.sharedStylesHost,se,Se);default:if(!this.rendererByCompId.has(Se.id)){const mt=ze(Se.id,Se.styles,[]);this.sharedStylesHost.addStyles(mt),this.rendererByCompId.set(Se.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Re.\u0275fac=function(se){return new(se||Re)(B.LFG(Qe),B.LFG(Ve),B.LFG(B.AFp))},Re.\u0275prov=B.Yz7({token:Re,factory:Re.\u0275fac}),Re})();class He{constructor(ye){this.eventManager=ye,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ye,se){return se?document.createElementNS(Tt[se]||se,ye):document.createElement(ye)}createComment(ye){return document.createComment(ye)}createText(ye){return document.createTextNode(ye)}appendChild(ye,se){ye.appendChild(se)}insertBefore(ye,se,Se){ye&&ye.insertBefore(se,Se)}removeChild(ye,se){ye&&ye.removeChild(se)}selectRootElement(ye,se){let Se="string"==typeof ye?document.querySelector(ye):ye;if(!Se)throw new Error(`The selector "${ye}" did not match any elements`);return se||(Se.textContent=""),Se}parentNode(ye){return ye.parentNode}nextSibling(ye){return ye.nextSibling}setAttribute(ye,se,Se,mt){if(mt){se=mt+":"+se;const Ft=Tt[mt];Ft?ye.setAttributeNS(Ft,se,Se):ye.setAttribute(se,Se)}else ye.setAttribute(se,Se)}removeAttribute(ye,se,Se){if(Se){const mt=Tt[Se];mt?ye.removeAttributeNS(mt,se):ye.removeAttribute(`${Se}:${se}`)}else ye.removeAttribute(se)}addClass(ye,se){ye.classList.add(se)}removeClass(ye,se){ye.classList.remove(se)}setStyle(ye,se,Se,mt){mt&(B.JOm.DashCase|B.JOm.Important)?ye.style.setProperty(se,Se,mt&B.JOm.Important?"important":""):ye.style[se]=Se}removeStyle(ye,se,Se){Se&B.JOm.DashCase?ye.style.removeProperty(se):ye.style[se]=""}setProperty(ye,se,Se){ye[se]=Se}setValue(ye,se){ye.nodeValue=se}listen(ye,se,Se){return"string"==typeof ye?this.eventManager.addGlobalEventListener(ye,se,Fe(Se)):this.eventManager.addEventListener(ye,se,Fe(Se))}}class Qn extends He{constructor(ye,se,Se,mt){super(ye),this.component=Se;const Ft=ze(mt+"-"+Se.id,Se.styles,[]);se.addStyles(Ft),this.contentAttr=function xe(Re){return"_ngcontent-%COMP%".replace(ke,Re)}(mt+"-"+Se.id),this.hostAttr=function ve(Re){return"_nghost-%COMP%".replace(ke,Re)}(mt+"-"+Se.id)}applyToHost(ye){super.setAttribute(ye,this.hostAttr,"")}createElement(ye,se){const Se=super.createElement(ye,se);return super.setAttribute(Se,this.contentAttr,""),Se}}class Ut extends He{constructor(ye,se,Se,mt){super(ye),this.sharedStylesHost=se,this.hostEl=Se,this.shadowRoot=Se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ft=ze(mt.id,mt.styles,[]);for(let tn=0;tn<Ft.length;tn++){const Gn=document.createElement("style");Gn.textContent=Ft[tn],this.shadowRoot.appendChild(Gn)}}nodeOrShadowRoot(ye){return ye===this.hostEl?this.shadowRoot:ye}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ye,se){return super.appendChild(this.nodeOrShadowRoot(ye),se)}insertBefore(ye,se,Se){return super.insertBefore(this.nodeOrShadowRoot(ye),se,Se)}removeChild(ye,se){return super.removeChild(this.nodeOrShadowRoot(ye),se)}parentNode(ye){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ye)))}}let Bt=(()=>{class Re extends nt{constructor(se){super(se)}supports(se){return!0}addEventListener(se,Se,mt){return se.addEventListener(Se,mt,!1),()=>this.removeEventListener(se,Se,mt)}removeEventListener(se,Se,mt){return se.removeEventListener(Se,mt)}}return Re.\u0275fac=function(se){return new(se||Re)(B.LFG(u.K0))},Re.\u0275prov=B.Yz7({token:Re,factory:Re.\u0275fac}),Re})();const Pn=["alt","control","meta","shift"],gt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ht={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ue={alt:Re=>Re.altKey,control:Re=>Re.ctrlKey,meta:Re=>Re.metaKey,shift:Re=>Re.shiftKey};let We=(()=>{class Re extends nt{constructor(se){super(se)}supports(se){return null!=Re.parseEventName(se)}addEventListener(se,Se,mt){const Ft=Re.parseEventName(Se),tn=Re.eventCallback(Ft.fullKey,mt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(se,Ft.domEventName,tn))}static parseEventName(se){const Se=se.toLowerCase().split("."),mt=Se.shift();if(0===Se.length||"keydown"!==mt&&"keyup"!==mt)return null;const Ft=Re._normalizeKey(Se.pop());let tn="";if(Pn.forEach(Cr=>{const fi=Se.indexOf(Cr);fi>-1&&(Se.splice(fi,1),tn+=Cr+".")}),tn+=Ft,0!=Se.length||0===Ft.length)return null;const Gn={};return Gn.domEventName=mt,Gn.fullKey=tn,Gn}static getEventFullKey(se){let Se="",mt=function Et(Re){let ye=Re.key;if(null==ye){if(ye=Re.keyIdentifier,null==ye)return"Unidentified";ye.startsWith("U+")&&(ye=String.fromCharCode(parseInt(ye.substring(2),16)),3===Re.location&&ht.hasOwnProperty(ye)&&(ye=ht[ye]))}return gt[ye]||ye}(se);return mt=mt.toLowerCase()," "===mt?mt="space":"."===mt&&(mt="dot"),Pn.forEach(Ft=>{Ft!=mt&&Ue[Ft](se)&&(Se+=Ft+".")}),Se+=mt,Se}static eventCallback(se,Se,mt){return Ft=>{Re.getEventFullKey(Ft)===se&&mt.runGuarded(()=>Se(Ft))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return Re.\u0275fac=function(se){return new(se||Re)(B.LFG(u.K0))},Re.\u0275prov=B.Yz7({token:Re,factory:Re.\u0275fac}),Re})();const fn=(0,B.eFA)(B._c5,"browser",[{provide:B.Lbi,useValue:u.bD},{provide:B.g9A,useValue:function ln(){te.makeCurrent(),fe.init()},multi:!0},{provide:u.K0,useFactory:function zn(){return(0,B.RDi)(document),document},deps:[]}]),Hn=[{provide:B.zSh,useValue:"root"},{provide:B.qLn,useFactory:function Nn(){return new B.qLn},deps:[]},{provide:Ye,useClass:Bt,multi:!0,deps:[u.K0,B.R0b,B.Lbi]},{provide:Ye,useClass:We,multi:!0,deps:[u.K0]},{provide:it,useClass:it,deps:[Qe,Ve,B.AFp]},{provide:B.FYo,useExisting:it},{provide:Ne,useExisting:Ve},{provide:Ve,useClass:Ve,deps:[u.K0]},{provide:B.dDg,useClass:B.dDg,deps:[B.R0b]},{provide:Qe,useClass:Qe,deps:[Ye,B.R0b]},{provide:u.JF,useClass:et,deps:[]}];let $n=(()=>{class Re{constructor(se){if(se)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(se){return{ngModule:Re,providers:[{provide:B.AFp,useValue:se.appId},{provide:ee,useExisting:B.AFp},ie]}}}return Re.\u0275fac=function(se){return new(se||Re)(B.LFG(Re,12))},Re.\u0275mod=B.oAB({type:Re}),Re.\u0275inj=B.cJS({providers:Hn,imports:[u.ez,B.hGG]}),Re})();"undefined"!=typeof window&&window;let we=(()=>{class Re{}return Re.\u0275fac=function(se){return new(se||Re)},Re.\u0275prov=B.Yz7({token:Re,factory:function(se){let Se=null;return Se=se?new(se||Re):B.LFG(je),Se},providedIn:"root"}),Re})(),je=(()=>{class Re extends we{constructor(se){super(),this._doc=se}sanitize(se,Se){if(null==Se)return null;switch(se){case B.q3G.NONE:return Se;case B.q3G.HTML:return(0,B.qzn)(Se,"HTML")?(0,B.z3N)(Se):(0,B.EiD)(this._doc,String(Se)).toString();case B.q3G.STYLE:return(0,B.qzn)(Se,"Style")?(0,B.z3N)(Se):Se;case B.q3G.SCRIPT:if((0,B.qzn)(Se,"Script"))return(0,B.z3N)(Se);throw new Error("unsafe value used in a script context");case B.q3G.URL:return(0,B.yhl)(Se),(0,B.qzn)(Se,"URL")?(0,B.z3N)(Se):(0,B.mCW)(String(Se));case B.q3G.RESOURCE_URL:if((0,B.qzn)(Se,"ResourceURL"))return(0,B.z3N)(Se);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${se} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(se){return(0,B.JVY)(se)}bypassSecurityTrustStyle(se){return(0,B.L6k)(se)}bypassSecurityTrustScript(se){return(0,B.eBb)(se)}bypassSecurityTrustUrl(se){return(0,B.LAX)(se)}bypassSecurityTrustResourceUrl(se){return(0,B.pB0)(se)}}return Re.\u0275fac=function(se){return new(se||Re)(B.LFG(u.K0))},Re.\u0275prov=B.Yz7({token:Re,factory:function(se){let Se=null;return Se=se?new se:function rt(Re){return new je(Re.get(u.K0))}(B.LFG(B.zs3)),Se},providedIn:"root"}),Re})()},1402:(Ie,re,D)=>{D.d(re,{F0:()=>Nr,rH:()=>Ks,Od:()=>Ki,yS:()=>is,Bz:()=>Hs,lC:()=>ki});var u=D(5e3),B=D(8306),j=D(727),te=D(4482),Q=D(5403);function ce(){return(0,te.e)((I,E)=>{let y=null;I._refCount++;const P=(0,Q.x)(E,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(y=null);const L=I._connection,Z=y;y=null,L&&(!Z||L===Z)&&L.unsubscribe(),E.unsubscribe()});I.subscribe(P),P.closed||(y=I.connect())})}class ue extends B.y{constructor(E,y){super(),this.source=E,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,te.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,null==E||E.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new j.w0;const y=this.getSubject();E.add(this.source.subscribe((0,Q.x)(y,void 0,()=>{this._teardown(),y.complete()},P=>{this._teardown(),y.error(P)},()=>this._teardown()))),E.closed&&(this._connection=null,E=j.w0.EMPTY)}return E}refCount(){return ce()(this)}}var le=D(8996),ee=D(9646),X=D(1135),ie=D(9841),fe=D(2843),et=D(6805),Ye=D(7272),Qe=D(9770),nt=D(515),Ne=D(7579),Ve=D(9300);function vt(I){return I<=0?()=>nt.E:(0,te.e)((E,y)=>{let P=[];E.subscribe((0,Q.x)(y,L=>{P.push(L),I<P.length&&P.shift()},()=>{for(const L of P)y.next(L);y.complete()},void 0,()=>{P=null}))})}var Tt=D(8068),ke=D(6590),F=D(4671),ct=D(4004),At=D(3900),xe=D(5698),ve=D(8675),ze=D(5026),Fe=D(262),Ze=D(4351),it=D(590),He=D(5577),$t=D(8505),Mn=D(8746),Qn=D(8189),Ut=D(9808);class Bt{constructor(E,y){this.id=E,this.url=y}}class Pn extends Bt{constructor(E,y,P="imperative",L=null){super(E,y),this.navigationTrigger=P,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class In extends Bt{constructor(E,y,P){super(E,y),this.urlAfterRedirects=P}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gt extends Bt{constructor(E,y,P){super(E,y),this.reason=P}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ht extends Bt{constructor(E,y,P){super(E,y),this.error=P}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ue extends Bt{constructor(E,y,P,L){super(E,y),this.urlAfterRedirects=P,this.state=L}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class We extends Bt{constructor(E,y,P,L){super(E,y),this.urlAfterRedirects=P,this.state=L}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Et extends Bt{constructor(E,y,P,L,Z){super(E,y),this.urlAfterRedirects=P,this.state=L,this.shouldActivate=Z}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ln extends Bt{constructor(E,y,P,L){super(E,y),this.urlAfterRedirects=P,this.state=L}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nn extends Bt{constructor(E,y,P,L){super(E,y),this.urlAfterRedirects=P,this.state=L}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zn{constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _n{constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fn{constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hn{constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $n{constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sr{constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qt{constructor(E,y,P){this.routerEvent=E,this.position=y,this.anchor=P}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const sn="primary";class Rn{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y[0]:y}return null}getAll(E){if(this.has(E)){const y=this.params[E];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function rr(I){return new Rn(I)}const Mr="ngNavigationCancelingError";function jr(I){const E=Error("NavigationCancelingError: "+I);return E[Mr]=!0,E}function be(I,E,y){const P=y.path.split("/");if(P.length>I.length||"full"===y.pathMatch&&(E.hasChildren()||P.length<I.length))return null;const L={};for(let Z=0;Z<P.length;Z++){const he=P[Z],Ae=I[Z];if(he.startsWith(":"))L[he.substring(1)]=Ae;else if(he!==Ae.path)return null}return{consumed:I.slice(0,P.length),posParams:L}}function It(I,E){const y=I?Object.keys(I):void 0,P=E?Object.keys(E):void 0;if(!y||!P||y.length!=P.length)return!1;let L;for(let Z=0;Z<y.length;Z++)if(L=y[Z],!at(I[L],E[L]))return!1;return!0}function at(I,E){if(Array.isArray(I)&&Array.isArray(E)){if(I.length!==E.length)return!1;const y=[...I].sort(),P=[...E].sort();return y.every((L,Z)=>P[Z]===L)}return I===E}function bt(I){return Array.prototype.concat.apply([],I)}function Ht(I){return I.length>0?I[I.length-1]:null}function en(I,E){for(const y in I)I.hasOwnProperty(y)&&E(I[y],y)}function un(I){return(0,u.CqO)(I)?I:(0,u.QGY)(I)?(0,le.D)(Promise.resolve(I)):(0,ee.of)(I)}const cr={exact:function yn(I,E,y){if(!we(I.segments,E.segments)||!on(I.segments,E.segments,y)||I.numberOfChildren!==E.numberOfChildren)return!1;for(const P in E.children)if(!I.children[P]||!yn(I.children[P],E.children[P],y))return!1;return!0},subset:ft},Jn={exact:function kn(I,E){return It(I,E)},subset:function Wt(I,E){return Object.keys(E).length<=Object.keys(I).length&&Object.keys(E).every(y=>at(I[y],E[y]))},ignored:()=>!0};function Rt(I,E,y){return cr[y.paths](I.root,E.root,y.matrixParams)&&Jn[y.queryParams](I.queryParams,E.queryParams)&&!("exact"===y.fragment&&I.fragment!==E.fragment)}function ft(I,E,y){return Zt(I,E,E.segments,y)}function Zt(I,E,y,P){if(I.segments.length>y.length){const L=I.segments.slice(0,y.length);return!(!we(L,y)||E.hasChildren()||!on(L,y,P))}if(I.segments.length===y.length){if(!we(I.segments,y)||!on(I.segments,y,P))return!1;for(const L in E.children)if(!I.children[L]||!ft(I.children[L],E.children[L],P))return!1;return!0}{const L=y.slice(0,I.segments.length),Z=y.slice(I.segments.length);return!!(we(I.segments,L)&&on(I.segments,L,P)&&I.children[sn])&&Zt(I.children[sn],E,Z,P)}}function on(I,E,y){return E.every((P,L)=>Jn[y](I[L].parameters,P.parameters))}class mn{constructor(E,y,P){this.root=E,this.queryParams=y,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rr(this.queryParams)),this._queryParamMap}toString(){return Re.serialize(this)}}class Kt{constructor(E,y){this.segments=E,this.children=y,this.parent=null,en(y,(P,L)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ye(this)}}class _e{constructor(E,y){this.path=E,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=rr(this.parameters)),this._parameterMap}toString(){return fi(this)}}function we(I,E){return I.length===E.length&&I.every((y,P)=>y.path===E[P].path)}class je{}class xt{parse(E){const y=new Yr(E);return new mn(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(E){const y=`/${se(E.root,!0)}`,P=function si(I){const E=Object.keys(I).map(y=>{const P=I[y];return Array.isArray(P)?P.map(L=>`${mt(y)}=${mt(L)}`).join("&"):`${mt(y)}=${mt(P)}`}).filter(y=>!!y);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${y}${P}${"string"==typeof E.fragment?`#${function Ft(I){return encodeURI(I)}(E.fragment)}`:""}`}}const Re=new xt;function ye(I){return I.segments.map(E=>fi(E)).join("/")}function se(I,E){if(!I.hasChildren())return ye(I);if(E){const y=I.children[sn]?se(I.children[sn],!1):"",P=[];return en(I.children,(L,Z)=>{Z!==sn&&P.push(`${Z}:${se(L,!1)}`)}),P.length>0?`${y}(${P.join("//")})`:y}{const y=function rt(I,E){let y=[];return en(I.children,(P,L)=>{L===sn&&(y=y.concat(E(P,L)))}),en(I.children,(P,L)=>{L!==sn&&(y=y.concat(E(P,L)))}),y}(I,(P,L)=>L===sn?[se(I.children[sn],!1)]:[`${L}:${se(P,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[sn]?`${ye(I)}/${y[0]}`:`${ye(I)}/(${y.join("//")})`}}function Se(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mt(I){return Se(I).replace(/%3B/gi,";")}function tn(I){return Se(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gn(I){return decodeURIComponent(I)}function Cr(I){return Gn(I.replace(/\+/g,"%20"))}function fi(I){return`${tn(I.path)}${function Vr(I){return Object.keys(I).map(E=>`;${tn(E)}=${tn(I[E])}`).join("")}(I.parameters)}`}const Or=/^[^\/()?;=#]+/;function oi(I){const E=I.match(Or);return E?E[0]:""}const di=/^[^=?&#]+/,Fn=/^[^&#]+/;class Yr{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(E.length>0||Object.keys(y).length>0)&&(P[sn]=new Kt(E,y)),P}parseSegment(){const E=oi(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(E),new _e(Gn(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const y=oi(this.remaining);if(!y)return;this.capture(y);let P="";if(this.consumeOptional("=")){const L=oi(this.remaining);L&&(P=L,this.capture(P))}E[Gn(y)]=Gn(P)}parseQueryParam(E){const y=function Pt(I){const E=I.match(di);return E?E[0]:""}(this.remaining);if(!y)return;this.capture(y);let P="";if(this.consumeOptional("=")){const he=function dr(I){const E=I.match(Fn);return E?E[0]:""}(this.remaining);he&&(P=he,this.capture(P))}const L=Cr(y),Z=Cr(P);if(E.hasOwnProperty(L)){let he=E[L];Array.isArray(he)||(he=[he],E[L]=he),he.push(Z)}else E[L]=Z}parseParens(E){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=oi(this.remaining),L=this.remaining[P.length];if("/"!==L&&")"!==L&&";"!==L)throw new Error(`Cannot parse url '${this.url}'`);let Z;P.indexOf(":")>-1?(Z=P.substr(0,P.indexOf(":")),this.capture(Z),this.capture(":")):E&&(Z=sn);const he=this.parseChildren();y[Z]=1===Object.keys(he).length?he[sn]:new Kt([],he),this.consumeOptional("//")}return y}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new Error(`Expected "${E}".`)}}class hi{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const y=this.pathFromRoot(E);return y.length>1?y[y.length-2]:null}children(E){const y=yr(E,this._root);return y?y.children.map(P=>P.value):[]}firstChild(E){const y=yr(E,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(E){const y=ni(E,this._root);return y.length<2?[]:y[y.length-2].children.map(L=>L.value).filter(L=>L!==E)}pathFromRoot(E){return ni(E,this._root).map(y=>y.value)}}function yr(I,E){if(I===E.value)return E;for(const y of E.children){const P=yr(I,y);if(P)return P}return null}function ni(I,E){if(I===E.value)return[E];for(const y of E.children){const P=ni(I,y);if(P.length)return P.unshift(E),P}return[]}class Kn{constructor(E,y){this.value=E,this.children=y}toString(){return`TreeNode(${this.value})`}}function or(I){const E={};return I&&I.children.forEach(y=>E[y.value.outlet]=y),E}class Hr extends hi{constructor(E,y){super(E),this.snapshot=y,kt(this,E)}toString(){return this.snapshot.toString()}}function An(I,E){const y=function Ei(I,E){const he=new Ge([],{},{},"",{},sn,E,null,I.root,-1,{});return new tt("",new Kn(he,[]))}(I,E),P=new X.X([new _e("",{})]),L=new X.X({}),Z=new X.X({}),he=new X.X({}),Ae=new X.X(""),_t=new ri(P,L,he,Ae,Z,sn,E,y.root);return _t.snapshot=y.root,new Hr(new Kn(_t,[]),y)}class ri{constructor(E,y,P,L,Z,he,Ae,_t){this.url=E,this.params=y,this.queryParams=P,this.fragment=L,this.data=Z,this.outlet=he,this.component=Ae,this._futureSnapshot=_t}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(E=>rr(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(E=>rr(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ge(I,E="emptyOnly"){const y=I.pathFromRoot;let P=0;if("always"!==E)for(P=y.length-1;P>=1;){const L=y[P],Z=y[P-1];if(L.routeConfig&&""===L.routeConfig.path)P--;else{if(Z.component)break;P--}}return function pt(I){return I.reduce((E,y)=>({params:Object.assign(Object.assign({},E.params),y.params),data:Object.assign(Object.assign({},E.data),y.data),resolve:Object.assign(Object.assign({},E.resolve),y._resolvedData)}),{params:{},data:{},resolve:{}})}(y.slice(P))}class Ge{constructor(E,y,P,L,Z,he,Ae,_t,dn,mr,vn){this.url=E,this.params=y,this.queryParams=P,this.fragment=L,this.data=Z,this.outlet=he,this.component=Ae,this.routeConfig=_t,this._urlSegment=dn,this._lastPathIndex=mr,this._resolve=vn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tt extends hi{constructor(E,y){super(y),this.url=E,kt(this,y)}toString(){return Vt(this._root)}}function kt(I,E){E.value._routerState=I,E.children.forEach(y=>kt(I,y))}function Vt(I){const E=I.children.length>0?` { ${I.children.map(Vt).join(", ")} } `:"";return`${I.value}${E}`}function cn(I){if(I.snapshot){const E=I.snapshot,y=I._futureSnapshot;I.snapshot=y,It(E.queryParams,y.queryParams)||I.queryParams.next(y.queryParams),E.fragment!==y.fragment&&I.fragment.next(y.fragment),It(E.params,y.params)||I.params.next(y.params),function Pe(I,E){if(I.length!==E.length)return!1;for(let y=0;y<I.length;++y)if(!It(I[y],E[y]))return!1;return!0}(E.url,y.url)||I.url.next(y.url),It(E.data,y.data)||I.data.next(y.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function vr(I,E){const y=It(I.params,E.params)&&function de(I,E){return we(I,E)&&I.every((y,P)=>It(y.parameters,E[P].parameters))}(I.url,E.url);return y&&!(!I.parent!=!E.parent)&&(!I.parent||vr(I.parent,E.parent))}function Xn(I,E,y){if(y&&I.shouldReuseRoute(E.value,y.value.snapshot)){const P=y.value;P._futureSnapshot=E.value;const L=function jn(I,E,y){return E.children.map(P=>{for(const L of y.children)if(I.shouldReuseRoute(P.value,L.value.snapshot))return Xn(I,P,L);return Xn(I,P)})}(I,E,y);return new Kn(P,L)}{if(I.shouldAttach(E.value)){const Z=I.retrieve(E.value);if(null!==Z){const he=Z.route;return he.value._futureSnapshot=E.value,he.children=E.children.map(Ae=>Xn(I,Ae)),he}}const P=function qr(I){return new ri(new X.X(I.url),new X.X(I.params),new X.X(I.queryParams),new X.X(I.fragment),new X.X(I.data),I.outlet,I.component,I)}(E.value),L=E.children.map(Z=>Xn(I,Z));return new Kn(P,L)}}function bi(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Wr(I){return"object"==typeof I&&null!=I&&I.outlets}function Ss(I,E,y,P,L){let Z={};return P&&en(P,(he,Ae)=>{Z[Ae]=Array.isArray(he)?he.map(_t=>`${_t}`):`${he}`}),new mn(y.root===I?E:os(y.root,I,E),Z,L)}function os(I,E,y){const P={};return en(I.children,(L,Z)=>{P[Z]=L===E?y:os(L,E,y)}),new Kt(I.segments,P)}class fs{constructor(E,y,P){if(this.isAbsolute=E,this.numberOfDoubleDots=y,this.commands=P,E&&P.length>0&&bi(P[0]))throw new Error("Root segment cannot have matrix parameters");const L=P.find(Wr);if(L&&L!==Ht(P))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hr{constructor(E,y,P){this.segmentGroup=E,this.processChildren=y,this.index=P}}function Be(I,E,y){if(I||(I=new Kt([],{})),0===I.segments.length&&I.hasChildren())return wt(I,E,y);const P=function Lt(I,E,y){let P=0,L=E;const Z={match:!1,pathIndex:0,commandIndex:0};for(;L<I.segments.length;){if(P>=y.length)return Z;const he=I.segments[L],Ae=y[P];if(Wr(Ae))break;const _t=`${Ae}`,dn=P<y.length-1?y[P+1]:null;if(L>0&&void 0===_t)break;if(_t&&dn&&"object"==typeof dn&&void 0===dn.outlets){if(!Qt(_t,dn,he))return Z;P+=2}else{if(!Qt(_t,{},he))return Z;P++}L++}return{match:!0,pathIndex:L,commandIndex:P}}(I,E,y),L=y.slice(P.commandIndex);if(P.match&&P.pathIndex<I.segments.length){const Z=new Kt(I.segments.slice(0,P.pathIndex),{});return Z.children[sn]=new Kt(I.segments.slice(P.pathIndex),I.children),wt(Z,0,L)}return P.match&&0===L.length?new Kt(I.segments,{}):P.match&&!I.hasChildren()?hn(I,E,y):P.match?wt(I,0,L):hn(I,E,y)}function wt(I,E,y){if(0===y.length)return new Kt(I.segments,{});{const P=function Me(I){return Wr(I[0])?I[0].outlets:{[sn]:I}}(y),L={};return en(P,(Z,he)=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&(L[he]=Be(I.children[he],E,Z))}),en(I.children,(Z,he)=>{void 0===P[he]&&(L[he]=Z)}),new Kt(I.segments,L)}}function hn(I,E,y){const P=I.segments.slice(0,E);let L=0;for(;L<y.length;){const Z=y[L];if(Wr(Z)){const _t=pr(Z.outlets);return new Kt(P,_t)}if(0===L&&bi(y[0])){P.push(new _e(I.segments[E].path,Zn(y[0]))),L++;continue}const he=Wr(Z)?Z.outlets[sn]:`${Z}`,Ae=L<y.length-1?y[L+1]:null;he&&Ae&&bi(Ae)?(P.push(new _e(he,Zn(Ae))),L+=2):(P.push(new _e(he,{})),L++)}return new Kt(P,{})}function pr(I){const E={};return en(I,(y,P)=>{"string"==typeof y&&(y=[y]),null!==y&&(E[P]=hn(new Kt([],{}),0,y))}),E}function Zn(I){const E={};return en(I,(y,P)=>E[P]=`${y}`),E}function Qt(I,E,y){return I==y.path&&It(E,y.parameters)}class es{constructor(E,y,P,L){this.routeReuseStrategy=E,this.futureState=y,this.currState=P,this.forwardEvent=L}activate(E){const y=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,P,E),cn(this.futureState.root),this.activateChildRoutes(y,P,E)}deactivateChildRoutes(E,y,P){const L=or(y);E.children.forEach(Z=>{const he=Z.value.outlet;this.deactivateRoutes(Z,L[he],P),delete L[he]}),en(L,(Z,he)=>{this.deactivateRouteAndItsChildren(Z,P)})}deactivateRoutes(E,y,P){const L=E.value,Z=y?y.value:null;if(L===Z)if(L.component){const he=P.getContext(L.outlet);he&&this.deactivateChildRoutes(E,y,he.children)}else this.deactivateChildRoutes(E,y,P);else Z&&this.deactivateRouteAndItsChildren(y,P)}deactivateRouteAndItsChildren(E,y){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,y):this.deactivateRouteAndOutlet(E,y)}detachAndStoreRouteSubtree(E,y){const P=y.getContext(E.value.outlet),L=P&&E.value.component?P.children:y,Z=or(E);for(const he of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[he],L);if(P&&P.outlet){const he=P.outlet.detach(),Ae=P.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:he,route:E,contexts:Ae})}}deactivateRouteAndOutlet(E,y){const P=y.getContext(E.value.outlet),L=P&&E.value.component?P.children:y,Z=or(E);for(const he of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[he],L);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(E,y,P){const L=or(y);E.children.forEach(Z=>{this.activateRoutes(Z,L[Z.value.outlet],P),this.forwardEvent(new sr(Z.value.snapshot))}),E.children.length&&this.forwardEvent(new Hn(E.value.snapshot))}activateRoutes(E,y,P){const L=E.value,Z=y?y.value:null;if(cn(L),L===Z)if(L.component){const he=P.getOrCreateContext(L.outlet);this.activateChildRoutes(E,y,he.children)}else this.activateChildRoutes(E,y,P);else if(L.component){const he=P.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const Ae=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),he.children.onOutletReAttached(Ae.contexts),he.attachRef=Ae.componentRef,he.route=Ae.route.value,he.outlet&&he.outlet.attach(Ae.componentRef,Ae.route.value),cn(Ae.route.value),this.activateChildRoutes(E,null,he.children)}else{const Ae=function Vi(I){for(let E=I.parent;E;E=E.parent){const y=E.routeConfig;if(y&&y._loadedConfig)return y._loadedConfig;if(y&&y.component)return null}return null}(L.snapshot),_t=Ae?Ae.module.componentFactoryResolver:null;he.attachRef=null,he.route=L,he.resolver=_t,he.outlet&&he.outlet.activateWith(L,_t),this.activateChildRoutes(E,null,he.children)}}else this.activateChildRoutes(E,null,P)}}class ai{constructor(E,y){this.routes=E,this.module=y}}function mi(I){return"function"==typeof I}function Bi(I){return I instanceof mn}const as=Symbol("INITIAL_VALUE");function ls(){return(0,At.w)(I=>(0,ie.a)(I.map(E=>E.pipe((0,xe.q)(1),(0,ve.O)(as)))).pipe((0,ze.R)((E,y)=>{let P=!1;return y.reduce((L,Z,he)=>L!==as?L:(Z===as&&(P=!0),P||!1!==Z&&he!==y.length-1&&!Bi(Z)?L:Z),E)},as),(0,Ve.h)(E=>E!==as),(0,ct.U)(E=>Bi(E)?E:!0===E),(0,xe.q)(1)))}class zs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ji,this.attachRef=null}}class ji{constructor(){this.contexts=new Map}onChildOutletCreated(E,y){const P=this.getOrCreateContext(E);P.outlet=y,this.contexts.set(E,P)}onChildOutletDestroyed(E){const y=this.getContext(E);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let y=this.getContext(E);return y||(y=new zs,this.contexts.set(E,y)),y}getContext(E){return this.contexts.get(E)||null}}let ki=(()=>{class I{constructor(y,P,L,Z,he){this.parentContexts=y,this.location=P,this.resolver=L,this.changeDetector=he,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=Z||sn,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,P){this.activated=y,this._activatedRoute=P,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,P){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=y;const he=(P=P||this.resolver).resolveComponentFactory(y._futureSnapshot.routeConfig.component),Ae=this.parentContexts.getOrCreateContext(this.name).children,_t=new Mi(y,Ae,this.location.injector);this.activated=this.location.createComponent(he,this.location.length,_t),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(y){return new(y||I)(u.Y36(ji),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},I.\u0275dir=u.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),I})();class Mi{constructor(E,y,P){this.route=E,this.childContexts=y,this.parent=P}get(E,y){return E===ri?this.route:E===ji?this.childContexts:this.parent.get(E,y)}}let Fi=(()=>{class I{}return I.\u0275fac=function(y){return new(y||I)},I.\u0275cmp=u.Xpm({type:I,selectors:[["ng-component"]],decls:1,vars:0,template:function(y,P){1&y&&u._UZ(0,"router-outlet")},directives:[ki],encapsulation:2}),I})();function Hi(I,E=""){for(let y=0;y<I.length;y++){const P=I[y];bn(P,ui(E,P))}}function bn(I,E){I.children&&Hi(I.children,E)}function ui(I,E){return E?I||E.path?I&&!E.path?`${I}/`:!I&&E.path?E.path:`${I}/${E.path}`:"":I}function ps(I){const E=I.children&&I.children.map(ps),y=E?Object.assign(Object.assign({},I),{children:E}):Object.assign({},I);return!y.component&&(E||y.loadChildren)&&y.outlet&&y.outlet!==sn&&(y.component=Fi),y}function Rr(I){return I.outlet||sn}function wi(I,E){const y=I.filter(P=>Rr(P)===E);return y.push(...I.filter(P=>Rr(P)!==E)),y}const Di={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qr(I,E,y){var P;if(""===E.path)return"full"===E.pathMatch&&(I.hasChildren()||y.length>0)?Object.assign({},Di):{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const Z=(E.matcher||be)(y,I,E);if(!Z)return Object.assign({},Di);const he={};en(Z.posParams,(_t,dn)=>{he[dn]=_t.path});const Ae=Z.consumed.length>0?Object.assign(Object.assign({},he),Z.consumed[Z.consumed.length-1].parameters):he;return{matched:!0,consumedSegments:Z.consumed,remainingSegments:y.slice(Z.consumed.length),parameters:Ae,positionalParamSegments:null!==(P=Z.posParams)&&void 0!==P?P:{}}}function Li(I,E,y,P,L="corrected"){if(y.length>0&&function br(I,E,y){return y.some(P=>z(I,E,P)&&Rr(P)!==sn)}(I,y,P)){const he=new Kt(E,function Ms(I,E,y,P){const L={};L[sn]=P,P._sourceSegment=I,P._segmentIndexShift=E.length;for(const Z of y)if(""===Z.path&&Rr(Z)!==sn){const he=new Kt([],{});he._sourceSegment=I,he._segmentIndexShift=E.length,L[Rr(Z)]=he}return L}(I,E,P,new Kt(y,I.children)));return he._sourceSegment=I,he._segmentIndexShift=E.length,{segmentGroup:he,slicedSegments:[]}}if(0===y.length&&function R(I,E,y){return y.some(P=>z(I,E,P))}(I,y,P)){const he=new Kt(I.segments,function ci(I,E,y,P,L,Z){const he={};for(const Ae of P)if(z(I,y,Ae)&&!L[Rr(Ae)]){const _t=new Kt([],{});_t._sourceSegment=I,_t._segmentIndexShift="legacy"===Z?I.segments.length:E.length,he[Rr(Ae)]=_t}return Object.assign(Object.assign({},L),he)}(I,E,y,P,I.children,L));return he._sourceSegment=I,he._segmentIndexShift=E.length,{segmentGroup:he,slicedSegments:y}}const Z=new Kt(I.segments,I.children);return Z._sourceSegment=I,Z._segmentIndexShift=E.length,{segmentGroup:Z,slicedSegments:y}}function z(I,E,y){return(!(I.hasChildren()||E.length>0)||"full"!==y.pathMatch)&&""===y.path}function O(I,E,y,P){return!!(Rr(I)===P||P!==sn&&z(E,y,I))&&("**"===I.path||Qr(E,I,y).matched)}function q(I,E,y){return 0===E.length&&!I.children[y]}class Te{constructor(E){this.segmentGroup=E||null}}class ot{constructor(E){this.urlTree=E}}function Ct(I){return(0,fe._)(new Te(I))}function Gt(I){return(0,fe._)(new ot(I))}class pn{constructor(E,y,P,L,Z){this.configLoader=y,this.urlSerializer=P,this.urlTree=L,this.config=Z,this.allowRedirects=!0,this.ngModule=E.get(u.h0i)}apply(){const E=Li(this.urlTree.root,[],[],this.config).segmentGroup,y=new Kt(E.segments,E.children);return this.expandSegmentGroup(this.ngModule,this.config,y,sn).pipe((0,ct.U)(Z=>this.createUrlTree(N(Z),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Fe.K)(Z=>{if(Z instanceof ot)return this.allowRedirects=!1,this.match(Z.urlTree);throw Z instanceof Te?this.noMatchError(Z):Z}))}match(E){return this.expandSegmentGroup(this.ngModule,this.config,E.root,sn).pipe((0,ct.U)(L=>this.createUrlTree(N(L),E.queryParams,E.fragment))).pipe((0,Fe.K)(L=>{throw L instanceof Te?this.noMatchError(L):L}))}noMatchError(E){return new Error(`Cannot match any routes. URL Segment: '${E.segmentGroup}'`)}createUrlTree(E,y,P){const L=E.segments.length>0?new Kt([],{[sn]:E}):E;return new mn(L,y,P)}expandSegmentGroup(E,y,P,L){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(E,y,P).pipe((0,ct.U)(Z=>new Kt([],Z))):this.expandSegment(E,P,y,P.segments,L,!0)}expandChildren(E,y,P){const L=[];for(const Z of Object.keys(P.children))"primary"===Z?L.unshift(Z):L.push(Z);return(0,le.D)(L).pipe((0,Ze.b)(Z=>{const he=P.children[Z],Ae=wi(y,Z);return this.expandSegmentGroup(E,Ae,he,Z).pipe((0,ct.U)(_t=>({segment:_t,outlet:Z})))}),(0,ze.R)((Z,he)=>(Z[he.outlet]=he.segment,Z),{}),function Ke(I,E){const y=arguments.length>=2;return P=>P.pipe(I?(0,Ve.h)((L,Z)=>I(L,Z,P)):F.y,vt(1),y?(0,ke.d)(E):(0,Tt.T)(()=>new et.K))}())}expandSegment(E,y,P,L,Z,he){return(0,le.D)(P).pipe((0,Ze.b)(Ae=>this.expandSegmentAgainstRoute(E,y,P,Ae,L,Z,he).pipe((0,Fe.K)(dn=>{if(dn instanceof Te)return(0,ee.of)(null);throw dn}))),(0,it.P)(Ae=>!!Ae),(0,Fe.K)((Ae,_t)=>{if(Ae instanceof et.K||"EmptyError"===Ae.name)return q(y,L,Z)?(0,ee.of)(new Kt([],{})):Ct(y);throw Ae}))}expandSegmentAgainstRoute(E,y,P,L,Z,he,Ae){return O(L,y,Z,he)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(E,y,L,Z,he):Ae&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,y,P,L,Z,he):Ct(y):Ct(y)}expandSegmentAgainstRouteUsingRedirect(E,y,P,L,Z,he){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,P,L,he):this.expandRegularSegmentAgainstRouteUsingRedirect(E,y,P,L,Z,he)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,y,P,L){const Z=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?Gt(Z):this.lineralizeSegments(P,Z).pipe((0,He.z)(he=>{const Ae=new Kt(he,{});return this.expandSegment(E,Ae,y,he,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,y,P,L,Z,he){const{matched:Ae,consumedSegments:_t,remainingSegments:dn,positionalParamSegments:mr}=Qr(y,L,Z);if(!Ae)return Ct(y);const vn=this.applyRedirectCommands(_t,L.redirectTo,mr);return L.redirectTo.startsWith("/")?Gt(vn):this.lineralizeSegments(L,vn).pipe((0,He.z)(Ur=>this.expandSegment(E,y,P,Ur.concat(dn),he,!1)))}matchSegmentAgainstRoute(E,y,P,L,Z){if("**"===P.path)return P.loadChildren?(P._loadedConfig?(0,ee.of)(P._loadedConfig):this.configLoader.load(E.injector,P)).pipe((0,ct.U)(vn=>(P._loadedConfig=vn,new Kt(L,{})))):(0,ee.of)(new Kt(L,{}));const{matched:he,consumedSegments:Ae,remainingSegments:_t}=Qr(y,P,L);return he?this.getChildConfig(E,P,L).pipe((0,He.z)(mr=>{const vn=mr.module,Ur=mr.routes,{segmentGroup:Ar,slicedSegments:Zi}=Li(y,Ae,_t,Ur),$s=new Kt(Ar.segments,Ar.children);if(0===Zi.length&&$s.hasChildren())return this.expandChildren(vn,Ur,$s).pipe((0,ct.U)(Ta=>new Kt(Ae,Ta)));if(0===Ur.length&&0===Zi.length)return(0,ee.of)(new Kt(Ae,{}));const Da=Rr(P)===Z;return this.expandSegment(vn,$s,Ur,Zi,Da?sn:Z,!0).pipe((0,ct.U)(Yi=>new Kt(Ae.concat(Yi.segments),Yi.children)))})):Ct(y)}getChildConfig(E,y,P){return y.children?(0,ee.of)(new ai(y.children,E)):y.loadChildren?void 0!==y._loadedConfig?(0,ee.of)(y._loadedConfig):this.runCanLoadGuards(E.injector,y,P).pipe((0,He.z)(L=>L?this.configLoader.load(E.injector,y).pipe((0,ct.U)(Z=>(y._loadedConfig=Z,Z))):function gr(I){return(0,fe._)(jr(`Cannot load children because the guard of the route "path: '${I.path}'" returned false`))}(y))):(0,ee.of)(new ai([],E))}runCanLoadGuards(E,y,P){const L=y.canLoad;if(!L||0===L.length)return(0,ee.of)(!0);const Z=L.map(he=>{const Ae=E.get(he);let _t;if(function ts(I){return I&&mi(I.canLoad)}(Ae))_t=Ae.canLoad(y,P);else{if(!mi(Ae))throw new Error("Invalid CanLoad guard");_t=Ae(y,P)}return un(_t)});return(0,ee.of)(Z).pipe(ls(),(0,$t.b)(he=>{if(!Bi(he))return;const Ae=jr(`Redirecting to "${this.urlSerializer.serialize(he)}"`);throw Ae.url=he,Ae}),(0,ct.U)(he=>!0===he))}lineralizeSegments(E,y){let P=[],L=y.root;for(;;){if(P=P.concat(L.segments),0===L.numberOfChildren)return(0,ee.of)(P);if(L.numberOfChildren>1||!L.children[sn])return(0,fe._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${E.redirectTo}'`));L=L.children[sn]}}applyRedirectCommands(E,y,P){return this.applyRedirectCreatreUrlTree(y,this.urlSerializer.parse(y),E,P)}applyRedirectCreatreUrlTree(E,y,P,L){const Z=this.createSegmentGroup(E,y.root,P,L);return new mn(Z,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(E,y){const P={};return en(E,(L,Z)=>{if("string"==typeof L&&L.startsWith(":")){const Ae=L.substring(1);P[Z]=y[Ae]}else P[Z]=L}),P}createSegmentGroup(E,y,P,L){const Z=this.createSegments(E,y.segments,P,L);let he={};return en(y.children,(Ae,_t)=>{he[_t]=this.createSegmentGroup(E,Ae,P,L)}),new Kt(Z,he)}createSegments(E,y,P,L){return y.map(Z=>Z.path.startsWith(":")?this.findPosParam(E,Z,L):this.findOrReturn(Z,P))}findPosParam(E,y,P){const L=P[y.path.substring(1)];if(!L)throw new Error(`Cannot redirect to '${E}'. Cannot find '${y.path}'.`);return L}findOrReturn(E,y){let P=0;for(const L of y){if(L.path===E.path)return y.splice(P),L;P++}return E}}function N(I){const E={};for(const P of Object.keys(I.children)){const Z=N(I.children[P]);(Z.segments.length>0||Z.hasChildren())&&(E[P]=Z)}return function Jr(I){if(1===I.numberOfChildren&&I.children[sn]){const E=I.children[sn];return new Kt(I.segments.concat(E.segments),E.children)}return I}(new Kt(I.segments,E))}class w{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class W{constructor(E,y){this.component=E,this.route=y}}function Le(I,E,y){const P=I._root;return _i(P,E?E._root:null,y,[P.value])}function nn(I,E,y){const P=function Ti(I){if(!I)return null;for(let E=I.parent;E;E=E.parent){const y=E.routeConfig;if(y&&y._loadedConfig)return y._loadedConfig}return null}(E);return(P?P.module.injector:y).get(I)}function _i(I,E,y,P,L={canDeactivateChecks:[],canActivateChecks:[]}){const Z=or(E);return I.children.forEach(he=>{(function Fs(I,E,y,P,L={canDeactivateChecks:[],canActivateChecks:[]}){const Z=I.value,he=E?E.value:null,Ae=y?y.getContext(I.value.outlet):null;if(he&&Z.routeConfig===he.routeConfig){const _t=function Xr(I,E,y){if("function"==typeof y)return y(I,E);switch(y){case"pathParamsChange":return!we(I.url,E.url);case"pathParamsOrQueryParamsChange":return!we(I.url,E.url)||!It(I.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vr(I,E)||!It(I.queryParams,E.queryParams);default:return!vr(I,E)}}(he,Z,Z.routeConfig.runGuardsAndResolvers);_t?L.canActivateChecks.push(new w(P)):(Z.data=he.data,Z._resolvedData=he._resolvedData),_i(I,E,Z.component?Ae?Ae.children:null:y,P,L),_t&&Ae&&Ae.outlet&&Ae.outlet.isActivated&&L.canDeactivateChecks.push(new W(Ae.outlet.component,he))}else he&&Cs(E,Ae,L),L.canActivateChecks.push(new w(P)),_i(I,null,Z.component?Ae?Ae.children:null:y,P,L)})(he,Z[he.value.outlet],y,P.concat([he.value]),L),delete Z[he.value.outlet]}),en(Z,(he,Ae)=>Cs(he,y.getContext(Ae),L)),L}function Cs(I,E,y){const P=or(I),L=I.value;en(P,(Z,he)=>{Cs(Z,L.component?E?E.children.getContext(he):null:E,y)}),y.canDeactivateChecks.push(new W(L.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,L))}class go{}function mo(I){return new B.y(E=>E.error(I))}class Ps{constructor(E,y,P,L,Z,he){this.rootComponentType=E,this.config=y,this.urlTree=P,this.url=L,this.paramsInheritanceStrategy=Z,this.relativeLinkResolution=he}recognize(){const E=Li(this.urlTree.root,[],[],this.config.filter(he=>void 0===he.redirectTo),this.relativeLinkResolution).segmentGroup,y=this.processSegmentGroup(this.config,E,sn);if(null===y)return null;const P=new Ge([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new Kn(P,y),Z=new tt(this.url,L);return this.inheritParamsAndData(Z._root),Z}inheritParamsAndData(E){const y=E.value,P=ge(y,this.paramsInheritanceStrategy);y.params=Object.freeze(P.params),y.data=Object.freeze(P.data),E.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(E,y,P){return 0===y.segments.length&&y.hasChildren()?this.processChildren(E,y):this.processSegment(E,y,y.segments,P)}processChildren(E,y){const P=[];for(const Z of Object.keys(y.children)){const he=y.children[Z],Ae=wi(E,Z),_t=this.processSegmentGroup(Ae,he,Z);if(null===_t)return null;P.push(..._t)}const L=Ls(P);return function rs(I){I.sort((E,y)=>E.value.outlet===sn?-1:y.value.outlet===sn?1:E.value.outlet.localeCompare(y.value.outlet))}(L),L}processSegment(E,y,P,L){for(const Z of E){const he=this.processSegmentAgainstRoute(Z,y,P,L);if(null!==he)return he}return q(y,P,L)?[]:null}processSegmentAgainstRoute(E,y,P,L){if(E.redirectTo||!O(E,y,P,L))return null;let Z,he=[],Ae=[];if("**"===E.path){const Ar=P.length>0?Ht(P).parameters:{};Z=new Ge(P,Ar,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,M(E),Rr(E),E.component,E,p(y),_(y)+P.length,$(E))}else{const Ar=Qr(y,E,P);if(!Ar.matched)return null;he=Ar.consumedSegments,Ae=Ar.remainingSegments,Z=new Ge(he,Ar.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,M(E),Rr(E),E.component,E,p(y),_(y)+he.length,$(E))}const _t=function $i(I){return I.children?I.children:I.loadChildren?I._loadedConfig.routes:[]}(E),{segmentGroup:dn,slicedSegments:mr}=Li(y,he,Ae,_t.filter(Ar=>void 0===Ar.redirectTo),this.relativeLinkResolution);if(0===mr.length&&dn.hasChildren()){const Ar=this.processChildren(_t,dn);return null===Ar?null:[new Kn(Z,Ar)]}if(0===_t.length&&0===mr.length)return[new Kn(Z,[])];const vn=Rr(E)===L,Ur=this.processSegment(_t,dn,mr,vn?sn:L);return null===Ur?null:[new Kn(Z,Ur)]}}function Gi(I){const E=I.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function Ls(I){const E=[],y=new Set;for(const P of I){if(!Gi(P)){E.push(P);continue}const L=E.find(Z=>P.value.routeConfig===Z.value.routeConfig);void 0!==L?(L.children.push(...P.children),y.add(L)):E.push(P)}for(const P of y){const L=Ls(P.children);E.push(new Kn(P.value,L))}return E.filter(P=>!y.has(P))}function p(I){let E=I;for(;E._sourceSegment;)E=E._sourceSegment;return E}function _(I){let E=I,y=E._segmentIndexShift?E._segmentIndexShift:0;for(;E._sourceSegment;)E=E._sourceSegment,y+=E._segmentIndexShift?E._segmentIndexShift:0;return y-1}function M(I){return I.data||{}}function $(I){return I.resolve||{}}function Dt(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function gn(I){return(0,At.w)(E=>{const y=I(E);return y?(0,le.D)(y).pipe((0,ct.U)(()=>E)):(0,ee.of)(E)})}class Cn extends class fr{shouldDetach(E){return!1}store(E,y){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,y){return E.routeConfig===y.routeConfig}}{}const Ln=new u.OlP("ROUTES");class Tr{constructor(E,y,P,L){this.injector=E,this.compiler=y,this.onLoadStartListener=P,this.onLoadEndListener=L}load(E,y){if(y._loader$)return y._loader$;this.onLoadStartListener&&this.onLoadStartListener(y);const L=this.loadModuleFactory(y.loadChildren).pipe((0,ct.U)(Z=>{this.onLoadEndListener&&this.onLoadEndListener(y);const he=Z.create(E);return new ai(bt(he.injector.get(Ln,void 0,u.XFs.Self|u.XFs.Optional)).map(ps),he)}),(0,Fe.K)(Z=>{throw y._loader$=void 0,Z}));return y._loader$=new ue(L,()=>new Ne.x).pipe(ce()),y._loader$}loadModuleFactory(E){return un(E()).pipe((0,He.z)(y=>y instanceof u.YKP?(0,ee.of)(y):(0,le.D)(this.compiler.compileModuleAsync(y))))}}class Ai{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,y){return E}}function Oi(I){throw I}function wr(I,E,y){return E.parse("/")}function cs(I,E){return(0,ee.of)(null)}const Lr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ri={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nr=(()=>{class I{constructor(y,P,L,Z,he,Ae,_t){this.rootComponentType=y,this.urlSerializer=P,this.rootContexts=L,this.location=Z,this.config=_t,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ne.x,this.errorHandler=Oi,this.malformedUriErrorHandler=wr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cs,afterPreactivation:cs},this.urlHandlingStrategy=new Ai,this.routeReuseStrategy=new Cn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=he.get(u.h0i),this.console=he.get(u.c2e);const vn=he.get(u.R0b);this.isNgZoneEnabled=vn instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(_t),this.currentUrlTree=function Dr(){return new mn(new Kt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Tr(he,Ae,Ur=>this.triggerEvent(new zn(Ur)),Ur=>this.triggerEvent(new _n(Ur))),this.routerState=An(this.currentUrlTree,this.rootComponentType),this.transitions=new X.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var y;return null===(y=this.location.getState())||void 0===y?void 0:y.\u0275routerPageId}setupNavigations(y){const P=this.events;return y.pipe((0,Ve.h)(L=>0!==L.id),(0,ct.U)(L=>Object.assign(Object.assign({},L),{extractedUrl:this.urlHandlingStrategy.extract(L.rawUrl)})),(0,At.w)(L=>{let Z=!1,he=!1;return(0,ee.of)(L).pipe((0,$t.b)(Ae=>{this.currentNavigation={id:Ae.id,initialUrl:Ae.currentRawUrl,extractedUrl:Ae.extractedUrl,trigger:Ae.source,extras:Ae.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,At.w)(Ae=>{const _t=this.browserUrlTree.toString(),dn=!this.navigated||Ae.extractedUrl.toString()!==_t||_t!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||dn)&&this.urlHandlingStrategy.shouldProcessUrl(Ae.rawUrl))return zi(Ae.source)&&(this.browserUrlTree=Ae.extractedUrl),(0,ee.of)(Ae).pipe((0,At.w)(vn=>{const Ur=this.transitions.getValue();return P.next(new Pn(vn.id,this.serializeUrl(vn.extractedUrl),vn.source,vn.restoredState)),Ur!==this.transitions.getValue()?nt.E:Promise.resolve(vn)}),function S(I,E,y,P){return(0,At.w)(L=>function er(I,E,y,P,L){return new pn(I,E,y,P,L).apply()}(I,E,y,L.extractedUrl,P).pipe((0,ct.U)(Z=>Object.assign(Object.assign({},L),{urlAfterRedirects:Z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,$t.b)(vn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:vn.urlAfterRedirects})}),function ne(I,E,y,P,L){return(0,He.z)(Z=>function Rs(I,E,y,P,L="emptyOnly",Z="legacy"){try{const he=new Ps(I,E,y,P,L,Z).recognize();return null===he?mo(new go):(0,ee.of)(he)}catch(he){return mo(he)}}(I,E,Z.urlAfterRedirects,y(Z.urlAfterRedirects),P,L).pipe((0,ct.U)(he=>Object.assign(Object.assign({},Z),{targetSnapshot:he}))))}(this.rootComponentType,this.config,vn=>this.serializeUrl(vn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,$t.b)(vn=>{if("eager"===this.urlUpdateStrategy){if(!vn.extras.skipLocationChange){const Ar=this.urlHandlingStrategy.merge(vn.urlAfterRedirects,vn.rawUrl);this.setBrowserUrl(Ar,vn)}this.browserUrlTree=vn.urlAfterRedirects}const Ur=new Ue(vn.id,this.serializeUrl(vn.extractedUrl),this.serializeUrl(vn.urlAfterRedirects),vn.targetSnapshot);P.next(Ur)}));if(dn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ur,extractedUrl:Ar,source:Zi,restoredState:$s,extras:Da}=Ae,uo=new Pn(Ur,this.serializeUrl(Ar),Zi,$s);P.next(uo);const Yi=An(Ar,this.rootComponentType).snapshot;return(0,ee.of)(Object.assign(Object.assign({},Ae),{targetSnapshot:Yi,urlAfterRedirects:Ar,extras:Object.assign(Object.assign({},Da),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ae.rawUrl,Ae.resolve(null),nt.E}),gn(Ae=>{const{targetSnapshot:_t,id:dn,extractedUrl:mr,rawUrl:vn,extras:{skipLocationChange:Ur,replaceUrl:Ar}}=Ae;return this.hooks.beforePreactivation(_t,{navigationId:dn,appliedUrlTree:mr,rawUrlTree:vn,skipLocationChange:!!Ur,replaceUrl:!!Ar})}),(0,$t.b)(Ae=>{const _t=new We(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(_t)}),(0,ct.U)(Ae=>Object.assign(Object.assign({},Ae),{guards:Le(Ae.targetSnapshot,Ae.currentSnapshot,this.rootContexts)})),function Ot(I,E){return(0,He.z)(y=>{const{targetSnapshot:P,currentSnapshot:L,guards:{canActivateChecks:Z,canDeactivateChecks:he}}=y;return 0===he.length&&0===Z.length?(0,ee.of)(Object.assign(Object.assign({},y),{guardsResult:!0})):function lr(I,E,y,P){return(0,le.D)(I).pipe((0,He.z)(L=>function po(I,E,y,P,L){const Z=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!Z||0===Z.length)return(0,ee.of)(!0);const he=Z.map(Ae=>{const _t=nn(Ae,E,L);let dn;if(function xi(I){return I&&mi(I.canDeactivate)}(_t))dn=un(_t.canDeactivate(I,E,y,P));else{if(!mi(_t))throw new Error("Invalid CanDeactivate guard");dn=un(_t(I,E,y,P))}return dn.pipe((0,it.P)())});return(0,ee.of)(he).pipe(ls())}(L.component,L.route,y,E,P)),(0,it.P)(L=>!0!==L,!0))}(he,P,L,I).pipe((0,He.z)(Ae=>Ae&&function io(I){return"boolean"==typeof I}(Ae)?function Os(I,E,y,P){return(0,le.D)(E).pipe((0,Ze.b)(L=>(0,Ye.z)(function so(I,E){return null!==I&&E&&E(new fn(I)),(0,ee.of)(!0)}(L.route.parent,P),function ii(I,E){return null!==I&&E&&E(new $n(I)),(0,ee.of)(!0)}(L.route,P),function us(I,E,y){const P=E[E.length-1],Z=E.slice(0,E.length-1).reverse().map(he=>function Jt(I){const E=I.routeConfig?I.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:I,guards:E}:null}(he)).filter(he=>null!==he).map(he=>(0,Qe.P)(()=>{const Ae=he.guards.map(_t=>{const dn=nn(_t,he.node,y);let mr;if(function ns(I){return I&&mi(I.canActivateChild)}(dn))mr=un(dn.canActivateChild(P,I));else{if(!mi(dn))throw new Error("Invalid CanActivateChild guard");mr=un(dn(P,I))}return mr.pipe((0,it.P)())});return(0,ee.of)(Ae).pipe(ls())}));return(0,ee.of)(Z).pipe(ls())}(I,L.path,y),function js(I,E,y){const P=E.routeConfig?E.routeConfig.canActivate:null;if(!P||0===P.length)return(0,ee.of)(!0);const L=P.map(Z=>(0,Qe.P)(()=>{const he=nn(Z,E,y);let Ae;if(function li(I){return I&&mi(I.canActivate)}(he))Ae=un(he.canActivate(E,I));else{if(!mi(he))throw new Error("Invalid CanActivate guard");Ae=un(he(E,I))}return Ae.pipe((0,it.P)())}));return(0,ee.of)(L).pipe(ls())}(I,L.route,y))),(0,it.P)(L=>!0!==L,!0))}(P,Z,I,E):(0,ee.of)(Ae)),(0,ct.U)(Ae=>Object.assign(Object.assign({},y),{guardsResult:Ae})))})}(this.ngModule.injector,Ae=>this.triggerEvent(Ae)),(0,$t.b)(Ae=>{if(Bi(Ae.guardsResult)){const dn=jr(`Redirecting to "${this.serializeUrl(Ae.guardsResult)}"`);throw dn.url=Ae.guardsResult,dn}const _t=new Et(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot,!!Ae.guardsResult);this.triggerEvent(_t)}),(0,Ve.h)(Ae=>!!Ae.guardsResult||(this.restoreHistory(Ae),this.cancelNavigationTransition(Ae,""),!1)),gn(Ae=>{if(Ae.guards.canActivateChecks.length)return(0,ee.of)(Ae).pipe((0,$t.b)(_t=>{const dn=new ln(_t.id,this.serializeUrl(_t.extractedUrl),this.serializeUrl(_t.urlAfterRedirects),_t.targetSnapshot);this.triggerEvent(dn)}),(0,At.w)(_t=>{let dn=!1;return(0,ee.of)(_t).pipe(function Ee(I,E){return(0,He.z)(y=>{const{targetSnapshot:P,guards:{canActivateChecks:L}}=y;if(!L.length)return(0,ee.of)(y);let Z=0;return(0,le.D)(L).pipe((0,Ze.b)(he=>function Ce(I,E,y,P){return function Je(I,E,y,P){const L=Dt(I);if(0===L.length)return(0,ee.of)({});const Z={};return(0,le.D)(L).pipe((0,He.z)(he=>function rn(I,E,y,P){const L=nn(I,E,P);return un(L.resolve?L.resolve(E,y):L(E,y))}(I[he],E,y,P).pipe((0,$t.b)(Ae=>{Z[he]=Ae}))),vt(1),(0,He.z)(()=>Dt(Z).length===L.length?(0,ee.of)(Z):nt.E))}(I._resolve,I,E,P).pipe((0,ct.U)(Z=>(I._resolvedData=Z,I.data=Object.assign(Object.assign({},I.data),ge(I,y).resolve),null)))}(he.route,P,I,E)),(0,$t.b)(()=>Z++),vt(1),(0,He.z)(he=>Z===L.length?(0,ee.of)(y):nt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,$t.b)({next:()=>dn=!0,complete:()=>{dn||(this.restoreHistory(_t),this.cancelNavigationTransition(_t,"At least one route resolver didn't emit any value."))}}))}),(0,$t.b)(_t=>{const dn=new Nn(_t.id,this.serializeUrl(_t.extractedUrl),this.serializeUrl(_t.urlAfterRedirects),_t.targetSnapshot);this.triggerEvent(dn)}))}),gn(Ae=>{const{targetSnapshot:_t,id:dn,extractedUrl:mr,rawUrl:vn,extras:{skipLocationChange:Ur,replaceUrl:Ar}}=Ae;return this.hooks.afterPreactivation(_t,{navigationId:dn,appliedUrlTree:mr,rawUrlTree:vn,skipLocationChange:!!Ur,replaceUrl:!!Ar})}),(0,ct.U)(Ae=>{const _t=function Ir(I,E,y){const P=Xn(I,E._root,y?y._root:void 0);return new Hr(P,E)}(this.routeReuseStrategy,Ae.targetSnapshot,Ae.currentRouterState);return Object.assign(Object.assign({},Ae),{targetRouterState:_t})}),(0,$t.b)(Ae=>{this.currentUrlTree=Ae.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ae.urlAfterRedirects,Ae.rawUrl),this.routerState=Ae.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ae.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ae),this.browserUrlTree=Ae.urlAfterRedirects)}),((I,E,y)=>(0,ct.U)(P=>(new es(E,P.targetRouterState,P.currentRouterState,y).activate(I),P)))(this.rootContexts,this.routeReuseStrategy,Ae=>this.triggerEvent(Ae)),(0,$t.b)({next(){Z=!0},complete(){Z=!0}}),(0,Mn.x)(()=>{var Ae;Z||he||this.cancelNavigationTransition(L,`Navigation ID ${L.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Ae=this.currentNavigation)||void 0===Ae?void 0:Ae.id)===L.id&&(this.currentNavigation=null)}),(0,Fe.K)(Ae=>{if(he=!0,function dt(I){return I&&I[Mr]}(Ae)){const _t=Bi(Ae.url);_t||(this.navigated=!0,this.restoreHistory(L,!0));const dn=new gt(L.id,this.serializeUrl(L.extractedUrl),Ae.message);P.next(dn),_t?setTimeout(()=>{const mr=this.urlHandlingStrategy.merge(Ae.url,this.rawUrlTree),vn={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zi(L.source)};this.scheduleNavigation(mr,"imperative",null,vn,{resolve:L.resolve,reject:L.reject,promise:L.promise})},0):L.resolve(!1)}else{this.restoreHistory(L,!0);const _t=new ht(L.id,this.serializeUrl(L.extractedUrl),Ae);P.next(_t);try{L.resolve(this.errorHandler(Ae))}catch(dn){L.reject(dn)}}return nt.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),y))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const P="popstate"===y.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{var L;const Z={replaceUrl:!0},he=(null===(L=y.state)||void 0===L?void 0:L.navigationId)?y.state:null;if(he){const _t=Object.assign({},he);delete _t.navigationId,delete _t.\u0275routerPageId,0!==Object.keys(_t).length&&(Z.state=_t)}const Ae=this.parseUrl(y.url);this.scheduleNavigation(Ae,P,he,Z)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){Hi(y),this.config=y.map(ps),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,P={}){const{relativeTo:L,queryParams:Z,fragment:he,queryParamsHandling:Ae,preserveFragment:_t}=P,dn=L||this.routerState.root,mr=_t?this.currentUrlTree.fragment:he;let vn=null;switch(Ae){case"merge":vn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Z);break;case"preserve":vn=this.currentUrlTree.queryParams;break;default:vn=Z||null}return null!==vn&&(vn=this.removeEmptyProps(vn)),function Ci(I,E,y,P,L){if(0===y.length)return Ss(E.root,E.root,E,P,L);const Z=function Br(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new fs(!0,0,I);let E=0,y=!1;const P=I.reduce((L,Z,he)=>{if("object"==typeof Z&&null!=Z){if(Z.outlets){const Ae={};return en(Z.outlets,(_t,dn)=>{Ae[dn]="string"==typeof _t?_t.split("/"):_t}),[...L,{outlets:Ae}]}if(Z.segmentPath)return[...L,Z.segmentPath]}return"string"!=typeof Z?[...L,Z]:0===he?(Z.split("/").forEach((Ae,_t)=>{0==_t&&"."===Ae||(0==_t&&""===Ae?y=!0:".."===Ae?E++:""!=Ae&&L.push(Ae))}),L):[...L,Z]},[]);return new fs(y,E,P)}(y);if(Z.toRoot())return Ss(E.root,new Kt([],{}),E,P,L);const he=function ar(I,E,y){if(I.isAbsolute)return new hr(E.root,!0,0);if(-1===y.snapshot._lastPathIndex){const Z=y.snapshot._urlSegment;return new hr(Z,Z===E.root,0)}const P=bi(I.commands[0])?0:1;return function me(I,E,y){let P=I,L=E,Z=y;for(;Z>L;){if(Z-=L,P=P.parent,!P)throw new Error("Invalid number of '../'");L=P.segments.length}return new hr(P,!1,L-Z)}(y.snapshot._urlSegment,y.snapshot._lastPathIndex+P,I.numberOfDoubleDots)}(Z,E,I),Ae=he.processChildren?wt(he.segmentGroup,he.index,Z.commands):Be(he.segmentGroup,he.index,Z.commands);return Ss(he.segmentGroup,Ae,E,P,L)}(dn,this.currentUrlTree,y,vn,null!=mr?mr:null)}navigateByUrl(y,P={skipLocationChange:!1}){const L=Bi(y)?y:this.parseUrl(y),Z=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(Z,"imperative",null,P)}navigate(y,P={skipLocationChange:!1}){return function Ds(I){for(let E=0;E<I.length;E++){const y=I[E];if(null==y)throw new Error(`The requested path contains ${y} segment at index ${E}`)}}(y),this.navigateByUrl(this.createUrlTree(y,P),P)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let P;try{P=this.urlSerializer.parse(y)}catch(L){P=this.malformedUriErrorHandler(L,this.urlSerializer,y)}return P}isActive(y,P){let L;if(L=!0===P?Object.assign({},Lr):!1===P?Object.assign({},Ri):P,Bi(y))return Rt(this.currentUrlTree,y,L);const Z=this.parseUrl(y);return Rt(this.currentUrlTree,Z,L)}removeEmptyProps(y){return Object.keys(y).reduce((P,L)=>{const Z=y[L];return null!=Z&&(P[L]=Z),P},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new In(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,P,L,Z,he){var Ae,_t;if(this.disposed)return Promise.resolve(!1);let dn,mr,vn;he?(dn=he.resolve,mr=he.reject,vn=he.promise):vn=new Promise((Zi,$s)=>{dn=Zi,mr=$s});const Ur=++this.navigationId;let Ar;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(L=this.location.getState()),Ar=L&&L.\u0275routerPageId?L.\u0275routerPageId:Z.replaceUrl||Z.skipLocationChange?null!==(Ae=this.browserPageId)&&void 0!==Ae?Ae:0:(null!==(_t=this.browserPageId)&&void 0!==_t?_t:0)+1):Ar=0,this.setTransition({id:Ur,targetPageId:Ar,source:P,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:Z,resolve:dn,reject:mr,promise:vn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),vn.catch(Zi=>Promise.reject(Zi))}setBrowserUrl(y,P){const L=this.urlSerializer.serialize(y),Z=Object.assign(Object.assign({},P.extras.state),this.generateNgRouterState(P.id,P.targetPageId));this.location.isCurrentPathEqualTo(L)||P.extras.replaceUrl?this.location.replaceState(L,"",Z):this.location.go(L,"",Z)}restoreHistory(y,P=!1){var L,Z;if("computed"===this.canceledNavigationResolution){const he=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(L=this.currentNavigation)||void 0===L?void 0:L.finalUrl)||0===he?this.currentUrlTree===(null===(Z=this.currentNavigation)||void 0===Z?void 0:Z.finalUrl)&&0===he&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(he)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,P){const L=new gt(y.id,this.serializeUrl(y.extractedUrl),P);this.triggerEvent(L),y.resolve(!1)}generateNgRouterState(y,P){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:P}:{navigationId:y}}}return I.\u0275fac=function(y){u.$Z()},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac}),I})();function zi(I){return"imperative"!==I}let Ks=(()=>{class I{constructor(y,P,L,Z,he){this.router=y,this.route=P,this.tabIndexAttribute=L,this.renderer=Z,this.el=he,this.commands=null,this.onChanges=new Ne.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const P=this.renderer,L=this.el.nativeElement;null!==y?P.setAttribute(L,"tabindex",y):P.removeAttribute(L,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const y={skipLocationChange:ei(this.skipLocationChange),replaceUrl:ei(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ei(this.preserveFragment)})}}return I.\u0275fac=function(y){return new(y||I)(u.Y36(Nr),u.Y36(ri),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},I.\u0275dir=u.lG2({type:I,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,P){1&y&&u.NdJ("click",function(){return P.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),I})(),is=(()=>{class I{constructor(y,P,L){this.router=y,this.route=P,this.locationStrategy=L,this.commands=null,this.href=null,this.onChanges=new Ne.x,this.subscription=y.events.subscribe(Z=>{Z instanceof In&&this.updateTargetUrlAndHref()})}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,P,L,Z,he){if(0!==y||P||L||Z||he||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Ae={skipLocationChange:ei(this.skipLocationChange),replaceUrl:ei(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ae),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ei(this.preserveFragment)})}}return I.\u0275fac=function(y){return new(y||I)(u.Y36(Nr),u.Y36(ri),u.Y36(Ut.S$))},I.\u0275dir=u.lG2({type:I,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,P){1&y&&u.NdJ("click",function(Z){return P.onClick(Z.button,Z.ctrlKey,Z.shiftKey,Z.altKey,Z.metaKey)}),2&y&&u.uIk("target",P.target)("href",P.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),I})();function ei(I){return""===I||!!I}let Ki=(()=>{class I{constructor(y,P,L,Z,he,Ae){this.router=y,this.element=P,this.renderer=L,this.cdr=Z,this.link=he,this.linkWithHref=Ae,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=y.events.subscribe(_t=>{_t instanceof In&&this.update()})}ngAfterContentInit(){(0,ee.of)(this.links.changes,this.linksWithHrefs.changes,(0,ee.of)(null)).pipe((0,Qn.J)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var y;null===(y=this.linkInputChangesSubscription)||void 0===y||y.unsubscribe();const P=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=(0,le.D)(P).pipe((0,Qn.J)()).subscribe(L=>{this.isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(y){const P=Array.isArray(y)?y:y.split(" ");this.classes=P.filter(L=>!!L)}ngOnChanges(y){this.update()}ngOnDestroy(){var y;this.routerEventsSubscription.unsubscribe(),null===(y=this.linkInputChangesSubscription)||void 0===y||y.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const y=this.hasActiveLinks();this.isActive!==y&&(this.isActive=y,this.cdr.markForCheck(),this.classes.forEach(P=>{y?this.renderer.addClass(this.element.nativeElement,P):this.renderer.removeClass(this.element.nativeElement,P)}),this.isActiveChange.emit(y))})}isLinkActive(y){const P=function gs(I){return!!I.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>!!L.urlTree&&y.isActive(L.urlTree,P)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.linkWithHref&&y(this.linkWithHref)||this.links.some(y)||this.linksWithHrefs.some(y)}}return I.\u0275fac=function(y){return new(y||I)(u.Y36(Nr),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Ks,8),u.Y36(is,8))},I.\u0275dir=u.lG2({type:I,selectors:[["","routerLinkActive",""]],contentQueries:function(y,P,L){if(1&y&&(u.Suo(L,Ks,5),u.Suo(L,is,5)),2&y){let Z;u.iGM(Z=u.CRH())&&(P.links=Z),u.iGM(Z=u.CRH())&&(P.linksWithHrefs=Z)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[u.TTD]}),I})();class zt{}class Vn{preload(E,y){return(0,ee.of)(null)}}let Wn=(()=>{class I{constructor(y,P,L,Z){this.router=y,this.injector=L,this.preloadingStrategy=Z,this.loader=new Tr(L,P,_t=>y.triggerEvent(new zn(_t)),_t=>y.triggerEvent(new _n(_t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ve.h)(y=>y instanceof In),(0,Ze.b)(()=>this.preload())).subscribe(()=>{})}preload(){const y=this.injector.get(u.h0i);return this.processRoutes(y,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,P){const L=[];for(const Z of P)if(Z.loadChildren&&!Z.canLoad&&Z._loadedConfig){const he=Z._loadedConfig;L.push(this.processRoutes(he.module,he.routes))}else Z.loadChildren&&!Z.canLoad?L.push(this.preloadConfig(y,Z)):Z.children&&L.push(this.processRoutes(y,Z.children));return(0,le.D)(L).pipe((0,Qn.J)(),(0,ct.U)(Z=>{}))}preloadConfig(y,P){return this.preloadingStrategy.preload(P,()=>(P._loadedConfig?(0,ee.of)(P._loadedConfig):this.loader.load(y.injector,P)).pipe((0,He.z)(Z=>(P._loadedConfig=Z,this.processRoutes(Z.module,Z.routes)))))}}return I.\u0275fac=function(y){return new(y||I)(u.LFG(Nr),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(zt))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac}),I})(),zr=(()=>{class I{constructor(y,P,L={}){this.router=y,this.viewportScroller=P,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Pn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof In&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof qt&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,P){this.router.triggerEvent(new qt(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(y){u.$Z()},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac}),I})();const ti=new u.OlP("ROUTER_CONFIGURATION"),yi=new u.OlP("ROUTER_FORROOT_GUARD"),Kr=[Ut.Ye,{provide:je,useClass:xt},{provide:Nr,useFactory:function Ns(I,E,y,P,L,Z,he={},Ae,_t){const dn=new Nr(null,I,E,y,P,L,bt(Z));return Ae&&(dn.urlHandlingStrategy=Ae),_t&&(dn.routeReuseStrategy=_t),function ao(I,E){I.errorHandler&&(E.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(E.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(E.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(E.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(E.urlUpdateStrategy=I.urlUpdateStrategy),I.canceledNavigationResolution&&(E.canceledNavigationResolution=I.canceledNavigationResolution)}(he,dn),he.enableTracing&&dn.events.subscribe(mr=>{var vn,Ur;null===(vn=console.group)||void 0===vn||vn.call(console,`Router Event: ${mr.constructor.name}`),console.log(mr.toString()),console.log(mr),null===(Ur=console.groupEnd)||void 0===Ur||Ur.call(console)}),dn},deps:[je,ji,Ut.Ye,u.zs3,u.Sil,Ln,ti,[class Gr{},new u.FiY],[class On{},new u.FiY]]},ji,{provide:ri,useFactory:function lo(I){return I.routerState.root},deps:[Nr]},Wn,Vn,class Sn{preload(E,y){return y().pipe((0,Fe.K)(()=>(0,ee.of)(null)))}},{provide:ti,useValue:{enableTracing:!1}}];function oo(){return new u.PXZ("Router",Nr)}let Hs=(()=>{class I{constructor(y,P){}static forRoot(y,P){return{ngModule:I,providers:[Kr,Zr(y),{provide:yi,useFactory:Er,deps:[[Nr,new u.FiY,new u.tp0]]},{provide:ti,useValue:P||{}},{provide:Ut.S$,useFactory:pi,deps:[Ut.lw,[new u.tBr(Ut.mr),new u.FiY],ti]},{provide:zr,useFactory:Wi,deps:[Nr,Ut.EM,ti]},{provide:zt,useExisting:P&&P.preloadingStrategy?P.preloadingStrategy:Vn},{provide:u.PXZ,multi:!0,useFactory:oo},[_o,{provide:u.ip1,multi:!0,useFactory:xr,deps:[_o]},{provide:Ui,useFactory:Ca,deps:[_o]},{provide:u.tb,multi:!0,useExisting:Ui}]]}}static forChild(y){return{ngModule:I,providers:[Zr(y)]}}}return I.\u0275fac=function(y){return new(y||I)(u.LFG(yi,8),u.LFG(Nr,8))},I.\u0275mod=u.oAB({type:I}),I.\u0275inj=u.cJS({}),I})();function Wi(I,E,y){return y.scrollOffset&&E.setOffset(y.scrollOffset),new zr(I,E,y)}function pi(I,E,y={}){return y.useHash?new Ut.Do(I,E):new Ut.b0(I,E)}function Er(I){return"guarded"}function Zr(I){return[{provide:u.deG,multi:!0,useValue:I},{provide:Ln,multi:!0,useValue:I}]}let _o=(()=>{class I{constructor(y){this.injector=y,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ne.x}appInitializer(){return this.injector.get(Ut.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let P=null;const L=new Promise(Ae=>P=Ae),Z=this.injector.get(Nr),he=this.injector.get(ti);return"disabled"===he.initialNavigation?(Z.setUpLocationChangeListener(),P(!0)):"enabled"===he.initialNavigation||"enabledBlocking"===he.initialNavigation?(Z.hooks.afterPreactivation=()=>this.initNavigation?(0,ee.of)(null):(this.initNavigation=!0,P(!0),this.resultOfPreactivationDone),Z.initialNavigation()):P(!0),L})}bootstrapListener(y){const P=this.injector.get(ti),L=this.injector.get(Wn),Z=this.injector.get(zr),he=this.injector.get(Nr),Ae=this.injector.get(u.z2F);y===Ae.components[0]&&(("enabledNonBlocking"===P.initialNavigation||void 0===P.initialNavigation)&&he.initialNavigation(),L.setUpPreloading(),Z.init(),he.resetRootComponentType(Ae.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return I.\u0275fac=function(y){return new(y||I)(u.LFG(u.zs3))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac}),I})();function xr(I){return I.appInitializer.bind(I)}function Ca(I){return I.bootstrapListener.bind(I)}const Ui=new u.OlP("Router Initializer")},3942:(Ie,re,D)=>{D.d(re,{Z:()=>Qe});var u=D(2090),B=D(4859),j=D(9681),te=D(1877);class Q{constructor(Ne,Ve){this._delegate=Ne,this.firebase=Ve,(0,j._addComponent)(Ne,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=Ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this._delegate.automaticDataCollectionEnabled=Ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ne=>{this._delegate.checkDestroyed(),Ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Ne,Ve=j._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const Tt=this._delegate.container.getProvider(Ne);return!Tt.isInitialized()&&"EXPLICIT"===(null===(vt=Tt.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&Tt.initialize(),Tt.getImmediate({identifier:Ve})}_removeServiceInstance(Ne,Ve=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ne).clearInstance(Ve)}_addComponent(Ne){(0,j._addComponent)(this._delegate,Ne)}_addOrOverwriteComponent(Ne){(0,j._addOrOverwriteComponent)(this._delegate,Ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function ee(){const nt=function le(nt){const Ne={},Ve={__esModule:!0,initializeApp:function ke(At,xe={}){const ve=j.initializeApp(At,xe);if((0,u.r3)(Ne,ve.name))return Ne[ve.name];const ze=new nt(ve,Ve);return Ne[ve.name]=ze,ze},app:Tt,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function Ke(At){const xe=At.name,ve=xe.replace("-compat","");if(j._registerComponent(At)&&"PUBLIC"===At.type){const ze=(Fe=Tt())=>{if("function"!=typeof Fe[ve])throw ue.create("invalid-app-argument",{appName:xe});return Fe[ve]()};void 0!==At.serviceProps&&(0,u.ZB)(ze,At.serviceProps),Ve[ve]=ze,nt.prototype[ve]=function(...Fe){return this._getService.bind(this,xe).apply(this,At.multipleInstances?Fe:[])}}return"PUBLIC"===At.type?Ve[ve]:null},removeApp:function vt(At){delete Ne[At]},useAsService:function ct(At,xe){return"serverAuth"===xe?null:xe},modularAPIs:j}};function Tt(At){if(!(0,u.r3)(Ne,At=At||j._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:At});return Ne[At]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function F(){return Object.keys(Ne).map(At=>Ne[At])}}),Tt.App=nt,Ve}(Q);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:ee,extendNamespace:function Ne(Ve){(0,u.ZB)(nt,Ve)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),nt}(),ie=new te.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=X;!function Ye(nt){(0,j.registerVersion)("@firebase/app-compat","0.1.23",nt)}()},9681:(Ie,re,D)=>{D.r(re),D.d(re,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>_n,_DEFAULT_ENTRY_NAME:()=>Qn,_addComponent:()=>In,_addOrOverwriteComponent:()=>gt,_apps:()=>Bt,_clearComponents:()=>Et,_components:()=>Pn,_getProvider:()=>Ue,_registerComponent:()=>ht,_removeServiceInstance:()=>We,deleteApp:()=>sr,getApp:()=>Hn,getApps:()=>$n,initializeApp:()=>fn,onLog:()=>Rn,registerVersion:()=>sn,setLogLevel:()=>rr});var u=D(5861),B=D(4859),j=D(1877),te=D(2090);class Q{constructor(ft){this.container=ft}getPlatformInfoString(){return this.container.getProviders().map(Zt=>{if(function ce(Wt){const ft=Wt.getComponent();return"VERSION"===(null==ft?void 0:ft.type)}(Zt)){const on=Zt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Zt=>Zt).join(" ")}}const ue="@firebase/app",ee=new j.Yd("@firebase/app"),Qn="[DEFAULT]",Ut={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bt=new Map,Pn=new Map;function In(Wt,ft){try{Wt.container.addComponent(ft)}catch(Zt){ee.debug(`Component ${ft.name} failed to register with FirebaseApp ${Wt.name}`,Zt)}}function gt(Wt,ft){Wt.container.addOrOverwriteComponent(ft)}function ht(Wt){const ft=Wt.name;if(Pn.has(ft))return ee.debug(`There were multiple attempts to register component ${ft}.`),!1;Pn.set(ft,Wt);for(const Zt of Bt.values())In(Zt,Wt);return!0}function Ue(Wt,ft){const Zt=Wt.container.getProvider("heartbeat").getImmediate({optional:!0});return Zt&&Zt.triggerHeartbeat(),Wt.container.getProvider(ft)}function We(Wt,ft,Zt=Qn){Ue(Wt,ft).clearInstance(Zt)}function Et(){Pn.clear()}const Nn=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class zn{constructor(ft,Zt,on){this._isDeleted=!1,this._options=Object.assign({},ft),this._config=Object.assign({},Zt),this._name=Zt.name,this._automaticDataCollectionEnabled=Zt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ft){this.checkDestroyed(),this._automaticDataCollectionEnabled=ft}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ft){this._isDeleted=ft}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}const _n="9.7.0";function fn(Wt,ft={}){"object"!=typeof ft&&(ft={name:ft});const Zt=Object.assign({name:Qn,automaticDataCollectionEnabled:!1},ft),on=Zt.name;if("string"!=typeof on||!on)throw Nn.create("bad-app-name",{appName:String(on)});const mn=Bt.get(on);if(mn){if((0,te.vZ)(Wt,mn.options)&&(0,te.vZ)(Zt,mn.config))return mn;throw Nn.create("duplicate-app",{appName:on})}const Kt=new B.H0(on);for(const de of Pn.values())Kt.addComponent(de);const _e=new zn(Wt,Zt,Kt);return Bt.set(on,_e),_e}function Hn(Wt=Qn){const ft=Bt.get(Wt);if(!ft)throw Nn.create("no-app",{appName:Wt});return ft}function $n(){return Array.from(Bt.values())}function sr(Wt){return qt.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(Wt){const ft=Wt.name;Bt.has(ft)&&(Bt.delete(ft),yield Promise.all(Wt.container.getProviders().map(Zt=>Zt.delete())),Wt.isDeleted=!0)})).apply(this,arguments)}function sn(Wt,ft,Zt){var on;let mn=null!==(on=Ut[Wt])&&void 0!==on?on:Wt;Zt&&(mn+=`-${Zt}`);const Kt=mn.match(/\s|\//),_e=ft.match(/\s|\//);if(Kt||_e){const de=[`Unable to register library "${mn}" with version "${ft}":`];return Kt&&de.push(`library name "${mn}" contains illegal characters (whitespace or "/")`),Kt&&_e&&de.push("and"),_e&&de.push(`version name "${ft}" contains illegal characters (whitespace or "/")`),void ee.warn(de.join(" "))}ht(new B.wA(`${mn}-version`,()=>({library:mn,version:ft}),"VERSION"))}function Rn(Wt,ft){if(null!==Wt&&"function"!=typeof Wt)throw Nn.create("invalid-log-argument");(0,j.Am)(Wt,ft)}function rr(Wt){(0,j.Ub)(Wt)}const dt="firebase-heartbeat-store";let be=null;function Pe(){return be||(be=(0,te.X3)("firebase-heartbeat-database",1,(Wt,ft)=>{0===ft&&Wt.createObjectStore(dt)}).catch(Wt=>{throw Nn.create("storage-open",{originalErrorMessage:Wt.message})})),be}function at(){return(at=(0,u.Z)(function*(Wt){try{return(yield Pe()).transaction(dt).objectStore(dt).get(xn(Wt))}catch(ft){throw Nn.create("storage-get",{originalErrorMessage:ft.message})}})).apply(this,arguments)}function bt(Wt,ft){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(Wt,ft){try{const on=(yield Pe()).transaction(dt,"readwrite");return yield on.objectStore(dt).put(ft,xn(Wt)),on.complete}catch(Zt){throw Nn.create("storage-set",{originalErrorMessage:Zt.message})}})).apply(this,arguments)}function xn(Wt){return`${Wt.name}!${Wt.options.appId}`}class Dr{constructor(ft){this.container=ft,this._heartbeatsCache=null;const Zt=this.container.getProvider("app").getImmediate();this._storage=new Rt(Zt),this._heartbeatsCachePromise=this._storage.read().then(on=>(this._heartbeatsCache=on,on))}triggerHeartbeat(){var ft=this;return(0,u.Z)(function*(){const on=ft.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mn=cr();if(null===ft._heartbeatsCache&&(ft._heartbeatsCache=yield ft._heartbeatsCachePromise),ft._heartbeatsCache.lastSentHeartbeatDate!==mn&&!ft._heartbeatsCache.heartbeats.some(Kt=>Kt.date===mn))return ft._heartbeatsCache.heartbeats.push({date:mn,agent:on}),ft._heartbeatsCache.heartbeats=ft._heartbeatsCache.heartbeats.filter(Kt=>{const _e=new Date(Kt.date).valueOf();return Date.now()-_e<=2592e6}),ft._storage.overwrite(ft._heartbeatsCache)})()}getHeartbeatsHeader(){var ft=this;return(0,u.Z)(function*(){if(null===ft._heartbeatsCache&&(yield ft._heartbeatsCachePromise),null===ft._heartbeatsCache||0===ft._heartbeatsCache.heartbeats.length)return"";const Zt=cr(),{heartbeatsToSend:on,unsentEntries:mn}=function Jn(Wt,ft=1024){const Zt=[];let on=Wt.slice();for(const mn of Wt){const Kt=Zt.find(_e=>_e.agent===mn.agent);if(Kt){if(Kt.dates.push(mn.date),kn(Zt)>ft){Kt.dates.pop();break}}else if(Zt.push({agent:mn.agent,dates:[mn.date]}),kn(Zt)>ft){Zt.pop();break}on=on.slice(1)}return{heartbeatsToSend:Zt,unsentEntries:on}}(ft._heartbeatsCache.heartbeats),Kt=(0,te.L)(JSON.stringify({version:2,heartbeats:on}));return ft._heartbeatsCache.lastSentHeartbeatDate=Zt,mn.length>0?(ft._heartbeatsCache.heartbeats=mn,yield ft._storage.overwrite(ft._heartbeatsCache)):(ft._heartbeatsCache.heartbeats=[],ft._storage.overwrite(ft._heartbeatsCache)),Kt})()}}function cr(){return(new Date).toISOString().substring(0,10)}class Rt{constructor(ft){this.app=ft,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ft=this;return(0,u.Z)(function*(){return(yield ft._canUseIndexedDBPromise)&&(yield function It(Wt){return at.apply(this,arguments)}(ft.app))||{heartbeats:[]}})()}overwrite(ft){var Zt=this;return(0,u.Z)(function*(){var on;if(yield Zt._canUseIndexedDBPromise){const Kt=yield Zt.read();return bt(Zt.app,{lastSentHeartbeatDate:null!==(on=ft.lastSentHeartbeatDate)&&void 0!==on?on:Kt.lastSentHeartbeatDate,heartbeats:ft.heartbeats})}})()}add(ft){var Zt=this;return(0,u.Z)(function*(){var on;if(yield Zt._canUseIndexedDBPromise){const Kt=yield Zt.read();return bt(Zt.app,{lastSentHeartbeatDate:null!==(on=ft.lastSentHeartbeatDate)&&void 0!==on?on:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...ft.heartbeats]})}})()}}function kn(Wt){return(0,te.L)(JSON.stringify({version:2,heartbeats:Wt})).length}!function yn(Wt){ht(new B.wA("platform-logger",ft=>new Q(ft),"PRIVATE")),ht(new B.wA("heartbeat",ft=>new Dr(ft),"PRIVATE")),sn(ue,"0.7.22",Wt),sn(ue,"0.7.22","esm2017"),sn("fire-js","")}("")},4859:(Ie,re,D)=>{D.d(re,{wA:()=>j,H0:()=>le,zt:()=>Q});var u=D(5861),B=D(2090);class j{constructor(X,ie,fe){this.name=X,this.instanceFactory=ie,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const te="[DEFAULT]";class Q{constructor(X,ie){this.name=X,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const ie=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(ie)){const fe=new B.BH;if(this.instancesDeferred.set(ie,fe),this.isInitialized(ie)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:ie});et&&fe.resolve(et)}catch(et){}}return this.instancesDeferred.get(ie).promise}getImmediate(X){var ie;const fe=this.normalizeInstanceIdentifier(null==X?void 0:X.identifier),et=null!==(ie=null==X?void 0:X.optional)&&void 0!==ie&&ie;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(Ye){if(et)return null;throw Ye}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function ue(ee){return"EAGER"===ee.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:te})}catch(ie){}for(const[ie,fe]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(ie);try{const Ye=this.getOrInitializeService({instanceIdentifier:et});fe.resolve(Ye)}catch(Ye){}}}}clearInstance(X=te){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,u.Z)(function*(){const ie=Array.from(X.instances.values());yield Promise.all([...ie.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...ie.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=te){return this.instances.has(X)}getOptions(X=te){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:ie={}}=X,fe=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:fe,options:ie});for(const[Ye,Qe]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(Ye)&&Qe.resolve(et);return et}onInit(X,ie){var fe;const et=this.normalizeInstanceIdentifier(ie),Ye=null!==(fe=this.onInitCallbacks.get(et))&&void 0!==fe?fe:new Set;Ye.add(X),this.onInitCallbacks.set(et,Ye);const Qe=this.instances.get(et);return Qe&&X(Qe,et),()=>{Ye.delete(X)}}invokeOnInitCallbacks(X,ie){const fe=this.onInitCallbacks.get(ie);if(fe)for(const et of fe)try{et(X,ie)}catch(Ye){}}getOrInitializeService({instanceIdentifier:X,options:ie={}}){let fe=this.instances.get(X);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(ee=X,ee===te?void 0:ee),options:ie}),this.instances.set(X,fe),this.instancesOptions.set(X,ie),this.invokeOnInitCallbacks(fe,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,fe)}catch(et){}var ee;return fe||null}normalizeInstanceIdentifier(X=te){return this.component?this.component.multipleInstances?X:te:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const ie=this.getProvider(X.name);if(ie.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);ie.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const ie=new Q(X,this);return this.providers.set(X,ie),ie}getProviders(){return Array.from(this.providers.values())}}},1877:(Ie,re,D)=>{D.d(re,{in:()=>B,Yd:()=>ue,Ub:()=>le,Am:()=>ee});const u=[];var B=(()=>{return(X=B||(B={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",B;var X})();const j={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},te=B.INFO,Q={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ce=(X,ie,...fe)=>{if(ie<X.logLevel)return;const et=(new Date).toISOString(),Ye=Q[ie];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[Ye](`[${et}]  ${X.name}:`,...fe)};class ue{constructor(ie){this.name=ie,this._logLevel=te,this._logHandler=ce,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in B))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?j[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...ie),this._logHandler(this,B.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...ie),this._logHandler(this,B.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,B.INFO,...ie),this._logHandler(this,B.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,B.WARN,...ie),this._logHandler(this,B.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...ie),this._logHandler(this,B.ERROR,...ie)}}function le(X){u.forEach(ie=>{ie.setLogLevel(X)})}function ee(X,ie){for(const fe of u){let et=null;ie&&ie.level&&(et=j[ie.level]),fe.userLogHandler=null===X?null:(Ye,Qe,...nt)=>{const Ne=nt.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch(vt){return null}}).filter(Ve=>Ve).join(" ");Qe>=(null!=et?et:Ye.logLevel)&&X({level:B[Qe].toLowerCase(),message:Ne,args:nt,type:Ye.name})}}}},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5620),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8306),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Ie){const re={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},D="function"==typeof Ie?Ie():Ie,j=Object.assign({},re,{features:D.features||!!D.logOnly&&{pause:!0,export:!0,test:!0}||re.features},D);if(j.maxAge&&j.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${j.maxAge}`);return j}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(re,D){if(this.action=re,this.timestamp=D,this.type=PERFORM_ACTION,void 0===re.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(re){this.timestamp=re,this.type=RESET}}class Rollback{constructor(re){this.timestamp=re,this.type=ROLLBACK}}class Commit{constructor(re){this.timestamp=re,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(re){this.id=re,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(re,D,u=!0){this.start=re,this.end=D,this.active=u,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(re){this.index=re,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(re){this.actionId=re,this.type=JUMP_TO_ACTION}}class ImportState{constructor(re){this.nextLiftedState=re,this.type=IMPORT_STATE}}class LockChanges{constructor(re){this.status=re,this.type=LOCK_CHANGES}}class PauseRecording{constructor(re){this.status=re,this.type=PAUSE_RECORDING}}function difference(Ie,re){return Ie.filter(D=>re.indexOf(D)<0)}function unliftState(Ie){const{computedStates:re,currentStateIndex:D}=Ie;if(D>=re.length){const{state:B}=re[re.length-1];return B}const{state:u}=re[D];return u}function unliftAction(Ie){return Ie.actionsById[Ie.nextActionId-1]}function liftAction(Ie){return new PerformAction(Ie,+Date.now())}function sanitizeActions(Ie,re){return Object.keys(re).reduce((D,u)=>{const B=Number(u);return D[B]=sanitizeAction(Ie,re[B],B),D},{})}function sanitizeAction(Ie,re,D){return Object.assign(Object.assign({},re),{action:Ie(re.action,D)})}function sanitizeStates(Ie,re){return re.map((D,u)=>({state:sanitizeState(Ie,D.state,u),error:D.error}))}function sanitizeState(Ie,re,D){return Ie(re,D)}function shouldFilterActions(Ie){return Ie.predicate||Ie.actionsSafelist||Ie.actionsBlocklist}function filterLiftedState(Ie,re,D,u){const B=[],j={},te=[];return Ie.stagedActionIds.forEach((Q,ce)=>{const ue=Ie.actionsById[Q];!ue||ce&&isActionFiltered(Ie.computedStates[ce],ue,re,D,u)||(j[Q]=ue,B.push(Q),te.push(Ie.computedStates[ce]))}),Object.assign(Object.assign({},Ie),{stagedActionIds:B,actionsById:j,computedStates:te})}function isActionFiltered(Ie,re,D,u,B){const j=D&&!D(Ie,re.action),te=u&&!re.action.type.match(u.map(ce=>escapeRegExp(ce)).join("|")),Q=B&&re.action.type.match(B.map(ce=>escapeRegExp(ce)).join("|"));return j||te||Q}function escapeRegExp(Ie){return Ie.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Ie,re,D,u,B){if(u)return{state:D,error:"Interrupted by an error up the chain"};let te,j=D;try{j=Ie(D,re)}catch(Q){te=Q.toString(),B.handleError(Q)}return{state:j,error:te}}function recomputeStates(Ie,re,D,u,B,j,te,Q,ce){if(re>=Ie.length&&Ie.length===j.length)return Ie;const ue=Ie.slice(0,re),le=j.length-(ce?1:0);for(let ee=re;ee<le;ee++){const X=j[ee],ie=B[X].action,fe=ue[ee-1],et=fe?fe.state:u,Ye=fe?fe.error:void 0,nt=te.indexOf(X)>-1?fe:computeNextEntry(D,ie,et,Ye,Q);ue.push(nt)}return ce&&ue.push(Ie[Ie.length-1]),ue}function liftInitialState(Ie,re){return{monitorState:re(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Ie,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Ie,re,D,u,B={}){return j=>(te,Q)=>{let{monitorState:ce,actionsById:ue,nextActionId:le,stagedActionIds:ee,skippedActionIds:X,committedState:ie,currentStateIndex:fe,computedStates:et,isLocked:Ye,isPaused:Qe}=te||re;function nt(vt){let Tt=vt,ke=ee.slice(1,Tt+1);for(let F=0;F<ke.length;F++){if(et[F+1].error){Tt=F,ke=ee.slice(1,Tt+1);break}delete ue[ke[F]]}X=X.filter(F=>-1===ke.indexOf(F)),ee=[0,...ee.slice(Tt+1)],ie=et[Tt].state,et=et.slice(Tt),fe=fe>Tt?fe-Tt:0}function Ne(){ue={0:liftAction(INIT_ACTION)},le=1,ee=[0],X=[],ie=et[fe].state,fe=0,et=[]}te||(ue=Object.create(ue));let Ve=0;switch(Q.type){case LOCK_CHANGES:Ye=Q.status,Ve=1/0;break;case PAUSE_RECORDING:Qe=Q.status,Qe?(ee=[...ee,le],ue[le]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),le++,Ve=ee.length-1,et=et.concat(et[et.length-1]),fe===ee.length-2&&fe++,Ve=1/0):Ne();break;case RESET:ue={0:liftAction(INIT_ACTION)},le=1,ee=[0],X=[],ie=Ie,fe=0,et=[];break;case COMMIT:Ne();break;case ROLLBACK:ue={0:liftAction(INIT_ACTION)},le=1,ee=[0],X=[],fe=0,et=[];break;case TOGGLE_ACTION:{const{id:vt}=Q;X=-1===X.indexOf(vt)?[vt,...X]:X.filter(ke=>ke!==vt),Ve=ee.indexOf(vt);break}case SET_ACTIONS_ACTIVE:{const{start:vt,end:Tt,active:ke}=Q,F=[];for(let Ke=vt;Ke<Tt;Ke++)F.push(Ke);X=ke?difference(X,F):[...X,...F],Ve=ee.indexOf(vt);break}case JUMP_TO_STATE:fe=Q.index,Ve=1/0;break;case JUMP_TO_ACTION:{const vt=ee.indexOf(Q.actionId);-1!==vt&&(fe=vt),Ve=1/0;break}case SWEEP:ee=difference(ee,X),X=[],fe=Math.min(fe,ee.length-1);break;case PERFORM_ACTION:{if(Ye)return te||re;if(Qe||te&&isActionFiltered(te.computedStates[fe],Q,B.predicate,B.actionsSafelist,B.actionsBlocklist)){const Tt=et[et.length-1];et=[...et.slice(0,-1),computeNextEntry(j,Q.action,Tt.state,Tt.error,D)],Ve=1/0;break}B.maxAge&&ee.length===B.maxAge&&nt(1),fe===ee.length-1&&fe++;const vt=le++;ue[vt]=Q,ee=[...ee,vt],Ve=ee.length-1;break}case IMPORT_STATE:({monitorState:ce,actionsById:ue,nextActionId:le,stagedActionIds:ee,skippedActionIds:X,committedState:ie,currentStateIndex:fe,computedStates:et,isLocked:Ye,isPaused:Qe}=Q.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Ve=0,B.maxAge&&ee.length>B.maxAge&&(et=recomputeStates(et,Ve,j,ie,ue,ee,X,D,Qe),nt(ee.length-B.maxAge),Ve=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(et.filter(Tt=>Tt.error).length>0)Ve=0,B.maxAge&&ee.length>B.maxAge&&(et=recomputeStates(et,Ve,j,ie,ue,ee,X,D,Qe),nt(ee.length-B.maxAge),Ve=1/0);else{if(!Qe&&!Ye){fe===ee.length-1&&fe++;const Tt=le++;ue[Tt]=new PerformAction(Q,+Date.now()),ee=[...ee,Tt],Ve=ee.length-1,et=recomputeStates(et,Ve,j,ie,ue,ee,X,D,Qe)}et=et.map(Tt=>Object.assign(Object.assign({},Tt),{state:j(Tt.state,RECOMPUTE_ACTION)})),fe=ee.length-1,B.maxAge&&ee.length>B.maxAge&&nt(ee.length-B.maxAge),Ve=1/0}break;default:Ve=1/0}return et=recomputeStates(et,Ve,j,ie,ue,ee,X,D,Qe),ce=u(ce,Q),{monitorState:ce,actionsById:ue,nextActionId:le,stagedActionIds:ee,skippedActionIds:X,committedState:ie,currentStateIndex:fe,computedStates:et,isLocked:Ye,isPaused:Qe}}}let DevtoolsDispatcher=(()=>{class Ie extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Ie.\u0275fac=function(){let re;return function(u){return(re||(re=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Ie)))(u||Ie)}}(),Ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Ie,re,D){this.config=re,this.dispatcher=D,this.devtoolsExtension=Ie,this.createActionStreams()}notify(Ie,re){if(this.devtoolsExtension)if(Ie.type===PERFORM_ACTION){if(re.isLocked||re.isPaused)return;const D=unliftState(re);if(shouldFilterActions(this.config)&&isActionFiltered(D,Ie,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const u=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,D,re.currentStateIndex):D,B=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Ie,re.nextActionId):Ie;this.sendToReduxDevtools(()=>this.extensionConnection.send(B,u))}else{const D=Object.assign(Object.assign({},re),{stagedActionIds:re.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,re.actionsById):re.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,re.computedStates):re.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,D,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Ie=>{const re=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=re,re.init(),re.subscribe(D=>Ie.next(D)),re.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Ie=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),re=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Q=>Q.type===ExtensionActionTypes.START)),D=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Q=>Q.type===ExtensionActionTypes.STOP)),u=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Q=>Q.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Q=>this.unwrapAction(Q.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(Q=>Q.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ce=>ce.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>Q),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Q)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Q))),j=Ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Q=>Q.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Q=>this.unwrapAction(Q.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),te=u.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D));this.start$=re.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>j)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>te))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Ie){var re;const D={name:Ie.name,features:Ie.features,serialize:Ie.serialize,autoPause:null!==(re=Ie.autoPause)&&void 0!==re&&re};return!1!==Ie.maxAge&&(D.maxAge=Ie.maxAge),D}sendToReduxDevtools(Ie){try{Ie()}catch(re){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",re)}}}return DevtoolsExtension.\u0275fac=function Ie(re){return new(re||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class Ie{constructor(D,u,B,j,te,Q,ce,ue){const le=liftInitialState(ce,ue.monitor),ee=liftReducerWith(ce,le,Q,ue.monitor,ue),X=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(u.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),j.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),D,j.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),ie=B.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ee)),fe=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),et=X.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(ie),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Ne},[Ve,vt])=>{let Tt=vt(Ne,Ve);return Ve.type!==PERFORM_ACTION&&shouldFilterActions(ue)&&(Tt=filterLiftedState(Tt,ue.predicate,ue.actionsSafelist,ue.actionsBlocklist)),j.notify(Ve,Tt),{state:Tt,action:Ve}},{state:le,action:null})).subscribe(({state:Ne,action:Ve})=>{fe.next(Ne),Ve.type===PERFORM_ACTION&&te.next(Ve.action)}),Ye=j.start$.subscribe(()=>{this.refresh()}),Qe=fe.asObservable(),nt=Qe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Ye,this.stateSubscription=et,this.dispatcher=D,this.liftedState=Qe,this.state=nt}dispatch(D){this.dispatcher.next(D)}next(D){this.dispatcher.next(D)}error(D){}complete(){}performAction(D){this.dispatch(new PerformAction(D,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(D){this.dispatch(new ToggleAction(D))}jumpToAction(D){this.dispatch(new JumpToAction(D))}jumpToState(D){this.dispatch(new JumpToState(D))}importState(D){this.dispatch(new ImportState(D))}lockChanges(D){this.dispatch(new LockChanges(D))}pauseRecording(D){this.dispatch(new PauseRecording(D))}}return Ie.\u0275fac=function(D){return new(D||Ie)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Ie,re){return Boolean(Ie)||re.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Ie="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[Ie]?window[Ie]:null}function createStateObservable(Ie){return Ie.state}let StoreDevtoolsModule=(()=>{class Ie{static instrument(D={}){return{ngModule:Ie,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:D},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return Ie.\u0275fac=function(D){return new(D||Ie)},Ie.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Ie}),Ie.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Ie})()},5620:(Ie,re,D)=>{D.d(re,{UO:()=>vt,qg:()=>Ve,Y6:()=>Ke,mK:()=>_n,n$:()=>zn,Y$:()=>sr,FR:()=>sn,yh:()=>jr,Aw:()=>hi,wb:()=>fn,PH:()=>Ye,Lq:()=>ri,on:()=>Ei,Ky:()=>Qe});var u=D(5e3),B=D(1135),j=D(8306),te=D(7579),Q=D(233),ce=D(4004),le=D(5363),ee=D(1365),X=D(5026),ie=D(1884);const fe={};function Ye(ge,pt){if(fe[ge]=(fe[ge]||0)+1,"function"==typeof pt)return Ne(ge,(...tt)=>Object.assign(Object.assign({},pt(...tt)),{type:ge}));switch(pt?pt._as:"empty"){case"empty":return Ne(ge,()=>({type:ge}));case"props":return Ne(ge,tt=>Object.assign(Object.assign({},tt),{type:ge}));default:throw new Error("Unexpected config.")}}function Qe(){return{_as:"props",_p:void 0}}function Ne(ge,pt){return Object.defineProperty(pt,"type",{value:ge,writable:!1})}const Ve="@ngrx/store/init";let vt=(()=>{class ge extends B.X{constructor(){super({type:Ve})}next(Ge){if("function"==typeof Ge)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===Ge)throw new TypeError("Actions must be objects");if(void 0===Ge.type)throw new TypeError("Actions must have a type property");super.next(Ge)}complete(){}ngOnDestroy(){super.complete()}}return ge.\u0275fac=function(Ge){return new(Ge||ge)},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Tt=[vt],ke=new u.OlP("@ngrx/store Internal Root Guard"),F=new u.OlP("@ngrx/store Internal Initial State"),Ke=new u.OlP("@ngrx/store Initial State"),ct=new u.OlP("@ngrx/store Reducer Factory"),At=new u.OlP("@ngrx/store Internal Reducer Factory Provider"),xe=new u.OlP("@ngrx/store Initial Reducers"),ve=new u.OlP("@ngrx/store Internal Initial Reducers"),ze=new u.OlP("@ngrx/store Store Features"),Fe=new u.OlP("@ngrx/store Internal Store Reducers"),Ze=new u.OlP("@ngrx/store Internal Feature Reducers"),it=new u.OlP("@ngrx/store Internal Feature Configs"),He=new u.OlP("@ngrx/store Internal Store Features"),$t=new u.OlP("@ngrx/store Internal Feature Reducers Token"),Mn=new u.OlP("@ngrx/store Feature Reducers"),Qn=new u.OlP("@ngrx/store User Provided Meta Reducers"),Ut=new u.OlP("@ngrx/store Meta Reducers"),Bt=new u.OlP("@ngrx/store Internal Resolved Meta Reducers"),Pn=new u.OlP("@ngrx/store User Runtime Checks Config"),In=new u.OlP("@ngrx/store Internal User Runtime Checks Config"),gt=new u.OlP("@ngrx/store Internal Runtime Checks"),ht=new u.OlP("@ngrx/store Check if Action types are unique");function Ue(ge,pt={}){const Ge=Object.keys(ge),tt={};for(let Vt=0;Vt<Ge.length;Vt++){const cn=Ge[Vt];"function"==typeof ge[cn]&&(tt[cn]=ge[cn])}const kt=Object.keys(tt);return function(cn,vr){cn=void 0===cn?pt:cn;let Ir=!1;const Xn={};for(let jn=0;jn<kt.length;jn++){const qr=kt[jn],bi=cn[qr],Wr=(0,tt[qr])(bi,vr);Xn[qr]=Wr,Ir=Ir||Wr!==bi}return Ir?Xn:cn}}function Et(...ge){return function(pt){if(0===ge.length)return pt;const Ge=ge[ge.length-1];return ge.slice(0,-1).reduceRight((kt,Vt)=>Vt(kt),Ge(pt))}}function ln(ge,pt){return Array.isArray(pt)&&pt.length>0&&(ge=Et.apply(null,[...pt,ge])),(Ge,tt)=>{const kt=ge(Ge);return(Vt,cn)=>kt(Vt=void 0===Vt?tt:Vt,cn)}}class zn extends j.y{}class _n extends vt{}const fn="@ngrx/store/update-reducers";let Hn=(()=>{class ge extends B.X{constructor(Ge,tt,kt,Vt){super(Vt(kt,tt)),this.dispatcher=Ge,this.initialState=tt,this.reducers=kt,this.reducerFactory=Vt}get currentReducers(){return this.reducers}addFeature(Ge){this.addFeatures([Ge])}addFeatures(Ge){const tt=Ge.reduce((kt,{reducers:Vt,reducerFactory:cn,metaReducers:vr,initialState:Ir,key:Xn})=>{const jn="function"==typeof Vt?function Nn(ge){const pt=Array.isArray(ge)&&ge.length>0?Et(...ge):Ge=>Ge;return(Ge,tt)=>(Ge=pt(Ge),(kt,Vt)=>Ge(kt=void 0===kt?tt:kt,Vt))}(vr)(Vt,Ir):ln(cn,vr)(Vt,Ir);return kt[Xn]=jn,kt},{});this.addReducers(tt)}removeFeature(Ge){this.removeFeatures([Ge])}removeFeatures(Ge){this.removeReducers(Ge.map(tt=>tt.key))}addReducer(Ge,tt){this.addReducers({[Ge]:tt})}addReducers(Ge){this.reducers=Object.assign(Object.assign({},this.reducers),Ge),this.updateReducers(Object.keys(Ge))}removeReducer(Ge){this.removeReducers([Ge])}removeReducers(Ge){Ge.forEach(tt=>{this.reducers=function We(ge,pt){return Object.keys(ge).filter(Ge=>Ge!==pt).reduce((Ge,tt)=>Object.assign(Ge,{[tt]:ge[tt]}),{})}(this.reducers,tt)}),this.updateReducers(Ge)}updateReducers(Ge){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:fn,features:Ge})}ngOnDestroy(){this.complete()}}return ge.\u0275fac=function(Ge){return new(Ge||ge)(u.LFG(_n),u.LFG(Ke),u.LFG(xe),u.LFG(ct))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const $n=[Hn,{provide:zn,useExisting:Hn},{provide:_n,useExisting:vt}];let sr=(()=>{class ge extends te.x{ngOnDestroy(){this.complete()}}return ge.\u0275fac=function(){let pt;return function(tt){return(pt||(pt=u.n5z(ge)))(tt||ge)}}(),ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const qt=[sr];class sn extends j.y{}let Rn=(()=>{class ge extends B.X{constructor(Ge,tt,kt,Vt){super(Vt);const Xn=Ge.pipe((0,le.Q)(Q.N)).pipe((0,ee.M)(tt)).pipe((0,X.R)(rr,{state:Vt}));this.stateSubscription=Xn.subscribe(({state:jn,action:qr})=>{this.next(jn),kt.next(qr)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return ge.INIT=Ve,ge.\u0275fac=function(Ge){return new(Ge||ge)(u.LFG(vt),u.LFG(zn),u.LFG(sr),u.LFG(Ke))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac}),ge})();function rr(ge={state:void 0},[pt,Ge]){const{state:tt}=ge;return{state:Ge(tt,pt),action:pt}}const Mr=[Rn,{provide:sn,useExisting:Rn}];let jr=(()=>{class ge extends j.y{constructor(Ge,tt,kt){super(),this.actionsObserver=tt,this.reducerManager=kt,this.source=Ge}select(Ge,...tt){return be.call(null,Ge,...tt)(this)}lift(Ge){const tt=new ge(this,this.actionsObserver,this.reducerManager);return tt.operator=Ge,tt}dispatch(Ge){this.actionsObserver.next(Ge)}next(Ge){this.actionsObserver.next(Ge)}error(Ge){this.actionsObserver.error(Ge)}complete(){this.actionsObserver.complete()}addReducer(Ge,tt){this.reducerManager.addReducer(Ge,tt)}removeReducer(Ge){this.reducerManager.removeReducer(Ge)}}return ge.\u0275fac=function(Ge){return new(Ge||ge)(u.LFG(sn),u.LFG(vt),u.LFG(Hn))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const dt=[jr];function be(ge,pt,...Ge){return function(kt){let Vt;if("string"==typeof ge){const cn=[pt,...Ge].filter(Boolean);Vt=kt.pipe(function ue(...ge){const pt=ge.length;if(0===pt)throw new Error("list of properties cannot be empty.");return(0,ce.U)(Ge=>{let tt=Ge;for(let kt=0;kt<pt;kt++){const Vt=null==tt?void 0:tt[ge[kt]];if(void 0===Vt)return;tt=Vt}return tt})}(ge,...cn))}else{if("function"!=typeof ge)throw new TypeError(`Unexpected type '${typeof ge}' in select operator, expected 'string' or 'function'`);Vt=kt.pipe((0,ce.U)(cn=>ge(cn,pt)))}return Vt.pipe((0,ie.x)())}}const It="https://ngrx.io/guide/store/configuration/runtime-checks";function at(ge){return void 0===ge}function bt(ge){return null===ge}function Ht(ge){return Array.isArray(ge)}function Dr(ge){return"object"==typeof ge&&null!==ge}function Rt(ge){return"function"==typeof ge}function Se(ge){Object.freeze(ge);const pt=Rt(ge);return Object.getOwnPropertyNames(ge).forEach(Ge=>{if(!Ge.startsWith("\u0275")&&function yn(ge,pt){return Object.prototype.hasOwnProperty.call(ge,pt)}(ge,Ge)&&(!pt||"caller"!==Ge&&"callee"!==Ge&&"arguments"!==Ge)){const tt=ge[Ge];(Dr(tt)||Rt(tt))&&!Object.isFrozen(tt)&&Se(tt)}}),ge}function Ft(ge,pt=[]){return(at(ge)||bt(ge))&&0===pt.length?{path:["root"],value:ge}:Object.keys(ge).reduce((tt,kt)=>{if(tt)return tt;const Vt=ge[kt];return function kn(ge){return Rt(ge)&&ge.hasOwnProperty("\u0275cmp")}(Vt)?tt:!(at(Vt)||bt(Vt)||function un(ge){return"number"==typeof ge}(Vt)||function en(ge){return"boolean"==typeof ge}(Vt)||function xn(ge){return"string"==typeof ge}(Vt)||Ht(Vt))&&(function Jn(ge){if(!function cr(ge){return Dr(ge)&&!Ht(ge)}(ge))return!1;const pt=Object.getPrototypeOf(ge);return pt===Object.prototype||null===pt}(Vt)?Ft(Vt,[...pt,kt]):{path:[...pt,kt],value:Vt})},!1)}function tn(ge,pt){if(!1===ge)return;const Ge=ge.path.join("."),tt=new Error(`Detected unserializable ${pt} at "${Ge}". ${It}#strict${pt}serializability`);throw tt.value=ge.value,tt.unserializablePath=Ge,tt}function Cr(ge){return(0,u.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},ge):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function fi({strictActionSerializability:ge,strictStateSerializability:pt}){return Ge=>ge||pt?function mt(ge,pt){return function(Ge,tt){pt.action(tt)&&tn(Ft(tt),"action");const kt=ge(Ge,tt);return pt.state()&&tn(Ft(kt),"state"),kt}}(Ge,{action:tt=>ge&&!si(tt),state:()=>pt}):Ge}function Vr({strictActionImmutability:ge,strictStateImmutability:pt}){return Ge=>ge||pt?function se(ge,pt){return function(Ge,tt){const kt=pt.action(tt)?Se(tt):tt,Vt=ge(Ge,kt);return pt.state()?Se(Vt):Vt}}(Ge,{action:tt=>ge&&!si(tt),state:()=>pt}):Ge}function si(ge){return ge.type.startsWith("@ngrx")}function Or({strictActionWithinNgZone:ge}){return pt=>ge?function Gn(ge,pt){return function(Ge,tt){if(pt.action(tt)&&!u.R0b.isInAngularZone())throw new Error(`Action '${tt.type}' running outside NgZone. ${It}#strictactionwithinngzone`);return ge(Ge,tt)}}(pt,{action:Ge=>ge&&!si(Ge)}):pt}function oi(ge){return[{provide:In,useValue:ge},{provide:Pn,useFactory:Pt,deps:[In]},{provide:gt,deps:[Pn],useFactory:Cr},{provide:Ut,multi:!0,deps:[gt],useFactory:Vr},{provide:Ut,multi:!0,deps:[gt],useFactory:fi},{provide:Ut,multi:!0,deps:[gt],useFactory:Or}]}function di(){return[{provide:ht,multi:!0,deps:[gt],useFactory:Fn}]}function Pt(ge){return ge}function Fn(ge){if(!ge.strictActionTypeUniqueness)return;const pt=Object.entries(fe).filter(([,Ge])=>Ge>1).map(([Ge])=>Ge);if(pt.length)throw new Error(`Action types are registered more than once, ${pt.map(Ge=>`"${Ge}"`).join(", ")}. ${It}#strictactiontypeuniqueness`)}let dr=(()=>{class ge{constructor(Ge,tt,kt,Vt,cn,vr){}}return ge.\u0275fac=function(Ge){return new(Ge||ge)(u.LFG(vt),u.LFG(zn),u.LFG(sr),u.LFG(jr),u.LFG(ke,8),u.LFG(ht,8))},ge.\u0275mod=u.oAB({type:ge}),ge.\u0275inj=u.cJS({}),ge})(),Yr=(()=>{class ge{constructor(Ge,tt,kt,Vt,cn){this.features=Ge,this.featureReducers=tt,this.reducerManager=kt;const vr=Ge.map((Ir,Xn)=>{const qr=tt.shift()[Xn];return Object.assign(Object.assign({},Ir),{reducers:qr,initialState:or(Ir.initialState)})});kt.addFeatures(vr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return ge.\u0275fac=function(Ge){return new(Ge||ge)(u.LFG(He),u.LFG(Mn),u.LFG(Hn),u.LFG(dr),u.LFG(ht,8))},ge.\u0275mod=u.oAB({type:ge}),ge.\u0275inj=u.cJS({}),ge})(),hi=(()=>{class ge{static forRoot(Ge,tt={}){return{ngModule:dr,providers:[{provide:ke,useFactory:An,deps:[[jr,new u.FiY,new u.tp0]]},{provide:F,useValue:tt.initialState},{provide:Ke,useFactory:or,deps:[F]},{provide:ve,useValue:Ge},{provide:Fe,useExisting:Ge instanceof u.OlP?Ge:ve},{provide:xe,deps:[u.zs3,ve,[new u.tBr(Fe)]],useFactory:yr},{provide:Qn,useValue:tt.metaReducers?tt.metaReducers:[]},{provide:Bt,deps:[Ut,Qn],useFactory:Hr},{provide:At,useValue:tt.reducerFactory?tt.reducerFactory:Ue},{provide:ct,deps:[At,Bt],useFactory:ln},Tt,$n,qt,Mr,dt,oi(tt.runtimeChecks),di()]}}static forFeature(Ge,tt,kt={}){return{ngModule:Yr,providers:[{provide:it,multi:!0,useValue:Ge instanceof Object?{}:kt},{provide:ze,multi:!0,useValue:{key:Ge instanceof Object?Ge.name:Ge,reducerFactory:kt instanceof u.OlP||!kt.reducerFactory?Ue:kt.reducerFactory,metaReducers:kt instanceof u.OlP||!kt.metaReducers?[]:kt.metaReducers,initialState:kt instanceof u.OlP||!kt.initialState?void 0:kt.initialState}},{provide:He,deps:[u.zs3,it,ze],useFactory:ni},{provide:Ze,multi:!0,useValue:Ge instanceof Object?Ge.reducer:tt},{provide:$t,multi:!0,useExisting:tt instanceof u.OlP?tt:Ze},{provide:Mn,multi:!0,deps:[u.zs3,Ze,[new u.tBr($t)]],useFactory:Kn},di()]}}}return ge.\u0275fac=function(Ge){return new(Ge||ge)},ge.\u0275mod=u.oAB({type:ge}),ge.\u0275inj=u.cJS({}),ge})();function yr(ge,pt){return pt instanceof u.OlP?ge.get(pt):pt}function ni(ge,pt,Ge){return Ge.map((tt,kt)=>{if(pt[kt]instanceof u.OlP){const Vt=ge.get(pt[kt]);return{key:tt.key,reducerFactory:Vt.reducerFactory?Vt.reducerFactory:Ue,metaReducers:Vt.metaReducers?Vt.metaReducers:[],initialState:Vt.initialState}}return tt})}function Kn(ge,pt){return pt.map(tt=>tt instanceof u.OlP?ge.get(tt):tt)}function or(ge){return"function"==typeof ge?ge():ge}function Hr(ge,pt){return ge.concat(pt)}function An(ge){if(ge)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Ei(...ge){return{reducer:ge.pop(),types:ge.map(tt=>tt.type)}}function ri(ge,...pt){const Ge=new Map;for(const tt of pt)for(const kt of tt.types){const Vt=Ge.get(kt);Ge.set(kt,Vt?(vr,Ir)=>tt.reducer(Vt(vr,Ir),Ir):tt.reducer)}return function(tt=ge,kt){const Vt=Ge.get(kt.type);return Vt?Vt(tt,kt):tt}}},2290:(Ie,re,D)=>{D.d(re,{Rh:()=>Qn,_W:()=>He});var u=D(5e3),B=D(1777),j=D(7579),te=D(9808),Q=D(2313);const ce=["toast-component",""];function ue(gt,ht){if(1&gt){const Ue=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){return u.CHM(Ue),u.oxw().remove()}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function le(gt,ht){if(1&gt&&(u.ynx(0),u._uU(1),u.BQk()),2&gt){const Ue=u.oxw(2);u.xp6(1),u.hij("[",Ue.duplicatesCount+1,"]")}}function ee(gt,ht){if(1&gt&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,le,2,1,"ng-container",4),u.qZA()),2&gt){const Ue=u.oxw();u.Tol(Ue.options.titleClass),u.uIk("aria-label",Ue.title),u.xp6(1),u.hij(" ",Ue.title," "),u.xp6(1),u.Q6J("ngIf",Ue.duplicatesCount)}}function X(gt,ht){if(1&gt&&u._UZ(0,"div",7),2&gt){const Ue=u.oxw();u.Tol(Ue.options.messageClass),u.Q6J("innerHTML",Ue.message,u.oJD)}}function ie(gt,ht){if(1&gt&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&gt){const Ue=u.oxw();u.Tol(Ue.options.messageClass),u.uIk("aria-label",Ue.message),u.xp6(1),u.hij(" ",Ue.message," ")}}function fe(gt,ht){if(1&gt&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&gt){const Ue=u.oxw();u.xp6(1),u.Udp("width",Ue.width+"%")}}function et(gt,ht){if(1&gt){const Ue=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){return u.CHM(Ue),u.oxw().remove()}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function Ye(gt,ht){if(1&gt&&(u.ynx(0),u._uU(1),u.BQk()),2&gt){const Ue=u.oxw(2);u.xp6(1),u.hij("[",Ue.duplicatesCount+1,"]")}}function Qe(gt,ht){if(1&gt&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,Ye,2,1,"ng-container",4),u.qZA()),2&gt){const Ue=u.oxw();u.Tol(Ue.options.titleClass),u.uIk("aria-label",Ue.title),u.xp6(1),u.hij(" ",Ue.title," "),u.xp6(1),u.Q6J("ngIf",Ue.duplicatesCount)}}function nt(gt,ht){if(1&gt&&u._UZ(0,"div",7),2&gt){const Ue=u.oxw();u.Tol(Ue.options.messageClass),u.Q6J("innerHTML",Ue.message,u.oJD)}}function Ne(gt,ht){if(1&gt&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&gt){const Ue=u.oxw();u.Tol(Ue.options.messageClass),u.uIk("aria-label",Ue.message),u.xp6(1),u.hij(" ",Ue.message," ")}}function Ve(gt,ht){if(1&gt&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&gt){const Ue=u.oxw();u.xp6(1),u.Udp("width",Ue.width+"%")}}class ke{constructor(ht,Ue){this.component=ht,this.injector=Ue}attach(ht,Ue){return this._attachedHost=ht,ht.attach(this,Ue)}detach(){const ht=this._attachedHost;if(ht)return this._attachedHost=void 0,ht.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ht){this._attachedHost=ht}}class Ke{constructor(ht,Ue,We,Et,ln,Nn){this.toastId=ht,this.config=Ue,this.message=We,this.title=Et,this.toastType=ln,this.toastRef=Nn,this._onTap=new j.x,this._onAction=new j.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ht){this._onAction.next(ht)}onAction(){return this._onAction.asObservable()}}const ct={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},At=new u.OlP("ToastConfig");class xe{constructor(ht){this._overlayRef=ht,this.duplicatesCount=0,this._afterClosed=new j.x,this._activate=new j.x,this._manualClose=new j.x,this._resetTimeout=new j.x,this._countDuplicate=new j.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ht,Ue){ht&&this._resetTimeout.next(),Ue&&this._countDuplicate.next(++this.duplicatesCount)}}class ve{constructor(ht,Ue){this._toastPackage=ht,this._parentInjector=Ue}get(ht,Ue,We){return ht===Ke?this._toastPackage:this._parentInjector.get(ht,Ue,We)}}class ze extends class F{attach(ht,Ue){return this._attachedPortal=ht,this.attachComponentPortal(ht,Ue)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ht){this._disposeFn=ht}}{constructor(ht,Ue,We){super(),this._hostDomElement=ht,this._componentFactoryResolver=Ue,this._appRef=We}attachComponentPortal(ht,Ue){const We=this._componentFactoryResolver.resolveComponentFactory(ht.component);let Et;return Et=We.create(ht.injector),this._appRef.attachView(Et.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Et.hostView),Et.destroy()}),Ue?this._hostDomElement.insertBefore(this._getComponentRootNode(Et),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Et)),Et}_getComponentRootNode(ht){return ht.hostView.rootNodes[0]}}class Fe{constructor(ht){this._portalHost=ht}attach(ht,Ue=!0){return this._portalHost.attach(ht,Ue)}detach(){return this._portalHost.detach()}}let Ze=(()=>{class gt{constructor(Ue){this._document=Ue}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ue=this._document.createElement("div");Ue.classList.add("overlay-container"),Ue.setAttribute("aria-live","polite"),this._document.body.appendChild(Ue),this._containerElement=Ue}}return gt.\u0275fac=function(Ue){return new(Ue||gt)(u.LFG(te.K0))},gt.\u0275prov=u.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"}),gt})(),it=(()=>{class gt{constructor(Ue,We,Et,ln){this._overlayContainer=Ue,this._componentFactoryResolver=We,this._appRef=Et,this._document=ln,this._paneElements=new Map}create(Ue,We){return this._createOverlayRef(this.getPaneElement(Ue,We))}getPaneElement(Ue="",We){return this._paneElements.get(We)||this._paneElements.set(We,{}),this._paneElements.get(We)[Ue]||(this._paneElements.get(We)[Ue]=this._createPaneElement(Ue,We)),this._paneElements.get(We)[Ue]}_createPaneElement(Ue,We){const Et=this._document.createElement("div");return Et.id="toast-container",Et.classList.add(Ue),Et.classList.add("toast-container"),We?We.getContainerElement().appendChild(Et):this._overlayContainer.getContainerElement().appendChild(Et),Et}_createPortalHost(Ue){return new ze(Ue,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ue){return new Fe(this._createPortalHost(Ue))}}return gt.\u0275fac=function(Ue){return new(Ue||gt)(u.LFG(Ze),u.LFG(u._Vd),u.LFG(u.z2F),u.LFG(te.K0))},gt.\u0275prov=u.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"}),gt})(),He=(()=>{class gt{constructor(Ue,We,Et,ln,Nn){this.overlay=We,this._injector=Et,this.sanitizer=ln,this.ngZone=Nn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},Ue.default),Ue.config),Ue.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},Ue.default.iconClasses),Ue.config.iconClasses))}show(Ue,We,Et={},ln=""){return this._preBuildNotification(ln,Ue,We,this.applyConfig(Et))}success(Ue,We,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ue,We,this.applyConfig(Et))}error(Ue,We,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ue,We,this.applyConfig(Et))}info(Ue,We,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ue,We,this.applyConfig(Et))}warning(Ue,We,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ue,We,this.applyConfig(Et))}clear(Ue){for(const We of this.toasts)if(void 0!==Ue){if(We.toastId===Ue)return void We.toastRef.manualClose()}else We.toastRef.manualClose()}remove(Ue){const We=this._findToast(Ue);if(!We||(We.activeToast.toastRef.close(),this.toasts.splice(We.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Et=this.toasts[this.currentlyActive].toastRef;Et.isInactive()||(this.currentlyActive=this.currentlyActive+1,Et.activate())}return!0}findDuplicate(Ue="",We="",Et,ln){const{includeTitleDuplicates:Nn}=this.toastrConfig;for(const zn of this.toasts){const _n=Nn&&zn.title===Ue;if((!Nn||_n)&&zn.message===We)return zn.toastRef.onDuplicate(Et,ln),zn}return null}applyConfig(Ue={}){return Object.assign(Object.assign({},this.toastrConfig),Ue)}_findToast(Ue){for(let We=0;We<this.toasts.length;We++)if(this.toasts[We].toastId===Ue)return{index:We,activeToast:this.toasts[We]};return null}_preBuildNotification(Ue,We,Et,ln){return ln.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ue,We,Et,ln)):this._buildNotification(Ue,We,Et,ln)}_buildNotification(Ue,We,Et,ln){if(!ln.toastComponent)throw new Error("toastComponent required");const Nn=this.findDuplicate(Et,We,this.toastrConfig.resetTimeoutOnDuplicate&&ln.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Et||We)&&this.toastrConfig.preventDuplicates&&null!==Nn)return Nn;this.previousToastMessage=We;let zn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(zn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _n=this.overlay.create(ln.positionClass,this.overlayContainer);this.index=this.index+1;let fn=We;We&&ln.enableHtml&&(fn=this.sanitizer.sanitize(u.q3G.HTML,We));const Hn=new xe(_n),$n=new Ke(this.index,ln,fn,Et,Ue,Hn),sr=new ve($n,this._injector),qt=new ke(ln.toastComponent,sr),sn=_n.attach(qt,this.toastrConfig.newestOnTop);Hn.componentInstance=sn.instance;const Rn={toastId:this.index,title:Et||"",message:We||"",toastRef:Hn,onShown:Hn.afterActivate(),onHidden:Hn.afterClosed(),onTap:$n.onTap(),onAction:$n.onAction(),portal:sn};return zn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Rn.toastRef.activate()})),this.toasts.push(Rn),Rn}}return gt.\u0275fac=function(Ue){return new(Ue||gt)(u.LFG(At),u.LFG(it),u.LFG(u.zs3),u.LFG(Q.H7),u.LFG(u.R0b))},gt.\u0275prov=u.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"}),gt})(),$t=(()=>{class gt{constructor(Ue,We,Et){this.toastrService=Ue,this.toastPackage=We,this.ngZone=Et,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=We.message,this.title=We.title,this.options=We.config,this.originalTimeout=We.config.timeOut,this.toastClasses=`${We.toastType} ${We.config.toastClass}`,this.sub=We.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=We.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=We.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=We.toastRef.countDuplicate().subscribe(ln=>{this.duplicatesCount=ln})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ue=(new Date).getTime();this.width=(this.hideTime-Ue)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ue,We){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ue),We)):this.timeout=setTimeout(()=>Ue(),We)}outsideInterval(Ue,We){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ue),We)):this.intervalId=setInterval(()=>Ue(),We)}runInsideAngular(Ue){this.ngZone?this.ngZone.run(()=>Ue()):Ue()}}return gt.\u0275fac=function(Ue){return new(Ue||gt)(u.Y36(He),u.Y36(Ke),u.Y36(u.R0b))},gt.\u0275cmp=u.Xpm({type:gt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ue,We){1&Ue&&u.NdJ("click",function(){return We.tapToast()})("mouseenter",function(){return We.stickAround()})("mouseleave",function(){return We.delayedHideToast()}),2&Ue&&(u.d8E("@flyInOut",We.state),u.Tol(We.toastClasses),u.Udp("display",We.displayStyle))},attrs:ce,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ue,We){1&Ue&&(u.YNc(0,ue,3,0,"button",0),u.YNc(1,ee,3,5,"div",1),u.YNc(2,X,1,3,"div",2),u.YNc(3,ie,2,4,"div",3),u.YNc(4,fe,2,2,"div",4)),2&Ue&&(u.Q6J("ngIf",We.options.closeButton),u.xp6(1),u.Q6J("ngIf",We.title),u.xp6(1),u.Q6J("ngIf",We.message&&We.options.enableHtml),u.xp6(1),u.Q6J("ngIf",We.message&&!We.options.enableHtml),u.xp6(1),u.Q6J("ngIf",We.options.progressBar))},directives:[te.O5],encapsulation:2,data:{animation:[(0,B.X$)("flyInOut",[(0,B.SB)("inactive",(0,B.oB)({opacity:0})),(0,B.SB)("active",(0,B.oB)({opacity:1})),(0,B.SB)("removed",(0,B.oB)({opacity:0})),(0,B.eR)("inactive => active",(0,B.jt)("{{ easeTime }}ms {{ easing }}")),(0,B.eR)("active => removed",(0,B.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),gt})();const Mn=Object.assign(Object.assign({},ct),{toastComponent:$t});let Qn=(()=>{class gt{static forRoot(Ue={}){return{ngModule:gt,providers:[{provide:At,useValue:{default:Mn,config:Ue}}]}}}return gt.\u0275fac=function(Ue){return new(Ue||gt)},gt.\u0275mod=u.oAB({type:gt}),gt.\u0275inj=u.cJS({imports:[[te.ez]]}),gt})(),Bt=(()=>{class gt{constructor(Ue,We,Et){this.toastrService=Ue,this.toastPackage=We,this.appRef=Et,this.width=-1,this.toastClasses="",this.state="inactive",this.message=We.message,this.title=We.title,this.options=We.config,this.originalTimeout=We.config.timeOut,this.toastClasses=`${We.toastType} ${We.config.toastClass}`,this.sub=We.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=We.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=We.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=We.toastRef.countDuplicate().subscribe(ln=>{this.duplicatesCount=ln})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ue=(new Date).getTime();this.width=(this.hideTime-Ue)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return gt.\u0275fac=function(Ue){return new(Ue||gt)(u.Y36(He),u.Y36(Ke),u.Y36(u.z2F))},gt.\u0275cmp=u.Xpm({type:gt,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(Ue,We){1&Ue&&u.NdJ("click",function(){return We.tapToast()})("mouseenter",function(){return We.stickAround()})("mouseleave",function(){return We.delayedHideToast()}),2&Ue&&(u.Tol(We.toastClasses),u.Udp("display",We.displayStyle))},attrs:ce,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ue,We){1&Ue&&(u.YNc(0,et,3,0,"button",0),u.YNc(1,Qe,3,5,"div",1),u.YNc(2,nt,1,3,"div",2),u.YNc(3,Ne,2,4,"div",3),u.YNc(4,Ve,2,2,"div",4)),2&Ue&&(u.Q6J("ngIf",We.options.closeButton),u.xp6(1),u.Q6J("ngIf",We.title),u.xp6(1),u.Q6J("ngIf",We.message&&We.options.enableHtml),u.xp6(1),u.Q6J("ngIf",We.message&&!We.options.enableHtml),u.xp6(1),u.Q6J("ngIf",We.options.progressBar))},directives:[te.O5],encapsulation:2}),gt})();Object.assign(Object.assign({},ct),{toastComponent:Bt})},5861:(Ie,re,D)=>{function u(j,te,Q,ce,ue,le,ee){try{var X=j[le](ee),ie=X.value}catch(fe){return void Q(fe)}X.done?te(ie):Promise.resolve(ie).then(ce,ue)}function B(j){return function(){var te=this,Q=arguments;return new Promise(function(ce,ue){var le=j.apply(te,Q);function ee(ie){u(le,ce,ue,ee,X,"next",ie)}function X(ie){u(le,ce,ue,ee,X,"throw",ie)}ee(void 0)})}}D.d(re,{Z:()=>B})}},Ie=>{Ie(Ie.s=5575)}]);